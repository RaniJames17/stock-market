/*! For license information please see main.2f8bdbbb.js.LICENSE.txt */
(()=>{var e={86:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>w,ThemeContext:()=>i.T,css:()=>y.AH,default:()=>k,internal_processStyles:()=>T,internal_serializeStyles:()=>_,keyframes:()=>y.i7});var r=n(8168),i=n(7370),s=n(9015),o=n(6477),a=n(1783),l=n(9950),u=n(7923),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=(0,u.A)(function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),d=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:d},f=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,o.s)(function(){return(0,a.sk)(t,n,r)}),null},g=function e(t,n){var o,u,c=t.__emotion_real===t,h=c&&t.__emotion_base||t;void 0!==n&&(o=n.label,u=n.target);var d=f(t,n,c),g=d||p(h),y=!g("as");return function(){var x=arguments,b=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==x[0]||void 0===x[0].raw)b.push.apply(b,x);else{var v=x[0];b.push(v[0]);for(var w=x.length,S=1;S<w;S++)b.push(x[S],v[S])}var k=(0,i.w)(function(e,t,n){var r=y&&e.as||h,o="",c=[],f=e;if(null==e.theme){for(var x in f={},e)f[x]=e[x];f.theme=l.useContext(i.T)}"string"===typeof e.className?o=(0,a.Rk)(t.registered,c,e.className):null!=e.className&&(o=e.className+" ");var v=(0,s.J)(b.concat(c),t.registered,f);o+=t.key+"-"+v.name,void 0!==u&&(o+=" "+u);var w=y&&void 0===d?p(r):g,S={};for(var k in e)y&&"as"===k||w(k)&&(S[k]=e[k]);return S.className=o,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,S))});return k.displayName=void 0!==o?o:"Styled("+("string"===typeof h?h:h.displayName||h.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=h,k.__emotion_styles=b,k.__emotion_forwardProp=d,Object.defineProperty(k,"toString",{value:function(){return"."+u}}),k.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:f(k,i,!0)})).apply(void 0,b)},k}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){g[e]=g(e)});var y=n(8283),x=n(8603),b=n(4414);const v=new Map;function w(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,s=l.useMemo(()=>{const e=`${t}-${n}`;if("object"===typeof document&&v.has(e))return v.get(e);const r=function(e,t){const n=(0,x.A)({key:"css",prepend:e});if(t){const e=n.insert;n.insert=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[1].styles.match(/^@layer\s+[^{]*$/)||(n[1].styles=`@layer mui {${n[1].styles}}`),e(...n)}}return n}(t,n);return v.set(e,r),r},[t,n]);return t||n?(0,b.jsx)(i.C,{value:s,children:r}):r}var S=n(3158);function k(e,t){return g(e,t)}const T=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},A=[];function _(e){return A[0]=e,(0,s.J)(A)}},237:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(8168),i=n(8587),s=n(7483),o=n(8076);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:o.A;return Object.keys(e).forEach(t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r};function u(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:o,otherProps:u}=l(n);let c;return c=Array.isArray(t)?[o,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,s.Q)(e)?(0,r.A)({},o,e):o}:(0,r.A)({},o,t),(0,r.A)({},u,{sx:c})}},304:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(5501)},505:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>l});var r=n(5501),i=n(6206),s=n(2703),o=n(8286),a=n(8076);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:u=e,themeKey:c,transform:h,style:d}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const p=(0,s.Yn)(n,c)||{};if(d)return d(a);return(0,o.NI)(a,t,t=>{let n=(0,s.BO)(p,h,t);return t===n&&"string"===typeof t&&(n=(0,s.BO)(p,h,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===u?n:{[u]:n}})}return function t(n){var r;const{sx:s,theme:l={},nested:u}=n||{};if(!s)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function h(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const s=(0,o.EU)(l.breakpoints),a=Object.keys(s);let h=s;return Object.keys(r).forEach(n=>{const s=(a=r[n],u=l,"function"===typeof a?a(u):a);var a,u;if(null!==s&&void 0!==s)if("object"===typeof s)if(c[n])h=(0,i.A)(h,e(n,s,l,c));else{const e=(0,o.NI)({theme:l},s,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),i=new Set(r);return t.every(e=>i.size===Object.keys(e).length)}(e,s)?h=(0,i.A)(h,e):h[n]=t({sx:s,theme:l,nested:!0})}else h=(0,i.A)(h,e(n,s,l,c))}),!u&&l.modularCssLayers?{"@layer sx":(0,o.vf)(a,h)}:(0,o.vf)(a,h)}return Array.isArray(s)?s.map(h):h(s)}}const u=l();u.filterProps=["sx"];const c=u},630:(e,t,n)=>{"use strict";e.exports=n(2138)},691:function(e,t,n){!function(e){"use strict";function t(e){return Math.max(0,e)}function r(e,t){return e<=0?0:t}var i=Object.freeze({__proto__:null,activate:t,measure:r});function s(e){return 1/(1+Math.exp(-e))}function o(e,t){return e*(1-e)*t}var a=Object.freeze({__proto__:null,activate:s,measure:o});function l(e){return Math.tanh(e)}function u(e,t){return(1-e*e)*t}var c=Object.freeze({__proto__:null,activate:l,measure:u});function h(e){return e>0?e:.01*e}function d(e,t){return e>0?t:.01*t}var p=Object.freeze({__proto__:null,activate:h,measure:d}),f=Object.freeze({__proto__:null,relu:i,sigmoid:a,tanh:c,leakyRelu:p}),m="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function g(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return y(e,void 0===t||null===t?n.path:t)}},n.exports),n.exports}function y(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var x=g(function(e,t){var n;n=function(){return function(){function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof y&&y;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){return i(t[o][1][e]||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof y&&y,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){!function(e,r){r("object"===typeof n&&"undefined"!==typeof t?n:(e=e||self).acorn={})}(this,function(e){var t={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},n="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",r={5:n,"5module":n+" export import",6:n+" const class extends export import super"},i=/^in(stanceof)?$/,s="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",o="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",a=new RegExp("["+s+"]"),l=new RegExp("["+s+o+"]");s=o=null;var u=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],c=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function h(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function d(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&a.test(String.fromCharCode(e)):!1!==t&&h(e,u)))}function p(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&l.test(String.fromCharCode(e)):!1!==t&&(h(e,u)||h(e,c)))))}var f=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function m(e,t){return new f(e,{beforeExpr:!0,binop:t})}var g={beforeExpr:!0},y={startsExpr:!0},x={};function b(e,t){return void 0===t&&(t={}),t.keyword=e,x[e]=new f(e,t)}var v={num:new f("num",y),regexp:new f("regexp",y),string:new f("string",y),name:new f("name",y),eof:new f("eof"),bracketL:new f("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new f("]"),braceL:new f("{",{beforeExpr:!0,startsExpr:!0}),braceR:new f("}"),parenL:new f("(",{beforeExpr:!0,startsExpr:!0}),parenR:new f(")"),comma:new f(",",g),semi:new f(";",g),colon:new f(":",g),dot:new f("."),question:new f("?",g),arrow:new f("=>",g),template:new f("template"),invalidTemplate:new f("invalidTemplate"),ellipsis:new f("...",g),backQuote:new f("`",y),dollarBraceL:new f("${",{beforeExpr:!0,startsExpr:!0}),eq:new f("=",{beforeExpr:!0,isAssign:!0}),assign:new f("_=",{beforeExpr:!0,isAssign:!0}),incDec:new f("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new f("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new f("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:m("%",10),star:m("*",10),slash:m("/",10),starstar:new f("**",{beforeExpr:!0}),_break:b("break"),_case:b("case",g),_catch:b("catch"),_continue:b("continue"),_debugger:b("debugger"),_default:b("default",g),_do:b("do",{isLoop:!0,beforeExpr:!0}),_else:b("else",g),_finally:b("finally"),_for:b("for",{isLoop:!0}),_function:b("function",y),_if:b("if"),_return:b("return",g),_switch:b("switch"),_throw:b("throw",g),_try:b("try"),_var:b("var"),_const:b("const"),_while:b("while",{isLoop:!0}),_with:b("with"),_new:b("new",{beforeExpr:!0,startsExpr:!0}),_this:b("this",y),_super:b("super",y),_class:b("class",y),_extends:b("extends",g),_export:b("export"),_import:b("import",y),_null:b("null",y),_true:b("true",y),_false:b("false",y),_in:b("in",{beforeExpr:!0,binop:7}),_instanceof:b("instanceof",{beforeExpr:!0,binop:7}),_typeof:b("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:b("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:b("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(w.source,"g");function k(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,A=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,_=Object.prototype,E=_.hasOwnProperty,C=_.toString;function D(e,t){return E.call(e,t)}var M=Array.isArray||function(e){return"[object Array]"===C.call(e)};function L(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var I=function(e,t){this.line=e,this.column=t};I.prototype.offset=function(e){return new I(this.line,this.column+e)};var P=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function O(e,t){for(var n=1,r=0;;){S.lastIndex=r;var i=S.exec(e);if(!(i&&i.index<t))return new I(n,t-r);++n,r=i.index+i[0].length}}var R={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function $(e){var t={};for(var n in R)t[n]=e&&D(e,n)?e[n]:R[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),M(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return M(t.onComment)&&(t.onComment=N(t,t.onComment)),t}function N(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new P(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}var F=1,z=2,V=F|z,j=4,B=8,W=16,U=32,K=64,H=128;function G(e,t){return z|(e?j:0)|(t?B:0)}var Y=0,X=1,q=2,Q=3,J=4,Z=5,ee=function(e,n,i){this.options=e=$(e),this.sourceFile=e.sourceFile,this.keywords=L(r[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var s="";if(!0!==e.allowReserved){for(var o=e.ecmaVersion;!(s=t[o]);o--);"module"===e.sourceType&&(s+=" await")}this.reservedWords=L(s);var a=(s?s+" ":"")+t.strict;this.reservedWordsStrict=L(a),this.reservedWordsStrictBind=L(a+" "+t.strictBind),this.input=String(n),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=v.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(F),this.regexpState=null},te={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};ee.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},te.inFunction.get=function(){return(this.currentVarScope().flags&z)>0},te.inGenerator.get=function(){return(this.currentVarScope().flags&B)>0},te.inAsync.get=function(){return(this.currentVarScope().flags&j)>0},te.allowSuper.get=function(){return(this.currentThisScope().flags&K)>0},te.allowDirectSuper.get=function(){return(this.currentThisScope().flags&H)>0},te.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ee.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&z)>0},ee.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},ee.parse=function(e,t){return new this(t,e).parse()},ee.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},ee.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(ee.prototype,te);var ne=ee.prototype,re=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function ie(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}ne.strictDirective=function(e){for(;;){A.lastIndex=e,e+=A.exec(this.input)[0].length;var t=re.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length,A.lastIndex=e,e+=A.exec(this.input)[0].length,";"===this.input[e]&&e++}},ne.eat=function(e){return this.type===e&&(this.next(),!0)},ne.isContextual=function(e){return this.type===v.name&&this.value===e&&!this.containsEsc},ne.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},ne.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},ne.canInsertSemicolon=function(){return this.type===v.eof||this.type===v.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},ne.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ne.semicolon=function(){this.eat(v.semi)||this.insertSemicolon()||this.unexpected()},ne.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},ne.expect=function(e){this.eat(e)||this.unexpected()},ne.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},ne.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},ne.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},ne.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ne.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var se=ee.prototype;se.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==v.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var oe={kind:"loop"},ae={kind:"switch"};se.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;A.lastIndex=this.pos;var t=A.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(d(r,!0)){for(var s=n+1;p(this.input.charCodeAt(s),!0);)++s;var o=this.input.slice(n,s);if(!i.test(o))return!0}return!1},se.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;A.lastIndex=this.pos;var e=A.exec(this.input),t=this.pos+e[0].length;return!w.test(this.input.slice(this.pos,t))&&"function"===this.input.slice(t,t+8)&&(t+8===this.input.length||!p(this.input.charAt(t+8)))},se.parseStatement=function(e,t,n){var r,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=v._var,r="let"),i){case v._break:case v._continue:return this.parseBreakContinueStatement(s,i.keyword);case v._debugger:return this.parseDebuggerStatement(s);case v._do:return this.parseDoStatement(s);case v._for:return this.parseForStatement(s);case v._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case v._class:return e&&this.unexpected(),this.parseClass(s,!0);case v._if:return this.parseIfStatement(s);case v._return:return this.parseReturnStatement(s);case v._switch:return this.parseSwitchStatement(s);case v._throw:return this.parseThrowStatement(s);case v._try:return this.parseTryStatement(s);case v._const:case v._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case v._while:return this.parseWhileStatement(s);case v._with:return this.parseWithStatement(s);case v.braceL:return this.parseBlock(!0,s);case v.semi:return this.parseEmptyStatement(s);case v._export:case v._import:if(this.options.ecmaVersion>10&&i===v._import){A.lastIndex=this.pos;var o=A.exec(this.input),a=this.pos+o[0].length;if(40===this.input.charCodeAt(a))return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===v._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var l=this.value,u=this.parseExpression();return i===v.name&&"Identifier"===u.type&&this.eat(v.colon)?this.parseLabeledStatement(s,l,u,e):this.parseExpressionStatement(s,u)}},se.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(v.semi)||this.insertSemicolon()?e.label=null:this.type!==v.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},se.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},se.parseDoStatement=function(e){return this.next(),this.labels.push(oe),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(v._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(v.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},se.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(oe),this.enterScope(0),this.expect(v.parenL),this.type===v.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===v._var||this.type===v._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===v._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=new ie,o=this.parseExpression(!0,s);return this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===v._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(o,!1,s),this.checkLVal(o),this.parseForIn(e,o)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,o))},se.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,ue|(n?0:ce),!1,t)},se.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(v._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},se.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(v.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},se.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(v.braceL),this.labels.push(ae),this.enterScope(0);for(var n=!1;this.type!==v.braceR;)if(this.type===v._case||this.type===v._default){var r=this.type===v._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(v.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},se.parseThrowStatement=function(e){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var le=[];se.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===v._catch){var t=this.startNode();if(this.next(),this.eat(v.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?U:0),this.checkLVal(t.param,n?J:q),this.expect(v.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(v._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},se.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},se.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(oe),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},se.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},se.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},se.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===v._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var l=this.labels[a];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},se.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},se.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(v.braceL),e&&this.enterScope(0);!this.eat(v.braceR);){var n=this.parseStatement(null);t.body.push(n)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},se.parseFor=function(e,t){return e.init=t,this.expect(v.semi),e.test=this.type===v.semi?null:this.parseExpression(),this.expect(v.semi),e.update=this.type===v.parenR?null:this.parseExpression(),this.expect(v.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},se.parseForIn=function(e,t){var n=this.type===v._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(v.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},se.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(v.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===v._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===v._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(v.comma))break}return e},se.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?X:q,!1)};var ue=1,ce=2,he=4;se.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===v.star&&t&ce&&this.unexpected(),e.generator=this.eat(v.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&ue&&(e.id=t&he&&this.type!==v.name?null:this.parseIdent(),!e.id||t&ce||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?X:q:Q));var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(G(e.async,e.generator)),t&ue||(e.id=this.type===v.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,t&ue?"FunctionDeclaration":"FunctionExpression")},se.parseFunctionParams=function(e){this.expect(v.parenL),e.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},se.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;for(r.body=[],this.expect(v.braceL);!this.eat(v.braceR);){var s=this.parseClassElement(null!==e.superClass);s&&(r.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0))}return e.body=this.finishNode(r,"ClassBody"),this.strict=n,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},se.parseClassElement=function(e){var t=this;if(this.eat(v.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,s=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===v.parenL||r&&t.canInsertSemicolon())||(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,s),n.key.name=e,t.finishNode(n.key,"Identifier"),!1))};n.kind="method",n.static=r("static");var i=this.eat(v.star),s=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(v.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var o=n.key,a=!1;return n.computed||n.static||!("Identifier"===o.type&&"constructor"===o.name||"Literal"===o.type&&"constructor"===o.value)?n.static&&"Identifier"===o.type&&"prototype"===o.name&&this.raise(o.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(o.start,"Constructor can't have get/set modifier"),i&&this.raise(o.start,"Constructor can't be a generator"),s&&this.raise(o.start,"Constructor can't be an async method"),n.kind="constructor",a=e),this.parseClassMethod(n,i,s,a),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},se.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},se.parseClassId=function(e,t){this.type===v.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,q,!1)):(!0===t&&this.unexpected(),e.id=null)},se.parseClassSuper=function(e){e.superClass=this.eat(v._extends)?this.parseExprSubscripts():null},se.parseExport=function(e,t){if(this.next(),this.eat(v.star))return this.expectContextual("from"),this.type!==v.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(v._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===v._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,ue|he,!1,n)}else if(this.type===v._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==v.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,o=e.specifiers;s<o.length;s+=1){var a=o[s];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},se.checkExport=function(e,t,n){e&&(D(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},se.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if("ArrayPattern"===n)for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},se.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},se.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},se.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(v.braceL);!this.eat(v.braceR);){if(n)n=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},se.parseImport=function(e){return this.next(),this.type===v.string?(e.specifiers=le,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===v.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},se.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===v.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,q),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(v.comma))return e}if(this.type===v.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,q),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(v.braceL);!this.eat(v.braceR);){if(t)t=!1;else if(this.expect(v.comma),this.afterTrailingComma(v.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,q),e.push(this.finishNode(i,"ImportSpecifier"))}return e},se.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},se.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"===typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var de=ee.prototype;de.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},de.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},de.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},de.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==v.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},de.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case v.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(v.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case v.braceL:return this.parseObj(!0)}return this.parseIdent()},de.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(v.comma),t&&this.type===v.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===v.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),r.push(s),this.type===v.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),r.push(o)}return r},de.parseBindingListItem=function(e){return e},de.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(v.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},de.checkLVal=function(e,t,n){switch(void 0===t&&(t=Y),e.type){case"Identifier":t===q&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(D(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Y&&t!==Z&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLVal(s,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLVal(l,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var pe=ee.prototype;pe.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type)&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var o=t[r="$"+r];o?("init"===s?this.strict&&o.init||o.get||o.set:o.init||o[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):o=t[r]={init:!1,get:!1,set:!1},o[s]=!0}}},pe.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===v.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(v.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},pe.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new ie,r=!0);var o=this.start,a=this.startLoc;this.type!==v.parenL&&this.type!==v.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,o,a)),this.type.isAssign){var u=this.startNodeAt(o,a);return u.operator=this.value,u.left=this.type===v.eq?this.toAssignable(l,!1,t):l,r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.left.start&&(t.shorthandAssign=-1),this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l},pe.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(v.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(v.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},pe.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},pe.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==v._in)&&s>r){var o=this.type===v.logicalOR||this.type===v.logicalAND,a=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,s,i),h=this.buildBinary(t,n,e,c,a,o);return this.parseExprOp(h,t,n,r,i)}return e},pe.buildBinary=function(e,t,n,r,i,s){var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")},pe.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),o=this.type===v.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),o?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(s,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var a=this.startNodeAt(r,i);a.operator=this.value,a.prefix=!1,a.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(a,"UpdateExpression")}}return!t&&this.eat(v.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},pe.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},pe.parseSubscripts=function(e,t,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var s=this.parseSubscript(e,t,n,r,i);if(s===e||"ArrowFunctionExpression"===s.type)return s;e=s}},pe.parseSubscript=function(e,t,n,r,i){var s=this.eat(v.bracketL);if(s||this.eat(v.dot)){var o=this.startNodeAt(t,n);o.object=e,o.property=s?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),o.computed=!!s,s&&this.expect(v.bracketR),e=this.finishNode(o,"MemberExpression")}else if(!r&&this.eat(v.parenL)){var a=new ie,l=this.yieldPos,u=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1,a);if(i&&!this.canInsertSemicolon()&&this.eat(v.arrow))return this.checkPatternErrors(a,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=u,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(a,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var d=this.startNodeAt(t,n);d.callee=e,d.arguments=h,e=this.finishNode(d,"CallExpression")}else if(this.type===v.backQuote){var p=this.startNodeAt(t,n);p.tag=e,p.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(p,"TaggedTemplateExpression")}return e},pe.parseExprAtom=function(e){this.type===v.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case v._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==v.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==v.dot&&this.type!==v.bracketL&&this.type!==v.parenL&&this.unexpected(),this.finishNode(t,"Super");case v._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case v.name:var r=this.start,i=this.startLoc,s=this.containsEsc,o=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===o.name&&!this.canInsertSemicolon()&&this.eat(v._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(v.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[o],!1);if(this.options.ecmaVersion>=8&&"async"===o.name&&this.type===v.name&&!s)return o=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(v.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[o],!0)}return o;case v.regexp:var a=this.value;return(t=this.parseLiteral(a.value)).regex={pattern:a.pattern,flags:a.flags},t;case v.num:case v.string:return this.parseLiteral(this.value);case v._null:case v._true:case v._false:return(t=this.startNode()).value=this.type===v._null?null:this.type===v._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case v.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),u;case v.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(v.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case v.braceL:return this.parseObj(!1,e);case v._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case v._class:return this.parseClass(this.startNode(),!1);case v._new:return this.parseNew();case v.backQuote:return this.parseTemplate();case v._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},pe.parseExprImport=function(){var e=this.startNode();if(this.next(),this.type===v.parenL)return this.parseDynamicImport(e);this.unexpected()},pe.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(v.parenR)){var t=this.start;this.eat(v.comma)&&this.eat(v.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},pe.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},pe.parseParenExpression=function(){this.expect(v.parenL);var e=this.parseExpression();return this.expect(v.parenR),e},pe.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,o=this.start,a=this.startLoc,l=[],u=!0,c=!1,h=new ie,d=this.yieldPos,p=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==v.parenR;){if(u?u=!1:this.expect(v.comma),i&&this.afterTrailingComma(v.parenR,!0)){c=!0;break}if(this.type===v.ellipsis){s=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===v.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(v.parenR),e&&!this.canInsertSemicolon()&&this.eat(v.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=p,this.parseParenArrowList(n,r,l);l.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,l.length>1?((t=this.startNodeAt(o,a)).expressions=l,this.finishNodeAt(t,"SequenceExpression",f,m)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=t,this.finishNode(g,"ParenthesizedExpression")}return t},pe.parseParenItem=function(e){return e},pe.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var fe=[];pe.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(v.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,s=this.type===v._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),s&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(v.parenL)?e.arguments=this.parseExprList(v.parenR,this.options.ecmaVersion>=8,!1):e.arguments=fe,this.finishNode(e,"NewExpression")},pe.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===v.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===v.backQuote,this.finishNode(n,"TemplateElement")},pe.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===v.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(v.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(v.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},pe.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===v.name||this.type===v.num||this.type===v.string||this.type===v.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===v.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},pe.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(v.braceR);){if(r)r=!1;else if(this.expect(v.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(v.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},pe.parseProperty=function(e,t){var n,r,i,s,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(v.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===v.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(this.type===v.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),o.argument=this.parseMaybeAssign(!1,t),this.type===v.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(n=this.eat(v.star)));var a=this.containsEsc;return this.parsePropertyName(o),!e&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(v.star),this.parsePropertyName(o,t)):r=!1,this.parsePropertyValue(o,e,n,r,i,s,t,a),this.finishNode(o,"Property")},pe.parsePropertyValue=function(e,t,n,r,i,s,o,a){if((n||r)&&this.type===v.colon&&this.unexpected(),this.eat(v.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===v.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===v.comma||this.type===v.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,e.key):this.type===v.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var u=e.value.start;"get"===e.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},pe.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(v.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(v.bracketR),e.key;e.computed=!1}return e.key=this.type===v.num||this.type===v.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},pe.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},pe.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(G(t,r.generator)|K|(n?H:0)),this.expect(v.parenL),r.params=this.parseBindingList(v.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")},pe.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(G(n,!1)|W),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},pe.parseFunctionBody=function(e,t,n){var r=t&&this.type!==v.braceL,i=this.strict,s=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!o||(s=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!i&&!s&&!t&&!n&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=a}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,Z),this.strict=i},pe.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},pe.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLVal(s,X,t?null:n)}},pe.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(v.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===v.comma?o=null:this.type===v.ellipsis?(o=this.parseSpread(r),r&&this.type===v.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i},pe.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},pe.parseIdent=function(e,t){var n=this.startNode();return this.type===v.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},pe.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===v.semi||this.canInsertSemicolon()||this.type!==v.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(v.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},pe.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var me=ee.prototype;me.raise=function(e,t){var n=O(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},me.raiseRecoverable=me.raise,me.curPosition=function(){if(this.options.locations)return new I(this.curLine,this.pos-this.lineStart)};var ge=ee.prototype,ye=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};ge.enterScope=function(e){this.scopeStack.push(new ye(e))},ge.exitScope=function(){this.scopeStack.pop()},ge.treatFunctionsAsVarInScope=function(e){return e.flags&z||!this.inModule&&e.flags&F},ge.declareName=function(e,t,n){var r=!1;if(t===q){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&F&&delete this.undefinedExports[e]}else if(t===J)this.currentScope().lexical.push(e);else if(t===Q){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var a=this.scopeStack[o];if(a.lexical.indexOf(e)>-1&&!(a.flags&U&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){r=!0;break}if(a.var.push(e),this.inModule&&a.flags&F&&delete this.undefinedExports[e],a.flags&V)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},ge.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},ge.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ge.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&V)return t}},ge.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&V&&!(t.flags&W))return t}};var xe=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new P(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},be=ee.prototype;function ve(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}be.startNode=function(){return new xe(this,this.start,this.startLoc)},be.startNodeAt=function(e,t){return new xe(this,e,t)},be.finishNode=function(e,t){return ve.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},be.finishNodeAt=function(e,t,n,r){return ve.call(this,e,t,n,r)};var we=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},Se={b_stat:new we("{",!1),b_expr:new we("{",!0),b_tmpl:new we("${",!1),p_stat:new we("(",!1),p_expr:new we("(",!0),q_tmpl:new we("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new we("function",!1),f_expr:new we("function",!0),f_expr_gen:new we("function",!0,!1,null,!0),f_gen:new we("function",!1,!1,null,!0)},ke=ee.prototype;ke.initialContext=function(){return[Se.b_stat]},ke.braceIsBlock=function(e){var t=this.curContext();return t===Se.f_expr||t===Se.f_stat||(e!==v.colon||t!==Se.b_stat&&t!==Se.b_expr?e===v._return||e===v.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):e===v._else||e===v.semi||e===v.eof||e===v.parenR||e===v.arrow||(e===v.braceL?t===Se.b_stat:e!==v._var&&e!==v._const&&e!==v.name&&!this.exprAllowed):!t.isExpr)},ke.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ke.updateContext=function(e){var t,n=this.type;n.keyword&&e===v.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},v.parenR.updateContext=v.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Se.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},v.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Se.b_stat:Se.b_expr),this.exprAllowed=!0},v.dollarBraceL.updateContext=function(){this.context.push(Se.b_tmpl),this.exprAllowed=!0},v.parenL.updateContext=function(e){var t=e===v._if||e===v._for||e===v._with||e===v._while;this.context.push(t?Se.p_stat:Se.p_expr),this.exprAllowed=!0},v.incDec.updateContext=function(){},v._function.updateContext=v._class.updateContext=function(e){!e.beforeExpr||e===v.semi||e===v._else||e===v._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(e===v.colon||e===v.braceL)&&this.curContext()===Se.b_stat?this.context.push(Se.f_stat):this.context.push(Se.f_expr),this.exprAllowed=!1},v.backQuote.updateContext=function(){this.curContext()===Se.q_tmpl?this.context.pop():this.context.push(Se.q_tmpl),this.exprAllowed=!1},v.star.updateContext=function(e){if(e===v._function){var t=this.context.length-1;this.context[t]===Se.f_expr?this.context[t]=Se.f_expr_gen:this.context[t]=Se.f_gen}this.exprAllowed=!0},v.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==v.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Te="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ae=Te+" Extended_Pictographic",_e={9:Te,10:Ae,11:Ae},Ee="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ce="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",De=Ce+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Me={9:Ce,10:De,11:De+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},Le={};function Ie(e){var t=Le[e]={binary:L(_e[e]+" "+Ee),nonBinary:{General_Category:L(Ee),Script:L(Me[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}Ie(9),Ie(10),Ie(11);var Pe=ee.prototype,Oe=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Le[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Re(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function $e(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function Ne(e){return d(e,!0)||36===e||95===e}function Fe(e){return p(e,!0)||36===e||95===e||8204===e||8205===e}function ze(e){return e>=65&&e<=90||e>=97&&e<=122}function Ve(e){return e>=0&&e<=1114111}function je(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function Be(e){return ze(e)||95===e}function We(e){return Be(e)||Ue(e)}function Ue(e){return e>=48&&e<=57}function Ke(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function He(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Ge(e){return e>=48&&e<=55}Oe.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Oe.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Oe.prototype.at=function(e){var t=this.source,n=t.length;if(e>=n)return-1;var r=t.charCodeAt(e);if(!this.switchU||r<=55295||r>=57344||e+1>=n)return r;var i=t.charCodeAt(e+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r},Oe.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(e>=n)return n;var r,i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n||(r=t.charCodeAt(e+1))<56320||r>57343?e+1:e+2},Oe.prototype.current=function(){return this.at(this.pos)},Oe.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Oe.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Oe.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},Pe.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Pe.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Pe.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},Pe.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Pe.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Pe.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Pe.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Pe.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Pe.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Pe.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Pe.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Pe.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Pe.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Pe.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Pe.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Pe.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Pe.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!$e(t)&&(e.lastIntValue=t,e.advance(),!0)},Pe.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!$e(n);)e.advance();return e.pos!==t},Pe.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},Pe.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Pe.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Pe.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Re(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Re(e.lastIntValue);return!0}return!1},Pe.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),Ne(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},Pe.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),Fe(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},Pe.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Pe.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Pe.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Pe.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Pe.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Pe.regexp_eatZero=function(e){return 48===e.current()&&!Ue(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Pe.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Pe.regexp_eatControlLetter=function(e){var t=e.current();return!!ze(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Pe.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(e.switchU&&n>=55296&&n<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(i>=56320&&i<=57343)return e.lastIntValue=1024*(n-55296)+(i-56320)+65536,!0}e.pos=r,e.lastIntValue=n}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&Ve(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},Pe.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},Pe.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Pe.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(je(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Pe.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},Pe.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){D(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Pe.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Pe.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Be(t=e.current());)e.lastStringValue+=Re(t),e.advance();return""!==e.lastStringValue},Pe.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";We(t=e.current());)e.lastStringValue+=Re(t),e.advance();return""!==e.lastStringValue},Pe.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Pe.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Pe.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Pe.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Ge(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Pe.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Pe.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Ue(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},Pe.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Pe.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Ue(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Pe.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Ke(n=e.current());)e.lastIntValue=16*e.lastIntValue+He(n),e.advance();return e.pos!==t},Pe.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},Pe.regexp_eatOctalDigit=function(e){var t=e.current();return Ge(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Pe.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Ke(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+He(i),e.advance()}return!0};var Ye=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new P(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Xe=ee.prototype;function qe(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}Xe.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ye(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Xe.getToken=function(){return this.next(),new Ye(this)},"undefined"!==typeof Symbol&&(Xe[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===v.eof,value:t}}}}),Xe.curContext=function(){return this.context[this.context.length-1]},Xe.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(v.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Xe.readToken=function(e){return d(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Xe.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Xe.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(S.lastIndex=n;(e=S.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},Xe.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!k(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Xe.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&T.test(String.fromCharCode(e))))break e;++this.pos}}},Xe.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Xe.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(v.ellipsis)):(++this.pos,this.finishToken(v.dot))},Xe.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(v.assign,2):this.finishOp(v.slash,1)},Xe.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?v.star:v.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=v.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(v.assign,n+1):this.finishOp(r,n)},Xe.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?v.logicalOR:v.logicalAND,2):61===t?this.finishOp(v.assign,2):this.finishOp(124===e?v.bitwiseOR:v.bitwiseAND,1)},Xe.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(v.assign,2):this.finishOp(v.bitwiseXOR,1)},Xe.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(v.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(v.assign,2):this.finishOp(v.plusMin,1)},Xe.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(v.assign,n+1):this.finishOp(v.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(v.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Xe.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(v.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(v.arrow)):this.finishOp(61===e?v.eq:v.prefix,1)},Xe.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(v.parenL);case 41:return++this.pos,this.finishToken(v.parenR);case 59:return++this.pos,this.finishToken(v.semi);case 44:return++this.pos,this.finishToken(v.comma);case 91:return++this.pos,this.finishToken(v.bracketL);case 93:return++this.pos,this.finishToken(v.bracketR);case 123:return++this.pos,this.finishToken(v.braceL);case 125:return++this.pos,this.finishToken(v.braceR);case 58:return++this.pos,this.finishToken(v.colon);case 63:return++this.pos,this.finishToken(v.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(v.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(v.prefix,1)}this.raise(this.pos,"Unexpected character '"+qe(e)+"'")},Xe.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Xe.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(w.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Oe(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch(u){}return this.finishToken(v.regexp,{pattern:i,flags:o,value:l})},Xe.readInt=function(e,t){for(var n=this.pos,r=0,i=0,s=null==t?1/0:t;i<s;++i){var o=this.input.charCodeAt(this.pos),a=void 0;if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=e)break;++this.pos,r=r*e+a}return this.pos===n||null!=t&&this.pos-n!==t?null:r},Xe.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n="undefined"!==typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,n)},Xe.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=this.input.slice(t,this.pos),s="undefined"!==typeof BigInt?BigInt(i):null;return++this.pos,d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(v.num,s)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=this.input.slice(t,this.pos),a=n?parseInt(o,8):parseFloat(o);return this.finishToken(v.num,a)},Xe.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Xe.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(k(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(v.string,t)};var Qe={};Xe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Qe)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Xe.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Qe;this.raise(e,t)},Xe.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==v.template&&this.type!==v.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(v.template,e)):36===n?(this.pos+=2,this.finishToken(v.dollarBraceL)):(++this.pos,this.finishToken(v.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(k(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Xe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(v.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Xe.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return qe(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return k(t)?"":String.fromCharCode(t)}},Xe.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Xe.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(p(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?d:p)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=qe(o),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},Xe.readWord=function(){var e=this.readWord1(),t=v.name;return this.keywords.test(e)&&(t=x[e]),this.finishToken(t,e)};var Je="7.1.0";function Ze(e,t){return ee.parse(e,t)}function et(e,t,n){return ee.parseExpressionAt(e,t,n)}function tt(e,t){return ee.tokenizer(e,t)}ee.acorn={Parser:ee,version:Je,defaultOptions:R,Position:I,SourceLocation:P,getLineInfo:O,Node:xe,TokenType:f,tokTypes:v,keywordTypes:x,TokContext:we,tokContexts:Se,isIdentifierChar:p,isIdentifierStart:d,Token:Ye,isNewLine:k,lineBreak:w,lineBreakG:S,nonASCIIwhitespace:T},e.Node=xe,e.Parser=ee,e.Position=I,e.SourceLocation=P,e.TokContext=we,e.Token=Ye,e.TokenType=f,e.defaultOptions=R,e.getLineInfo=O,e.isIdentifierChar=p,e.isIdentifierStart=d,e.isNewLine=k,e.keywordTypes=x,e.lineBreak=w,e.lineBreakG=S,e.nonASCIIwhitespace=T,e.parse=Ze,e.parseExpressionAt=et,e.tokContexts=Se,e.tokTypes=v,e.tokenizer=tt,e.version=Je,Object.defineProperty(e,"__esModule",{value:!0})})},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{contextName:n="gl",throwGetError:r,useTrackablePrimitives:o,readPixelsFile:l,recording:u=[],variables:c={},onReadPixels:h,onUnrecognizedArgumentLookup:d}=t,p=new Proxy(e,{get:b}),f=[],m={};let g,y=0,x="";return p;function b(t,p){switch(p){case"addComment":return E;case"checkThrowError":return C;case"getReadPixelsVariableName":return g;case"insertVariable":return S;case"reset":return w;case"setIndent":return T;case"toString":return v;case"getContextVariableName":return L}return"function"===typeof e[p]?function(){switch(p){case"getError":return r?u.push(`${x}if (${n}.getError() !== ${n}.NONE) throw new Error('error');`):u.push(`${x}${n}.getError();`),e.getError();case"getExtension":{const t=`${n}Variables${f.length}`;u.push(`${x}const ${t} = ${n}.getExtension('${arguments[0]}');`);const r=e.getExtension(arguments[0]);if(r&&"object"===typeof r){const e=i(r,{getEntity:k,useTrackablePrimitives:o,recording:u,contextName:t,contextVariables:f,variables:c,indent:x,onUnrecognizedArgumentLookup:d});return f.push(e),e}return f.push(null),r}case"readPixels":const t=f.indexOf(arguments[6]);let a;if(-1===t){const e=M(arguments[6]);e?(a=e,u.push(`${x}${e}`)):(a=`${n}Variable${f.length}`,f.push(arguments[6]),u.push(`${x}const ${a} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else a=`${n}Variable${t}`;g=a;const p=[arguments[0],arguments[1],arguments[2],arguments[3],k(arguments[4]),k(arguments[5]),a];return u.push(`${x}${n}.readPixels(${p.join(", ")});`),l&&_(arguments[2],arguments[3]),h&&h(a,p),e.readPixels.apply(e,arguments);case"drawBuffers":return u.push(`${x}${n}.drawBuffers([${s(arguments[0],{contextName:n,contextVariables:f,getEntity:k,addVariable:A,variables:c,onUnrecognizedArgumentLookup:d})}]);`),e.drawBuffers(arguments[0])}let t=e[p].apply(e,arguments);switch(typeof t){case"undefined":return void u.push(`${x}${D(p,arguments)};`);case"number":case"boolean":if(o&&-1===f.indexOf(a(t))){u.push(`${x}const ${n}Variable${f.length} = ${D(p,arguments)};`),f.push(t=a(t));break}default:null===t?u.push(`${D(p,arguments)};`):u.push(`${x}const ${n}Variable${f.length} = ${D(p,arguments)};`),f.push(t)}return t}:(m[e[p]]=p,e[p])}function v(){return u.join("\n")}function w(){for(;u.length>0;)u.pop()}function S(e,t){c[e]=t}function k(e){const t=m[e];return t?n+"."+t:e}function T(e){x=" ".repeat(e)}function A(e,t){const r=`${n}Variable${f.length}`;return u.push(`${x}const ${r} = ${t};`),f.push(e),r}function _(e,t){const r=`${n}Variable${f.length}`,i=`imageDatum${y}`;u.push(`${x}let ${i} = ["P3\\n# ${l}.ppm\\n", ${e}, ' ', ${t}, "\\n255\\n"].join("");`),u.push(`${x}for (let i = 0; i < ${i}.length; i += 4) {`),u.push(`${x}  ${i} += ${r}[i] + ' ' + ${r}[i + 1] + ' ' + ${r}[i + 2] + ' ';`),u.push(`${x}}`),u.push(`${x}if (typeof require !== "undefined") {`),u.push(`${x}  require('fs').writeFileSync('./${l}.ppm', ${i});`),u.push(`${x}}`),y++}function E(e){u.push(`${x}// ${e}`)}function C(){u.push(`${x}(() => {\n${x}const error = ${n}.getError();\n${x}if (error !== ${n}.NONE) {\n${x}  const names = Object.getOwnPropertyNames(gl);\n${x}  for (let i = 0; i < names.length; i++) {\n${x}    const name = names[i];\n${x}    if (${n}[name] === error) {\n${x}      throw new Error('${n} threw ' + name);\n${x}    }\n${x}  }\n${x}}\n${x}})();`)}function D(e,t){return`${n}.${e}(${s(t,{contextName:n,contextVariables:f,getEntity:k,addVariable:A,variables:c,onUnrecognizedArgumentLookup:d})})`}function M(e){if(c)for(const t in c)if(c[t]===e)return t;return null}function L(e){const t=f.indexOf(e);return-1!==t?`${n}Variable${t}`:null}}function i(e,t){const n=new Proxy(e,{get:f}),r={},{contextName:i,contextVariables:o,getEntity:l,useTrackablePrimitives:u,recording:c,variables:h,indent:d,onUnrecognizedArgumentLookup:p}=t;return n;function f(t,n){return"function"===typeof t[n]?function(){if("drawBuffersWEBGL"===n)return c.push(`${d}${i}.drawBuffersWEBGL([${s(arguments[0],{contextName:i,contextVariables:o,getEntity:m,addVariable:y,variables:h,onUnrecognizedArgumentLookup:p})}]);`),e.drawBuffersWEBGL(arguments[0]);let t=e[n].apply(e,arguments);switch(typeof t){case"undefined":return void c.push(`${d}${g(n,arguments)};`);case"number":case"boolean":u&&-1===o.indexOf(a(t))?(c.push(`${d}const ${i}Variable${o.length} = ${g(n,arguments)};`),o.push(t=a(t))):(c.push(`${d}const ${i}Variable${o.length} = ${g(n,arguments)};`),o.push(t));break;default:null===t?c.push(`${g(n,arguments)};`):c.push(`${d}const ${i}Variable${o.length} = ${g(n,arguments)};`),o.push(t)}return t}:(r[e[n]]=n,e[n])}function m(e){return r.hasOwnProperty(e)?`${i}.${r[e]}`:l(e)}function g(e,t){return`${i}.${e}(${s(t,{contextName:i,contextVariables:o,getEntity:m,addVariable:y,variables:h,onUnrecognizedArgumentLookup:p})})`}function y(e,t){const n=`${i}Variable${o.length}`;return o.push(e),c.push(`${d}const ${n} = ${t};`),n}}function s(e,t){const{variables:n,onUnrecognizedArgumentLookup:r}=t;return Array.from(e).map(e=>{const n=i(e);return n||o(e,t)}).join(", ");function i(e){if(n)for(const t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t;return r?r(e):null}}function o(e,t){const{contextName:n,contextVariables:r,getEntity:i,addVariable:s,onUnrecognizedArgumentLookup:o}=t;if("undefined"===typeof e)return"undefined";if(null===e)return"null";const a=r.indexOf(e);if(a>-1)return`${n}Variable${a}`;switch(e.constructor.name){case"String":const t=/\n/.test(e),n=/'/.test(e),r=/"/.test(e);return t?"`"+e+"`":n&&!r?'"'+e+'"':"'"+e+"'";case"Number":case"Boolean":return i(e);case"Array":return s(e,`new ${e.constructor.name}([${Array.from(e).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return s(e,`new ${e.constructor.name}(${JSON.stringify(Array.from(e))})`);default:if(o){const t=o(e);if(t)return t}throw new Error(`unrecognized argument type ${e.constructor.name}`)}}function a(e){return new e.constructor(e)}"undefined"!==typeof t&&(t.exports={glWiretap:r,glExtensionWiretap:i}),"undefined"!==typeof window&&(r.glExtensionWiretap=i,window.glWiretap=r)},{}],4:[function(e,t,n){function r(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];r.toArray?t[n]=r.toArray():t[n]=r}return t}function i(){const e=r(arguments),t=new Float32Array(this.output.x);for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=0,this.thread.z=0,t[n]=this._fn.apply(this,e);return t}function s(){const e=r(arguments),t=new Array(this.output.y);for(let n=0;n<this.output.y;n++){const r=new Float32Array(this.output.x);for(let t=0;t<this.output.x;t++)this.thread.x=t,this.thread.y=n,this.thread.z=0,r[t]=this._fn.apply(this,e);t[n]=r}return t}function o(){const e=r(arguments);for(let t=0;t<this.output.y;t++)for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=t,this.thread.z=0,this._fn.apply(this,e)}function a(){const e=r(arguments),t=new Array(this.output.z);for(let n=0;n<this.output.z;n++){const r=new Array(this.output.y);for(let t=0;t<this.output.y;t++){const i=new Float32Array(this.output.x);for(let r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=t,this.thread.z=n,i[r]=this._fn.apply(this,e);r[t]=i}t[n]=r}return t}function l(e){e.setOutput=t=>{e.output=c(t),e.graphical&&u(e)},e.toJSON=()=>{throw new Error("Not usable with gpuMock")},e.setConstants=t=>(e.constants=t,e),e.setGraphical=t=>(e.graphical=t,e),e.setCanvas=t=>(e.canvas=t,e),e.setContext=t=>(e.context=t,e),e.destroy=()=>{},e.validateSettings=()=>{},e.graphical&&e.output&&u(e),e.exec=function(){return new Promise((t,n)=>{try{t(e.apply(e,arguments))}catch(r){n(r)}})},e.getPixels=t=>{const{x:n,y:r}=e.output;return t?d(e._imageData.data,n,r):e._imageData.data.slice(0)},e.color=function(t,n,r,i){"undefined"===typeof i&&(i=1),t=Math.floor(255*t),n=Math.floor(255*n),r=Math.floor(255*r),i=Math.floor(255*i);const s=e.output.x,o=e.output.y,a=e.thread.x+(o-e.thread.y-1)*s;e._colorData[4*a+0]=t,e._colorData[4*a+1]=n,e._colorData[4*a+2]=r,e._colorData[4*a+3]=i};const t=()=>e,n=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let r=0;r<n.length;r++)e[n[r]]=t;return e}function u(e){const{x:t,y:n}=e.output;if(e.context&&e.context.createImageData){const r=new Uint8ClampedArray(t*n*4);e._imageData=e.context.createImageData(t,n),e._colorData=r}else{const r=new Uint8ClampedArray(t*n*4);e._imageData={data:r},e._colorData=r}}function c(e){let t=null;if(e.length)if(3===e.length){const[n,r,i]=e;t={x:n,y:r,z:i}}else if(2===e.length){const[n,r]=e;t={x:n,y:r}}else{const[n]=e;t={x:n}}else t=e;return t}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.output?c(t.output):null;function r(){return r.output.z?a.apply(r,arguments):r.output.y?r.graphical?o.apply(r,arguments):s.apply(r,arguments):i.apply(r,arguments)}return r._fn=e,r.constants=t.constants||null,r.context=t.context||null,r.canvas=t.canvas||null,r.graphical=t.graphical||!1,r._imageData=null,r._colorData=null,r.output=n,r.thread={x:0,y:0,z:0},l(r)}function d(e,t,n){const r=n/2|0,i=4*t,s=new Uint8ClampedArray(4*t),o=e.slice(0);for(let a=0;a<r;++a){const e=a*i,t=(n-a-1)*i;s.set(o.subarray(e,e+i)),o.copyWithin(e,t,t+i),o.set(s,t)}return o}t.exports={gpuMock:h}},{}],5:[function(e,t,n){const{utils:r}=e("./utils");function i(e,t){const n=t.toString();return new Function(`return function ${e} (${r.getArgumentNamesFromString(n).join(", ")}) {\n  ${r.getFunctionBodyFromString(n)}\n}`)()}t.exports={alias:i}},{"./utils":114}],6:[function(e,t,n){const{FunctionNode:r}=e("../function-node");class i extends r{astFunction(e,t){if(!this.isRootKernel){t.push("function"),t.push(" "),t.push(this.name),t.push("(");for(let e=0;e<this.argumentNames.length;++e){const n=this.argumentNames[e];e>0&&t.push(", "),t.push("user_"),t.push(n)}t.push(") {\n")}for(let n=0;n<e.body.body.length;++n)this.astGeneric(e.body.body[n],t),t.push("\n");return this.isRootKernel||t.push("}\n"),t}astReturnStatement(e,t){const n=this.returnType||this.getType(e.argument);return this.returnType||(this.returnType=n),this.isRootKernel?(t.push(this.leadingReturnStatement),this.astGeneric(e.argument,t),t.push(";\n"),t.push(this.followingReturnStatement),t.push("continue;\n")):this.isSubKernel?(t.push(`subKernelResult_${this.name} = `),this.astGeneric(e.argument,t),t.push(";"),t.push(`return subKernelResult_${this.name};`)):(t.push("return "),this.astGeneric(e.argument,t),t.push(";")),t}astLiteral(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);return t.push(e.value),t}astBinaryExpression(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);return"Infinity"===e.name?t.push("Infinity"):this.constants&&this.constants.hasOwnProperty(e.name)?t.push("constants_"+e.name):t.push("user_"+e.name),t}astForStatement(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);const n=[],r=[],i=[],s=[];let o=null;if(e.init){this.pushState("in-for-loop-init"),this.astGeneric(e.init,n);for(let e=0;e<n.length;e++)n[e].includes&&n[e].includes(",")&&(o=!1);this.popState("in-for-loop-init")}else o=!1;if(e.test?this.astGeneric(e.test,r):o=!1,e.update?this.astGeneric(e.update,i):o=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,s),this.popState("loop-body")),null===o&&(o=this.isSafe(e.init)&&this.isSafe(e.test)),o)t.push(`for (${n.join("")};${r.join("")};${i.join("")}){\n`),t.push(s.join("")),t.push("}\n");else{const e=this.getInternalVariableName("safeI");n.length>0&&t.push(n.join(""),";\n"),t.push(`for (let ${e}=0;${e}<LOOP_MAX;${e}++){\n`),r.length>0&&t.push(`if (!${r.join("")}) break;\n`),t.push(s.join("")),t.push(`\n${i.join("")};`),t.push("}\n")}return t}astWhileStatement(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),t.push("if ("),this.astGeneric(e.test,t),t.push(") {\n"),this.astGeneric(e.body,t),t.push("} else {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}astDoWhileStatement(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}astAssignmentExpression(e,t){const n=this.getDeclaration(e.left);if(n&&!n.assignable)throw this.astErrorOutput(`Variable ${e.left.name} is not assignable here`,e);return this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t}astBlockStatement(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);this.popState("block-body")}else{t.push("{\n");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);t.push("}\n")}return t}astVariableDeclaration(e,t){t.push(`${e.kind} `);const{declarations:n}=e;for(let r=0;r<n.length;r++){r>0&&t.push(",");const e=n[r],i=this.getDeclaration(e.id);i.valueType||(i.valueType=this.getType(e.init)),this.astGeneric(e,t)}return this.isState("in-for-loop-init")||t.push(";"),t}astIfStatement(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}astSwitchStatement(e,t){const{discriminant:n,cases:r}=e;t.push("switch ("),this.astGeneric(n,t),t.push(") {\n");for(let i=0;i<r.length;i++)null!==r[i].test?(t.push("case "),this.astGeneric(r[i].test,t),t.push(":\n"),r[i].consequent&&r[i].consequent.length>0&&(this.astGeneric(r[i].consequent,t),t.push("break;\n"))):(t.push("default:\n"),this.astGeneric(r[i].consequent,t),r[i].consequent&&r[i].consequent.length>0&&t.push("break;\n"));t.push("\n}")}astThisExpression(e,t){return t.push("_this"),t}astMemberExpression(e,t){const{signature:n,type:r,property:i,xProperty:s,yProperty:o,zProperty:a,name:l,origin:u}=this.getMemberExpressionDetails(e);switch(n){case"this.thread.value":return t.push(`_this.thread.${l}`),t;case"this.output.value":switch(l){case"x":t.push("outputX");break;case"y":t.push("outputY");break;case"z":t.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":default:throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value.value":if("Math"===u)return t.push(Math[l]),t;switch(i){case"r":return t.push(`user_${l}[0]`),t;case"g":return t.push(`user_${l}[1]`),t;case"b":return t.push(`user_${l}[2]`),t;case"a":return t.push(`user_${l}[3]`),t}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(e.object,t),t.push("["),this.astGeneric(e.property,t),t.push("]"),t;case"fn()[][]":return this.astGeneric(e.object.object,t),t.push("["),this.astGeneric(e.object.property,t),t.push("]"),t.push("["),this.astGeneric(e.property,t),t.push("]"),t}if(!e.computed)switch(r){case"Number":case"Integer":case"Float":case"Boolean":return t.push(`${u}_${l}`),t}const c=`${u}_${l}`;{let e,n;if("constants"===u){const t=this.constants[l];n="Input"===this.constantTypes[l],e=n?t.size:null}else n=this.isInput(l),e=n?this.argumentSizes[this.argumentNames.indexOf(l)]:null;t.push(`${c}`),a&&o?n?(t.push("[("),this.astGeneric(a,t),t.push(`*${this.dynamicArguments?"(outputY * outputX)":e[1]*e[0]})+(`),this.astGeneric(o,t),t.push(`*${this.dynamicArguments?"outputX":e[0]})+`),this.astGeneric(s,t),t.push("]")):(t.push("["),this.astGeneric(a,t),t.push("]"),t.push("["),this.astGeneric(o,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]")):o?n?(t.push("[("),this.astGeneric(o,t),t.push(`*${this.dynamicArguments?"outputX":e[0]})+`),this.astGeneric(s,t),t.push("]")):(t.push("["),this.astGeneric(o,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]")):"undefined"!==typeof s&&(t.push("["),this.astGeneric(s,t),t.push("]"))}return t}astCallExpression(e,t){if("CallExpression"!==e.type)throw this.astErrorOutput("Unknown CallExpression",e);let n=this.astMemberExpressionUnroll(e.callee);this.calledFunctions.indexOf(n)<0&&this.calledFunctions.push(n),this.isAstMathFunction(e),this.onFunctionCall&&this.onFunctionCall(this.name,n,e.arguments),t.push(n),t.push("(");const r=this.lookupFunctionArgumentTypes(n)||[];for(let i=0;i<e.arguments.length;++i){const s=e.arguments[i];let o=this.getType(s);r[i]||this.triggerImplyArgumentType(n,i,o,this),i>0&&t.push(", "),this.astGeneric(s,t)}return t.push(")"),t}astArrayExpression(e,t){const n=this.getType(e),r=e.elements.length,i=[];for(let s=0;s<r;++s){const t=[];this.astGeneric(e.elements[s],t),i.push(t.join(""))}switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push(`[${i.join(", ")}]`);break;default:t.push(`new Float32Array([${i.join(", ")}])`)}return t}astDebuggerStatement(e,t){return t.push("debugger;"),t}}t.exports={CPUFunctionNode:i}},{"../function-node":10}],7:[function(e,t,n){const{utils:r}=e("../../utils");function i(e,t){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],s=e[r];switch(i){case"Number":case"Integer":case"Float":case"Boolean":n.push(`${r}:${s}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":n.push(`${r}:new ${s.constructor.name}(${JSON.stringify(Array.from(s))})`)}}return`{ ${n.join()} }`}function s(e,t){const n=[],s=[],o=[],a=!/^function/.test(e.color.toString());if(n.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(e.output))});`,`  const _constantTypes = ${JSON.stringify(e.constantTypes)};`,`  const _constants = ${i(e.constants,e.constantTypes)};`),s.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),e.graphical){n.push(`  const _imageData = context.createImageData(${e.output[0]}, ${e.output[1]});`),n.push(`  const _colorData = new Uint8ClampedArray(${e.output[0]} * ${e.output[1]} * 4);`);const t=r.flattenFunctionToString((a?"function ":"")+e.color.toString(),{thisLookup:t=>{switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:(e,t)=>null}),i=r.flattenFunctionToString((a?"function ":"")+e.getPixels.toString(),{thisLookup:t=>{switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:()=>null});s.push("    _imageData,","    _colorData,",`    color: ${t},`),o.push(`  kernel.getPixels = ${i};`)}const l=[],u=Object.keys(e.constantTypes);for(let r=0;r<u.length;r++)l.push(e.constantTypes[u]);if(-1!==e.argumentTypes.indexOf("HTMLImageArray")||-1!==l.indexOf("HTMLImageArray")){const t=r.flattenFunctionToString((a?"function ":"")+e._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(t,n)=>"this"===t?(a?"function ":"")+e[n].toString():null,thisLookup:e=>{switch(e){case"canvas":return;case"context":return"context"}}});o.push(t),s.push("    _mediaTo2DArray,"),s.push("    _imageTo3DArray,")}else if(-1!==e.argumentTypes.indexOf("HTMLImage")||-1!==l.indexOf("HTMLImage")){const t=r.flattenFunctionToString((a?"function ":"")+e._mediaTo2DArray.toString(),{findDependency:(e,t)=>null,thisLookup:e=>{switch(e){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});o.push(t),s.push("    _mediaTo2DArray,")}return`function(settings) {\n${n.join("\n")}\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${e._kernelString}\n  })\n    .apply({ ${s.join("\n")} });\n  ${o.join("\n")}\n  return kernel;\n}`}t.exports={cpuKernelString:s}},{"../../utils":114}],8:[function(e,t,n){const{Kernel:r}=e("../kernel"),{FunctionBuilder:i}=e("../function-builder"),{CPUFunctionNode:s}=e("./function-node"),{utils:o}=e("../../utils"),{cpuKernelString:a}=e("./kernel-string");class l extends r{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(e){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(e){return e}static getSignature(e,t){return"cpu"+(t.length>0?":"+t.join(","):"")}constructor(e,t){super(e,t),this.mergeSettings(e.settings||t),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){return"undefined"!==typeof document?document.createElement("canvas"):"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(0,0):void 0}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(e){return[]}validateSettings(e){if(!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=o.getVariableType(e[0],this.strictIntegers);if("Array"===t)this.output=o.getDimensions(t);else{if("NumberTexture"!==t&&"ArrayTexture(4)"!==t)throw new Error("Auto output not supported for input type: "+t);this.output=e[0].output}}if(this.graphical&&2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const e=[];for(let t=0;t<this.subKernels.length;t++){const{name:n}=this.subKernels[t];e.push(this.output.length>1?`resultX_${n}[x] = subKernelResult_${n};\n`:`result_${n}[x] = subKernelResult_${n};\n`)}this.followingReturnStatement=e.join("")}const e=i.fromKernel(this,s);this.translatedSources=e.getPrototypes("kernel"),this.graphical||this.returnType||(this.returnType=e.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:e,output:t}=this;if(!e)throw new Error("no canvas available for using graphical output");const n=t[0],r=t[1]||1;e.width=n,e.height=r,this._imageData=this.context.createImageData(n,r),this._colorData=new Uint8ClampedArray(n*r*4)}const e=this.getKernelString();this.kernelString=e,this.debug&&(console.log("Function output:"),console.log(e));try{this.run=new Function([],e).bind(this)()}catch(t){console.error("An error occurred compiling the javascript: ",t)}this.buildSignature(arguments),this.built=!0}color(e,t,n,r){"undefined"===typeof r&&(r=1),e=Math.floor(255*e),t=Math.floor(255*t),n=Math.floor(255*n),r=Math.floor(255*r);const i=this.output[0],s=this.output[1],o=this.thread.x+(s-this.thread.y-1)*i;this._colorData[4*o+0]=e,this._colorData[4*o+1]=t,this._colorData[4*o+2]=n,this._colorData[4*o+3]=r}getKernelString(){if(null!==this._kernelString)return this._kernelString;let e=null,{translatedSources:t}=this;return t.length>1?t=t.filter(t=>/^function/.test(t)?t:(e=t,!1)):e=t.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};\n  ${this.injectedNative||""}\n  const _this = this;\n  ${this._resultKernelHeader()}\n  ${this._processConstants()}\n  return (${this.argumentNames.map(e=>"user_"+e).join(", ")}) => {\n    ${this._prependedString.join("")}\n    ${this._earlyThrows()}\n    ${this._processArguments()}\n    ${this.graphical?this._graphicalKernelBody(e):this._resultKernelBody(e)}\n    ${t.length>0?t.join("\n"):""}\n  };`}toString(){return a(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const e=[];for(let t in this.constants)switch(this.constantTypes[t]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":e.push(`    const constants_${t} = this._mediaTo2DArray(this.constants.${t});\n`);break;case"HTMLImageArray":e.push(`    const constants_${t} = this._imageTo3DArray(this.constants.${t});\n`);break;case"Input":e.push(`    const constants_${t} = this.constants.${t}.value;\n`);break;default:e.push(`    const constants_${t} = this.constants.${t};\n`)}return e.join("")}_earlyThrows(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";const e=[];for(let n=0;n<this.argumentTypes.length;n++)"Array"===this.argumentTypes[n]&&e.push(this.argumentNames[n]);if(0===e.length)return"";const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=this._mapSubKernels(e=>`user_${r} === result_${e.name}`).join(" || ");t.push(`user_${r} === result${i?` || ${i}`:""}`)}return`if (${t.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const e=[];for(let t=0;t<this.argumentTypes.length;t++){const n=`user_${this.argumentNames[t]}`;switch(this.argumentTypes[t]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":e.push(`    ${n} = this._mediaTo2DArray(${n});\n`);break;case"HTMLImageArray":e.push(`    ${n} = this._imageTo3DArray(${n});\n`);break;case"Input":e.push(`    ${n} = ${n}.value;\n`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":e.push(`\n    if (${n}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${n});\n      if (textureIndex !== -1) {\n        ${n} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${n});\n        ${n} = ${n}.toArray();\n        _this.arrayCache.push(${n});\n      }\n    }`)}}return e.join("")}_mediaTo2DArray(e){const t=this.canvas,n=e.width>0?e.width:e.videoWidth,r=e.height>0?e.height:e.videoHeight;t.width<n&&(t.width=n),t.height<r&&(t.height=r);const i=this.context;let s;e.constructor===ImageData?s=e.data:(i.drawImage(e,0,0,n,r),s=i.getImageData(0,0,n,r).data);const o=new Array(r);let a=0;for(let l=r-1;l>=0;l--){const e=o[l]=new Array(n);for(let t=0;t<n;t++){const n=new Float32Array(4);n[0]=s[a++]/255,n[1]=s[a++]/255,n[2]=s[a++]/255,n[3]=s[a++]/255,e[t]=n}}return o}getPixels(e){const[t,n]=this.output;return e?o.flipPixels(this._imageData.data,t,n):this._imageData.data.slice(0)}_imageTo3DArray(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=this._mediaTo2DArray(e[n]);return t}_resultKernelHeader(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(e){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(e):this._resultImmutableKernel1DLoop(e))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(e):this._resultImmutableKernel2DLoop(e))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(e):this._resultImmutableKernel3DLoop(e))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(e){if(2===this.output.length)return this._graphicalKernel2DLoop(e)+this._graphicalOutput();throw new Error("unsupported size kernel")}_graphicalOutput(){return"\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;"}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${t}(outputX);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new ${t}(outputX);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${e}\n    }`}_mutableKernel1DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${e}(outputX);\n    ${this._mapSubKernels(t=>`const result_${t.name} = new ${e}(outputX);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}`}_resultMutableKernel1DLoop(e){return`  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${e}\n    }`}_resultImmutableKernel2DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputY);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${t}(outputX);\n      ${this._mapSubKernels(e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_mutableKernel2DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputY);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${e}(outputX);\n      ${this._mapSubKernels(t=>`const resultX_${t.name} = result_${t.name}[y] = new ${e}(outputX);\n`).join("")}\n    }`}_resultMutableKernel2DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${this._mapSubKernels(e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_graphicalKernel2DLoop(e){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_resultImmutableKernel3DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputZ);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels(e=>`const resultY_${e.name} = result_${e.name}[z] = new Array(outputY);\n`).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${t}(outputX);\n        ${this._mapSubKernels(e=>`const resultX_${e.name} = resultY_${e.name}[y] = new ${t}(outputX);\n`).join("        ")}\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${e}\n        }\n      }\n    }`}_mutableKernel3DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels(e=>`const result_${e.name} = new Array(outputZ);\n`).join("    ")}\n    ${this._mapSubKernels(e=>`let subKernelResult_${e.name};\n`).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels(e=>`const resultY_${e.name} = result_${e.name}[z] = new Array(outputY);\n`).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${e}(outputX);\n        ${this._mapSubKernels(t=>`const resultX_${t.name} = resultY_${t.name}[y] = new ${e}(outputX);\n`).join("        ")}\n      }\n    }`}_resultMutableKernel3DLoop(e){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${e}\n        }\n      }\n    }`}_kernelOutput(){return this.subKernels?`\n    return {\n      result: result,\n      ${this.subKernels.map(e=>`${e.property}: result_${e.name}`).join(",\n      ")}\n    };`:"\n    return result;"}_mapSubKernels(e){return null===this.subKernels?[""]:this.subKernels.map(e)}destroy(e){e&&delete this.canvas}static destroyContext(e){}toJSON(){const e=super.toJSON();return e.functionNodes=i.fromKernel(this,s).toJSON(),e}setOutput(e){super.setOutput(e);const[t,n]=this.output;this.graphical&&(this._imageData=this.context.createImageData(t,n),this._colorData=new Uint8ClampedArray(t*n*4))}prependString(e){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(e)}hasPrependString(e){return this._prependedString.indexOf(e)>-1}}t.exports={CPUKernel:l}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(e,t,n){class r{static fromKernel(e,t,n){const{kernelArguments:i,kernelConstants:s,argumentNames:o,argumentSizes:a,argumentBitRatios:l,constants:u,constantBitRatios:c,debug:h,loopMaxIterations:d,nativeFunctions:p,output:f,optimizeFloatMemory:m,precision:g,plugins:y,source:x,subKernels:b,functions:v,leadingReturnStatement:w,followingReturnStatement:S,dynamicArguments:k,dynamicOutput:T}=e,A=new Array(i.length),_={};for(let r=0;r<i.length;r++)A[r]=i[r].type;for(let r=0;r<s.length;r++){const e=s[r];_[e.name]=e.type}const E=(e,t)=>B.needsArgumentType(e,t),C=(e,t,n)=>{B.assignArgumentType(e,t,n)},D=(e,t,n)=>B.lookupReturnType(e,t,n),M=e=>B.lookupFunctionArgumentTypes(e),L=(e,t)=>B.lookupFunctionArgumentName(e,t),I=(e,t)=>B.lookupFunctionArgumentBitRatio(e,t),P=(e,t,n,r)=>{B.assignArgumentType(e,t,n,r)},O=(e,t,n,r)=>{B.assignArgumentBitRatio(e,t,n,r)},R=(e,t,n)=>{B.trackFunctionCall(e,t,n)},$=(e,n)=>{const r=[];for(let t=0;t<e.params.length;t++)r.push(e.params[t].name);const i=new t(n,Object.assign({},N,{returnType:null,ast:e,name:e.id.name,argumentNames:r,lookupReturnType:D,lookupFunctionArgumentTypes:M,lookupFunctionArgumentName:L,lookupFunctionArgumentBitRatio:I,needsArgumentType:E,assignArgumentType:C,triggerImplyArgumentType:P,triggerImplyArgumentBitRatio:O,onFunctionCall:R}));i.traceFunctionAST(e),B.addFunctionNode(i)},N=Object.assign({isRootKernel:!1,onNestedFunction:$,lookupReturnType:D,lookupFunctionArgumentTypes:M,lookupFunctionArgumentName:L,lookupFunctionArgumentBitRatio:I,needsArgumentType:E,assignArgumentType:C,triggerImplyArgumentType:P,triggerImplyArgumentBitRatio:O,onFunctionCall:R,optimizeFloatMemory:m,precision:g,constants:u,constantTypes:_,constantBitRatios:c,debug:h,loopMaxIterations:d,output:f,plugins:y,dynamicArguments:k,dynamicOutput:T},n||{}),F=Object.assign({},N,{isRootKernel:!0,name:"kernel",argumentNames:o,argumentTypes:A,argumentSizes:a,argumentBitRatios:l,leadingReturnStatement:w,followingReturnStatement:S});if("object"===typeof x&&x.functionNodes)return(new r).fromJSON(x.functionNodes,t);const z=new t(x,F);let V=null;v&&(V=v.map(e=>new t(e.source,{returnType:e.returnType,argumentTypes:e.argumentTypes,output:f,plugins:y,constants:u,constantTypes:_,constantBitRatios:c,optimizeFloatMemory:m,precision:g,lookupReturnType:D,lookupFunctionArgumentTypes:M,lookupFunctionArgumentName:L,lookupFunctionArgumentBitRatio:I,needsArgumentType:E,assignArgumentType:C,triggerImplyArgumentType:P,triggerImplyArgumentBitRatio:O,onFunctionCall:R,onNestedFunction:$})));let j=null;b&&(j=b.map(e=>{const{name:n,source:r}=e;return new t(r,Object.assign({},N,{name:n,isSubKernel:!0,isRootKernel:!1}))}));const B=new r({kernel:e,rootNode:z,functionNodes:V,nativeFunctions:p,subKernelNodes:j});return B}constructor(e){if(e=e||{},this.kernel=e.kernel,this.rootNode=e.rootNode,this.functionNodes=e.functionNodes||[],this.subKernelNodes=e.subKernelNodes||[],this.nativeFunctions=e.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let t=0;t<this.functionNodes.length;t++)this.functionMap[this.functionNodes[t].name]=this.functionNodes[t];if(this.subKernelNodes)for(let t=0;t<this.subKernelNodes.length;t++)this.functionMap[this.subKernelNodes[t].name]=this.subKernelNodes[t];if(this.nativeFunctions)for(let t=0;t<this.nativeFunctions.length;t++){const e=this.nativeFunctions[t];this.nativeFunctionNames.push(e.name)}}addFunctionNode(e){if(!e.name)throw new Error("functionNode.name needs set");this.functionMap[e.name]=e,e.isRootKernel&&(this.rootNode=e)}traceFunctionCalls(e,t){if(e=e||"kernel",t=t||[],this.nativeFunctionNames.indexOf(e)>-1){const n=t.indexOf(e);if(-1===n)t.push(e);else{const e=t.splice(n,1)[0];t.push(e)}return t}const n=this.functionMap[e];if(n){const r=t.indexOf(e);if(-1===r){t.push(e),n.toString();for(let e=0;e<n.calledFunctions.length;++e)this.traceFunctionCalls(n.calledFunctions[e],t)}else{const e=t.splice(r,1)[0];t.push(e)}}return t}getPrototypeString(e){return this.getPrototypes(e).join("\n")}getPrototypes(e){return this.rootNode&&this.rootNode.toString(),e?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(e,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(e){const t=[];for(let n=0;n<e.length;++n)this.functionMap[e[n]]&&t.push(this.functionMap[e[n]].toString());return t.join("\n")}getPrototypesFromFunctionNames(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n],i=this.nativeFunctionNames.indexOf(r);if(i>-1){t.push(this.nativeFunctions[i].source);continue}const s=this.functionMap[r];s&&t.push(s.toString())}return t}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(e=>{const t=this.nativeFunctions.indexOf(e);if(t>-1)return{name:e,source:this.nativeFunctions[t].source};if(this.functionMap[e])return this.functionMap[e].toJSON();throw new Error(`function ${e} not found`)})}fromJSON(e,t){this.functionMap={};for(let n=0;n<e.length;n++){const r=e[n];this.functionMap[r.settings.name]=new t(r.ast,r.settings)}return this}getString(e){return e?this.getStringFromFunctionNames(this.traceFunctionCalls(e).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(e,t,n){if("CallExpression"!==t.type)throw new Error(`expected ast type of "CallExpression", but is ${t.type}`);if(this._isNativeFunction(e))return this._lookupNativeFunctionReturnType(e);if(this._isFunction(e)){const r=this._getFunction(e);if(r.returnType)return r.returnType;{for(let i=0;i<this.lookupChain.length;i++)if(this.lookupChain[i].ast===t){if(0===r.argumentTypes.length&&t.arguments.length>0){const e=t.arguments;for(let t=0;t<e.length;t++)this.lookupChain.push({name:n.name,ast:e[i],requestingNode:n}),r.argumentTypes[t]=n.getType(e[t]),this.lookupChain.pop();return r.returnType=r.getType(r.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:n.name,ast:t,requestingNode:n});const e=r.getType(r.getJsAST());return this.lookupChain.pop(),r.returnType=e}}return null}_getFunction(e){return this._isFunction(e),this.functionMap[e]}_isFunction(e){return Boolean(this.functionMap[e])}_getNativeFunction(e){for(let t=0;t<this.nativeFunctions.length;t++)if(this.nativeFunctions[t].name===e)return this.nativeFunctions[t];return null}_isNativeFunction(e){return Boolean(this._getNativeFunction(e))}_lookupNativeFunctionReturnType(e){let t=this._getNativeFunction(e);if(t)return t.returnType;throw new Error(`Native function ${e} not found`)}lookupFunctionArgumentTypes(e){return this._isNativeFunction(e)?this._getNativeFunction(e).argumentTypes:this._isFunction(e)?this._getFunction(e).argumentTypes:null}lookupFunctionArgumentName(e,t){return this._getFunction(e).argumentNames[t]}lookupFunctionArgumentBitRatio(e,t){if(!this._isFunction(e))throw new Error("function not found");if(this.rootNode.name===e){const e=this.rootNode.argumentNames.indexOf(t);if(-1!==e)return this.rootNode.argumentBitRatios[e]}const n=this._getFunction(e),r=n.argumentNames.indexOf(t);if(-1===r)throw new Error("argument not found");const i=n.argumentBitRatios[r];if("number"!==typeof i)throw new Error("argument bit ratio not found");return i}needsArgumentType(e,t){return!!this._isFunction(e)&&!this._getFunction(e).argumentTypes[t]}assignArgumentType(e,t,n,r){if(!this._isFunction(e))return;const i=this._getFunction(e);i.argumentTypes[t]||(i.argumentTypes[t]=n)}assignArgumentBitRatio(e,t,n,r){const i=this._getFunction(e);if(this._isNativeFunction(n))return null;const s=this._getFunction(n),o=i.argumentNames.indexOf(t);if(-1===o)throw new Error(`Argument ${t} not found in arguments from function ${e}`);const a=i.argumentBitRatios[o];if("number"!==typeof a)throw new Error(`Bit ratio for argument ${t} not found in function ${e}`);s.argumentBitRatios||(s.argumentBitRatios=new Array(s.argumentNames.length));const l=s.argumentBitRatios[o];if("number"===typeof l){if(l!==a)throw new Error(`Incompatible bit ratio found at function ${e} at argument ${t}`);return l}return s.argumentBitRatios[o]=a,a}trackFunctionCall(e,t,n){this.functionNodeDependencies[e]||(this.functionNodeDependencies[e]=new Set,this.functionCalls[e]=[]),this.functionNodeDependencies[e].add(t),this.functionCalls[e].push(n)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(e){const t=this.subKernelNodes[e];let n=!1;for(let r=0;r<this.rootNode.functionCalls.length;r++)this.rootNode.functionCalls[r].ast.callee.name===t.name&&(n=!0);if(!n)throw new Error(`SubKernel ${t.name} never called by kernel`);return t.returnType||t.getType(t.getJsAST())}getReturnTypes(){const e={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},t=this.traceFunctionCalls(this.rootNode.name);for(let n=0;n<t.length;n++){const r=t[n],i=this.functionMap[r];e[r]=i.getType(i.ast)}return e}}t.exports={FunctionBuilder:r}},{}],10:[function(e,t,n){const r=e("acorn"),{utils:i}=e("../utils"),{FunctionTracer:s}=e("./function-tracer");class o{constructor(e,t){if(!e&&!t.ast)throw new Error("source parameter is missing");if(t=t||{},this.source=e,this.ast=null,this.name="string"===typeof e?t.isRootKernel?"kernel":t.name||i.getFunctionNameFromString(e):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames="string"===typeof this.source?i.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,t)for(const n in t)t.hasOwnProperty(n)&&this.hasOwnProperty(n)&&(this[n]=t[n]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if("string"!==typeof this.source&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!i.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(e){return!!this.constants&&this.constants.hasOwnProperty(e)}isInput(e){return"Input"===this.argumentTypes[this.argumentNames.indexOf(e)]}pushState(e){this.states.push(e)}popState(e){if(this.state!==e)throw new Error(`Cannot popState ${e} when in ${this.state}`);this.states.pop()}isState(e){return this.state===e}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(e){if("Identifier"===e.type)return e.name;if("ThisExpression"===e.type)return"this";if("MemberExpression"===e.type&&e.object&&e.property)return e.object.hasOwnProperty("name")&&"Math"!==e.object.name?this.astMemberExpressionUnroll(e.property):this.astMemberExpressionUnroll(e.object)+"."+this.astMemberExpressionUnroll(e.property);if(e.hasOwnProperty("expressions")){const t=e.expressions[0];if("Literal"===t.type&&0===t.value&&2===e.expressions.length)return this.astMemberExpressionUnroll(e.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",e)}getJsAST(e){if(this.ast)return this.ast;if("object"===typeof this.source)return this.traceFunctionAST(this.source),this.ast=this.source;if(null===(e=e||r))throw new Error("Missing JS to AST parser");const t=Object.freeze(e.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),n=t.body[0].declarations[0].init;if(this.traceFunctionAST(n),!t)throw new Error("Failed to parse JS code");return this.ast=n}traceFunctionAST(e){const{contexts:t,declarations:n,functions:r,identifiers:i,functionCalls:o}=new s(e);this.contexts=t,this.identifiers=i,this.functionCalls=o,this.functions=r;for(let s=0;s<n.length;s++){const e=n[s],{ast:t,inForLoopInit:r,inForLoopTest:i}=e,{init:o}=t,a=this.getDependencies(o);let l=null;if(r&&i)l="Integer";else if(o){const e=this.getType(o);switch(e){case"Integer":case"Float":case"Number":l="MemberExpression"===o.type?e:"Number";break;case"LiteralInteger":l="Number";break;default:l=e}}e.valueType=l,e.dependencies=a,e.isSafe=this.isSafeDependencies(a)}for(let s=0;s<r.length;s++)this.onNestedFunction(r[s],this.source)}getDeclaration(e){for(let t=0;t<this.identifiers.length;t++){const n=this.identifiers[t];if(e===n.ast)return n.declaration}return null}getVariableType(e){if("Identifier"!==e.type)throw new Error(`ast of ${e.type} not "Identifier"`);let t=null;const n=this.argumentNames.indexOf(e.name);if(-1===n){const t=this.getDeclaration(e);if(t)return t.valueType}else{const e=this.argumentTypes[n];e&&(t=e)}if(!t&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return t}getLookupType(e){if(!a.hasOwnProperty(e))throw new Error(`unknown typeLookupMap ${e}`);return a[e]}getConstantType(e){if(this.constantTypes[e]){const t=this.constantTypes[e];return"Float"===t?"Number":t}throw new Error(`Type for constant "${e}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const e={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:e}}getType(e){if(Array.isArray(e))return this.getType(e[e.length-1]);switch(e.type){case"BlockStatement":return this.getType(e.body);case"ArrayExpression":switch(this.getType(e.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${e.elements.length})`}return`Array(${e.elements.length})`;case"Literal":const t=this.astKey(e);return this.literalTypes[t]?this.literalTypes[t]:Number.isInteger(e.value)?"LiteralInteger":!0===e.value||!1===e.value?"Boolean":"Number";case"AssignmentExpression":return this.getType(e.left);case"CallExpression":if(this.isAstMathFunction(e))return"Number";if(!e.callee||!e.callee.name){if("SequenceExpression"===e.callee.type&&e.callee.expressions[e.callee.expressions.length-1].property.name){const t=e.callee.expressions[e.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}if("this.color"===this.getVariableSignature(e.callee,!0))return null;if("MemberExpression"===e.callee.type&&e.callee.object&&e.callee.property&&e.callee.property.name&&e.arguments){const t=e.callee.property.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}throw this.astErrorOutput("Unknown call expression",e)}if(e.callee&&e.callee.name){const t=e.callee.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}throw this.astErrorOutput(`Unhandled getType Type "${e.type}"`,e);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(e.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const n=this.getType(e.left);if(this.isState("skip-literal-correction"))return n;if("LiteralInteger"===n){const t=this.getType(e.right);return"LiteralInteger"===t?e.left.value%1===0?"Integer":"Float":t}return a[n]||n;case"UpdateExpression":case"ReturnStatement":return this.getType(e.argument);case"UnaryExpression":return"~"===e.operator?"Integer":this.getType(e.argument);case"VariableDeclaration":{const t=e.declarations;let n;for(let e=0;e<t.length;e++){const r=t[e];n=this.getType(r)}if(!n)throw this.astErrorOutput("Unable to find type for declaration",e);return n}case"VariableDeclarator":const r=this.getDeclaration(e.id);if(!r)throw this.astErrorOutput("Unable to find declarator",e);if(!r.valueType)throw this.astErrorOutput("Unable to find declarator valueType",e);return r.valueType;case"Identifier":if("Infinity"===e.name)return"Number";if(this.isAstVariable(e)&&"value"===this.getVariableSignature(e))return this.getCheckVariableType(e);const i=this.findIdentifierOrigin(e);return i&&i.init?this.getType(i.init):null;case"MemberExpression":if(this.isAstMathFunction(e)){switch(e.property.name){case"ceil":case"floor":case"round":return"Integer"}return"Number"}if(this.isAstVariable(e)){switch(this.getVariableSignature(e)){case"value[]":return this.getLookupType(this.getCheckVariableType(e.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(e.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(e.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(e.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(e.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(e.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(e.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(e.object));case"value.value":if(this.isAstMathVariable(e))return"Number";switch(e.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(e.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",e)}throw this.astErrorOutput("Unhandled getType MemberExpression",e);case"ConditionalExpression":case"IfStatement":return this.getType(e.consequent);case"FunctionDeclaration":case"FunctionExpression":const s=this.findLastReturn(e.body);return s?this.getType(s):null;case"SequenceExpression":return this.getType(e.expressions[e.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${e.type}"`,e)}}getCheckVariableType(e){const t=this.getVariableType(e);if(!t)throw this.astErrorOutput(`${e.type} is not defined`,e);return t}inferArgumentTypesIfNeeded(e,t){for(let n=0;n<t.length;n++){if(!this.needsArgumentType(e,n))continue;const r=this.getType(t[n]);if(!r)throw this.astErrorOutput(`Unable to infer argument ${n}`,t[n]);this.assignArgumentType(e,n,r)}}isAstMathVariable(e){const t=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return"MemberExpression"===e.type&&e.object&&"Identifier"===e.object.type&&"Math"===e.object.name&&e.property&&"Identifier"===e.property.type&&t.indexOf(e.property.name)>-1}isAstMathFunction(e){const t=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return"CallExpression"===e.type&&e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&"Math"===e.callee.object.name&&e.callee.property&&"Identifier"===e.callee.property.type&&t.indexOf(e.callee.property.name)>-1}isAstVariable(e){return"Identifier"===e.type||"MemberExpression"===e.type}isSafe(e){return this.isSafeDependencies(this.getDependencies(e))}isSafeDependencies(e){return!e||!e.every||e.every(e=>e.isSafe)}getDependencies(e,t,n){if(t||(t=[]),!e)return null;if(Array.isArray(e)){for(let r=0;r<e.length;r++)this.getDependencies(e[r],t,n);return t}switch(e.type){case"AssignmentExpression":return this.getDependencies(e.left,t,n),this.getDependencies(e.right,t,n),t;case"ConditionalExpression":return this.getDependencies(e.test,t,n),this.getDependencies(e.alternate,t,n),this.getDependencies(e.consequent,t,n),t;case"Literal":t.push({origin:"literal",value:e.value,isSafe:!0!==n&&e.value>-1/0&&e.value<1/0&&!isNaN(e.value)});break;case"VariableDeclarator":return this.getDependencies(e.init,t,n);case"Identifier":const r=this.getDeclaration(e);if(r)t.push({name:e.name,origin:"declaration",isSafe:!n&&this.isSafeDependencies(r.dependencies)});else if(this.argumentNames.indexOf(e.name)>-1)t.push({name:e.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${e.name}"`);break;case"FunctionDeclaration":return this.getDependencies(e.body.body[e.body.body.length-1],t,n);case"ReturnStatement":return this.getDependencies(e.argument,t);case"BinaryExpression":case"LogicalExpression":return n="/"===e.operator||"*"===e.operator,this.getDependencies(e.left,t,n),this.getDependencies(e.right,t,n),t;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(e.argument,t,n);case"VariableDeclaration":return this.getDependencies(e.declarations,t,n);case"ArrayExpression":return t.push({origin:"declaration",isSafe:!0}),t;case"CallExpression":return t.push({origin:"function",isSafe:!0}),t;case"MemberExpression":const i=this.getMemberExpressionDetails(e);switch(i.signature){case"value[]":this.getDependencies(e.object,t,n);break;case"value[][]":this.getDependencies(e.object.object,t,n);break;case"value[][][]":this.getDependencies(e.object.object.object,t,n);break;case"this.output.value":this.dynamicOutput&&t.push({name:i.name,origin:"output",isSafe:!1})}if(i)return i.property&&this.getDependencies(i.property,t,n),i.xProperty&&this.getDependencies(i.xProperty,t,n),i.yProperty&&this.getDependencies(i.yProperty,t,n),i.zProperty&&this.getDependencies(i.zProperty,t,n),t;case"SequenceExpression":return this.getDependencies(e.expressions,t,n);default:throw this.astErrorOutput(`Unhandled type ${e.type} in getDependencies`,e)}return t}getVariableSignature(e,t){if(!this.isAstVariable(e))throw new Error(`ast of type "${e.type}" is not a variable signature`);if("Identifier"===e.type)return"value";const n=[];for(;e;)e.computed?n.push("[]"):"ThisExpression"===e.type?n.unshift("this"):e.property&&e.property.name?"x"===e.property.name||"y"===e.property.name||"z"===e.property.name?n.unshift(t?"."+e.property.name:".value"):"constants"===e.property.name||"thread"===e.property.name||"output"===e.property.name?n.unshift("."+e.property.name):n.unshift(t?"."+e.property.name:".value"):e.name?n.unshift(t?e.name:"value"):e.callee&&e.callee.name?n.unshift(t?e.callee.name+"()":"fn()"):e.elements?n.unshift("[]"):n.unshift("unknown"),e=e.object;const r=n.join("");return t||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(r)>-1?r:null}build(){return this.toString().length>0}astGeneric(e,t){if(null===e)throw this.astErrorOutput("NULL ast",e);if(Array.isArray(e)){for(let n=0;n<e.length;n++)this.astGeneric(e[n],t);return t}switch(e.type){case"FunctionDeclaration":return this.astFunctionDeclaration(e,t);case"FunctionExpression":return this.astFunctionExpression(e,t);case"ReturnStatement":return this.astReturnStatement(e,t);case"Literal":return this.astLiteral(e,t);case"BinaryExpression":return this.astBinaryExpression(e,t);case"Identifier":return this.astIdentifierExpression(e,t);case"AssignmentExpression":return this.astAssignmentExpression(e,t);case"ExpressionStatement":return this.astExpressionStatement(e,t);case"EmptyStatement":return this.astEmptyStatement(e,t);case"BlockStatement":return this.astBlockStatement(e,t);case"IfStatement":return this.astIfStatement(e,t);case"SwitchStatement":return this.astSwitchStatement(e,t);case"BreakStatement":return this.astBreakStatement(e,t);case"ContinueStatement":return this.astContinueStatement(e,t);case"ForStatement":return this.astForStatement(e,t);case"WhileStatement":return this.astWhileStatement(e,t);case"DoWhileStatement":return this.astDoWhileStatement(e,t);case"VariableDeclaration":return this.astVariableDeclaration(e,t);case"VariableDeclarator":return this.astVariableDeclarator(e,t);case"ThisExpression":return this.astThisExpression(e,t);case"SequenceExpression":return this.astSequenceExpression(e,t);case"UnaryExpression":return this.astUnaryExpression(e,t);case"UpdateExpression":return this.astUpdateExpression(e,t);case"LogicalExpression":return this.astLogicalExpression(e,t);case"MemberExpression":return this.astMemberExpression(e,t);case"CallExpression":return this.astCallExpression(e,t);case"ArrayExpression":return this.astArrayExpression(e,t);case"DebuggerStatement":return this.astDebuggerStatement(e,t);case"ConditionalExpression":return this.astConditionalExpression(e,t)}throw this.astErrorOutput("Unknown ast type : "+e.type,e)}astErrorOutput(e,t){if("string"!==typeof this.source)return new Error(e);const n=i.getAstString(this.source,t),r=this.source.substr(t.start).split(/\n/),s=r.length>0?r[r.length-1]:0;return new Error(`${e} on line ${r.length}, position ${s.length}:\n ${n}`)}astDebuggerStatement(e,t){return t}astConditionalExpression(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);return t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t}astFunction(e,t){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}astFunctionExpression(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}isChildFunction(e){for(let t=0;t<this.functions.length;t++)if(this.functions[t]===e)return!0;return!1}astReturnStatement(e,t){return t}astLiteral(e,t){return this.literalTypes[this.astKey(e)]="Number",t}astBinaryExpression(e,t){return t}astIdentifierExpression(e,t){return t}astAssignmentExpression(e,t){return t}astExpressionStatement(e,t){return this.astGeneric(e.expression,t),t.push(";"),t}astEmptyStatement(e,t){return t}astBlockStatement(e,t){return t}astIfStatement(e,t){return t}astSwitchStatement(e,t){return t}astBreakStatement(e,t){return t.push("break;"),t}astContinueStatement(e,t){return t.push("continue;\n"),t}astForStatement(e,t){return t}astWhileStatement(e,t){return t}astDoWhileStatement(e,t){return t}astVariableDeclarator(e,t){return this.astGeneric(e.id,t),null!==e.init&&(t.push("="),this.astGeneric(e.init,t)),t}astThisExpression(e,t){return t}astSequenceExpression(e,t){const{expressions:n}=e,r=[];for(let i=0;i<n.length;i++){const e=n[i],t=[];this.astGeneric(e,t),r.push(t.join(""))}return r.length>1?t.push("(",r.join(","),")"):t.push(r[0]),t}astUnaryExpression(e,t){return this.checkAndUpconvertBitwiseUnary(e,t)||(e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator))),t}checkAndUpconvertBitwiseUnary(e,t){}astUpdateExpression(e,t){return e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator)),t}astLogicalExpression(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}astMemberExpression(e,t){return t}astCallExpression(e,t){return t}astArrayExpression(e,t){return t}getMemberExpressionDetails(e){if("MemberExpression"!==e.type)throw this.astErrorOutput(`Expression ${e.type} not a MemberExpression`,e);let t=null,n=null;const r=this.getVariableSignature(e);switch(r){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:r,type:"Integer",name:e.property.name};case"value[]":if("string"!==typeof e.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object),xProperty:e.property};case"value[][]":if("string"!==typeof e.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object.object),yProperty:e.object.property,xProperty:e.property};case"value[][][]":if("string"!==typeof e.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value[][][][]":if("string"!==typeof e.object.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.object.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value.value":if("string"!==typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(this.isAstMathVariable(e))return t=e.property.name,{name:t,origin:"Math",type:"Number",signature:r};switch(e.property.name){case"r":case"g":case"b":case"a":return t=e.object.name,{name:t,property:e.property.name,origin:"user",signature:r,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",e)}case"this.constants.value":if("string"!==typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r};case"this.constants.value[]":if("string"!==typeof e.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,xProperty:e.property};case"this.constants.value[][]":if("string"!==typeof e.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.object.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,yProperty:e.object.property,xProperty:e.property};case"this.constants.value[][][]":if("string"!==typeof e.object.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.object.object.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"fn()[]":case"fn()[][]":case"[][]":return{signature:r,property:e.property};default:throw this.astErrorOutput("Unexpected expression",e)}}findIdentifierOrigin(e){const t=[this.ast];for(;t.length>0;){const n=t[0];if("VariableDeclarator"===n.type&&n.id&&n.id.name&&n.id.name===e.name)return n;if(t.shift(),n.argument)t.push(n.argument);else if(n.body)t.push(n.body);else if(n.declarations)t.push(n.declarations);else if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e])}return null}findLastReturn(e){const t=[e||this.ast];for(;t.length>0;){const e=t.pop();if("ReturnStatement"===e.type)return e;if("FunctionDeclaration"!==e.type)if(e.argument)t.push(e.argument);else if(e.body)t.push(e.body);else if(e.declarations)t.push(e.declarations);else if(Array.isArray(e))for(let n=0;n<e.length;n++)t.push(e[n]);else e.consequent?t.push(e.consequent):e.cases&&t.push(e.cases)}return null}getInternalVariableName(e){return this._internalVariableNames.hasOwnProperty(e)||(this._internalVariableNames[e]=0),this._internalVariableNames[e]++,1===this._internalVariableNames[e]?e:e+this._internalVariableNames[e]}astKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";if(!e.start||!e.end)throw new Error("AST start and end needed");return`${e.start}${t}${e.end}`}}const a={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};t.exports={FunctionNode:o}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(e,t,n){const{utils:r}=e("../utils");function i(e){return e.length>0?e[e.length-1]:null}const s={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class o{constructor(e){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(e)}isState(e){return this.states[this.states.length-1]===e}hasState(e){return this.states.indexOf(e)>-1}pushState(e){this.states.push(e)}popState(e){if(!this.isState(e))throw new Error(`Cannot pop the non-active state "${e}"`);this.states.pop()}get currentFunctionContext(){return i(this.functionContexts)}get currentContext(){return i(this.runningContexts)}newFunctionContext(){const e={"@contextType":"function"};this.contexts.push(e),this.functionContexts.push(e)}newContext(e){const t=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(t),this.runningContexts.push(t),e();const{currentFunctionContext:n}=this;for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r]);return this.runningContexts.pop(),t}useFunctionContext(e){const t=i(this.functionContexts);this.runningContexts.push(t),e(),this.runningContexts.pop()}getIdentifiers(e){const t=this.trackedIdentifiers=[];return this.pushState(s.trackIdentifiers),e(),this.trackedIdentifiers=null,this.popState(s.trackIdentifiers),t}getDeclaration(e){const{currentContext:t,currentFunctionContext:n,runningContexts:r}=this,i=t[e]||n[e]||null;if(!i&&t===n&&r.length>0){const t=r[r.length-2];if(t[e])return t[e]}return i}scan(e){if(e)if(Array.isArray(e))for(let t=0;t<e.length;t++)this.scan(e[t]);else switch(e.type){case"Program":this.useFunctionContext(()=>{this.scan(e.body)});break;case"BlockStatement":this.newContext(()=>{this.scan(e.body)});break;case"AssignmentExpression":case"LogicalExpression":case"BinaryExpression":this.scan(e.left),this.scan(e.right);break;case"UpdateExpression":if("++"===e.operator){const t=this.getDeclaration(e.argument.name);t&&(t.suggestedType="Integer")}this.scan(e.argument);break;case"UnaryExpression":this.scan(e.argument);break;case"VariableDeclaration":"var"===e.kind?this.useFunctionContext(()=>{e.declarations=r.normalizeDeclarations(e),this.scan(e.declarations)}):(e.declarations=r.normalizeDeclarations(e),this.scan(e.declarations));break;case"VariableDeclarator":{const{currentContext:t}=this,n=this.hasState(s.inForLoopInit),r={ast:e,context:t,name:e.id.name,origin:"declaration",inForLoopInit:n,inForLoopTest:null,assignable:t===this.currentFunctionContext||!n&&!t.hasOwnProperty(e.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};t[e.id.name]||(t[e.id.name]=r),this.declarations.push(r),this.scan(e.id),this.scan(e.init);break}case"FunctionExpression":case"FunctionDeclaration":0===this.runningContexts.length?this.scan(e.body):this.functions.push(e);break;case"IfStatement":this.scan(e.test),this.scan(e.consequent),e.alternate&&this.scan(e.alternate);break;case"ForStatement":{let t;const n=this.newContext(()=>{this.pushState(s.inForLoopInit),this.scan(e.init),this.popState(s.inForLoopInit),t=this.getIdentifiers(()=>{this.scan(e.test)}),this.scan(e.update),this.newContext(()=>{this.scan(e.body)})});if(t)for(const e in n)"@contextType"!==e&&t.indexOf(e)>-1&&(n[e].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan(e.body),this.scan(e.test)});break;case"Identifier":this.isState(s.trackIdentifiers)&&this.trackedIdentifiers.push(e.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(e.name),ast:e});break;case"ReturnStatement":this.returnStatements.push(e),this.scan(e.argument);break;case"MemberExpression":this.pushState(s.memberExpression),this.scan(e.object),this.scan(e.property),this.popState(s.memberExpression);break;case"ExpressionStatement":this.scan(e.expression);break;case"SequenceExpression":this.scan(e.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:e}),this.scan(e.arguments);break;case"ArrayExpression":this.scan(e.elements);break;case"ConditionalExpression":this.scan(e.test),this.scan(e.alternate),this.scan(e.consequent);break;case"SwitchStatement":this.scan(e.discriminant),this.scan(e.cases);break;case"SwitchCase":this.scan(e.test),this.scan(e.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${e.type}"`)}}}t.exports={FunctionTracer:o}},{"../utils":114}],12:[function(e,t,n){const{glWiretap:r}=e("gl-wiretap"),{utils:i}=e("../../utils");function s(e){return e.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function o(e,t,n,o,h){n.built||n.build.apply(n,t),t=t?Array.from(t).map(e=>{switch(typeof e){case"boolean":return new Boolean(e);case"number":return new Number(e);default:return e}}):null;const d=[],p=r(n.context,{useTrackablePrimitives:!0,onReadPixels:e=>{if(R.subKernels){if(f){const t=R.subKernels[m++].property;d.push(`    result${isNaN(t)?"."+t:`[${t}]`} = ${a(e,R)};`)}else d.push(`    const result = { result: ${a(e,R)} };`),f=!0;m===R.subKernels.length&&d.push("    return result;")}else e?d.push(`    return ${a(e,R)};`):d.push("    return null;")},onUnrecognizedArgumentLookup:e=>{const t=c(e,R.kernelArguments,[],p);if(t)return t;const n=c(e,R.kernelConstants,S?Object.keys(S).map(e=>S[e]):[],p);return n||null}});let f=!1,m=0;const{source:g,canvas:y,output:x,pipeline:b,graphical:v,loopMaxIterations:w,constants:S,optimizeFloatMemory:k,precision:T,fixIntegerDivisionAccuracy:A,functions:_,nativeFunctions:E,subKernels:C,immutable:D,argumentTypes:M,constantTypes:L,kernelArguments:I,kernelConstants:P,tactic:O}=n,R=new e(g,{canvas:y,context:p,checkContext:!1,output:x,pipeline:b,graphical:v,loopMaxIterations:w,constants:S,optimizeFloatMemory:k,precision:T,fixIntegerDivisionAccuracy:A,functions:_,nativeFunctions:E,subKernels:C,immutable:D,argumentTypes:M,constantTypes:L,tactic:O});let $=[];if(p.setIndent(2),R.build.apply(R,t),$.push(p.toString()),p.reset(),R.kernelArguments.forEach((e,n)=>{switch(e.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":case"Input":p.insertVariable(`uploadValue_${e.name}`,e.uploadValue);break;case"HTMLImageArray":for(let r=0;r<t[n].length;r++){const i=t[n];p.insertVariable(`uploadValue_${e.name}[${r}]`,i[r])}break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":p.insertVariable(`uploadValue_${e.name}`,t[n].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${e.type}`)}}),$.push("/** start of injected functions **/"),$.push(`function ${s(i.flattenTo)}`),$.push(`function ${s(i.flatten2dArrayTo)}`),$.push(`function ${s(i.flatten3dArrayTo)}`),$.push(`function ${s(i.flatten4dArrayTo)}`),$.push(`function ${s(i.isArray)}`),R.renderOutput!==R.renderTexture&&R.formatValues&&$.push(`  const renderOutput = function ${s(R.formatValues)};`),$.push("/** end of injected functions **/"),$.push(`  const innerKernel = function (${R.kernelArguments.map(e=>e.varName).join(", ")}) {`),p.setIndent(4),R.run.apply(R,t),R.renderKernels?R.renderKernels():R.renderOutput&&R.renderOutput(),$.push("    /** start setup uploads for kernel values **/"),R.kernelArguments.forEach(e=>{$.push("    "+e.getStringValueHandler().split("\n").join("\n    "))}),$.push("    /** end setup uploads for kernel values **/"),$.push(p.toString()),R.renderOutput===R.renderTexture){p.reset();const e=p.getContextVariableName(R.framebuffer);if(R.renderKernels){const t=R.renderKernels(),n=p.getContextVariableName(R.texture.texture);$.push(`    return {\n      result: {\n        texture: ${n},\n        type: '${t.result.type}',\n        toArray: ${u(t.result,n,e)}\n      },`);const{subKernels:r,mappedTextures:i}=R;for(let s=0;s<r.length;s++){const n=i[s],o=r[s],a=t[o.property],l=p.getContextVariableName(n.texture);$.push(`\n      ${o.property}: {\n        texture: ${l},\n        type: '${a.type}',\n        toArray: ${u(a,l,e)}\n      },`)}$.push("    };")}else{const t=R.renderOutput(),n=p.getContextVariableName(R.texture.texture);$.push(`    return {\n        texture: ${n},\n        type: '${t.type}',\n        toArray: ${u(t,n,e)}\n      };`)}}$.push("    "+(h?"\n"+h+"    ":"")),$.push(d.join("\n")),$.push("  };"),R.graphical&&($.push(l(R)),$.push("  innerKernel.getPixels = getPixels;")),$.push("  return innerKernel;");let N=[];return P.forEach(e=>{N.push(`${e.getStringValueHandler()}`)}),`function kernel(settings) {\n  const { context, constants } = settings;\n  ${N.join("")}\n  ${o||""}\n${$.join("\n")}\n}`}function a(e,t){const n="single"===t.precision?e:`new Float32Array(${e}.buffer)`;return t.output[2]?`renderOutput(${n}, ${t.output[0]}, ${t.output[1]}, ${t.output[2]})`:t.output[1]?`renderOutput(${n}, ${t.output[0]}, ${t.output[1]})`:`renderOutput(${n}, ${t.output[0]})`}function l(e){const t=e.getPixels.toString(),n=!/^function/.test(t);return i.flattenFunctionToString(`${n?"function ":""}${t}`,{findDependency:(e,t)=>"utils"===e?`const ${t} = ${i[t].toString()};`:null,thisLookup:t=>{if("context"===t)return null;if(e.hasOwnProperty(t))return JSON.stringify(e[t]);throw new Error(`unhandled thisLookup ${t}`)}})}function u(e,t,n){const r=e.toArray.toString(),s=!/^function/.test(r);return`() => {\n  function framebuffer() { return ${n}; };\n  ${i.flattenFunctionToString(`${s?"function ":""}${r}`,{findDependency:(t,n)=>{if("utils"===t)return`const ${n} = ${i[n].toString()};`;if("this"===t)return"framebuffer"===n?"":`${s?"function ":""}${e[n].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(n,r)=>{if("texture"===n)return t;if("context"===n)return r?null:"gl";if(e.hasOwnProperty(n))return JSON.stringify(e[n]);throw new Error(`unhandled thisLookup ${n}`)}})}\n  return toArray();\n  }`}function c(e,t,n,r,i){if(null===e)return null;if(null===t)return null;switch(typeof e){case"boolean":case"number":return null}if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)for(let s=0;s<t.length;s++){const i=t[s];if("HTMLImageArray"!==i.type&&i)continue;if(i.uploadValue!==e)continue;const o=n[s].indexOf(e);if(-1===o)continue;const a=`uploadValue_${i.name}[${o}]`;return r.insertVariable(a,e),a}for(let s=0;s<t.length;s++){const n=t[s];if(e!==n.uploadValue)continue;const i=`uploadValue_${n.name}`;return r.insertVariable(i,n),i}return null}t.exports={glKernelString:o}},{"../../utils":114,"gl-wiretap":3}],13:[function(e,t,n){const{Kernel:r}=e("../kernel"),{utils:i}=e("../../utils"),{GLTextureArray2Float:s}=e("./texture/array-2-float"),{GLTextureArray2Float2D:o}=e("./texture/array-2-float-2d"),{GLTextureArray2Float3D:a}=e("./texture/array-2-float-3d"),{GLTextureArray3Float:l}=e("./texture/array-3-float"),{GLTextureArray3Float2D:u}=e("./texture/array-3-float-2d"),{GLTextureArray3Float3D:c}=e("./texture/array-3-float-3d"),{GLTextureArray4Float:h}=e("./texture/array-4-float"),{GLTextureArray4Float2D:d}=e("./texture/array-4-float-2d"),{GLTextureArray4Float3D:p}=e("./texture/array-4-float-3d"),{GLTextureFloat:f}=e("./texture/float"),{GLTextureFloat2D:m}=e("./texture/float-2d"),{GLTextureFloat3D:g}=e("./texture/float-3d"),{GLTextureMemoryOptimized:y}=e("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:x}=e("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:b}=e("./texture/memory-optimized-3d"),{GLTextureUnsigned:v}=e("./texture/unsigned"),{GLTextureUnsigned2D:w}=e("./texture/unsigned-2d"),{GLTextureUnsigned3D:S}=e("./texture/unsigned-3d"),{GLTextureGraphical:k}=e("./texture/graphical");class T extends r{static get mode(){return"gpu"}static getIsFloatRead(){const e=new this("function kernelFunction() {\n      return 1;\n    }",{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});e.build(),e.run();const t=e.renderOutput();return e.destroy(!0),1===t[0]}static getIsIntegerDivisionAccurate(){function e(e,t){return e[this.thread.x]/t[this.thread.x]}const t=new this(e.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),n=[[6,6030401],[3,3991]];t.build.apply(t,n),t.run.apply(t,n);const r=t.renderOutput();return t.destroy(!0),2===r[0]&&1511===r[1]}static getIsSpeedTacticSupported(){function e(e){return e[this.thread.x]}const t=new this(e.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),n=[[0,1,2,3]];t.build.apply(t,n),t.run.apply(t,n);const r=t.renderOutput();return t.destroy(!0),0===Math.round(r[0])&&1===Math.round(r[1])&&2===Math.round(r[2])&&3===Math.round(r[3])}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const e=this.testContext,t=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:t,kernelMap:t,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(e,t){return e.getVariablePrecisionString()+(t.length>0?":"+t.join(","):"")}setFixIntegerDivisionAccuracy(e){return this.fixIntegerDivisionAccuracy=e,this}setPrecision(e){return this.precision=e,this}setFloatTextures(e){return i.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=e,this}static nativeFunctionArguments(e){const t=[],n=[],r=[],i=/^[a-zA-Z_]/,s=/[a-zA-Z_0-9]/;let o=0,a=null,l=null;for(;o<e.length;){const u=e[o],c=e[o+1],h=r.length>0?r[r.length-1]:null;if("FUNCTION_ARGUMENTS"!==h||"/"!==u||"*"!==c)if("MULTI_LINE_COMMENT"!==h||"*"!==u||"/"!==c)if("FUNCTION_ARGUMENTS"!==h||"/"!==u||"/"!==c)if("COMMENT"!==h||"\n"!==u)if(null!==h||"("!==u){if("FUNCTION_ARGUMENTS"===h){if(")"===u){r.pop();break}if("f"===u&&"l"===c&&"o"===e[o+2]&&"a"===e[o+3]&&"t"===e[o+4]&&" "===e[o+5]){r.push("DECLARE_VARIABLE"),l="float",a="",o+=6;continue}if("i"===u&&"n"===c&&"t"===e[o+2]&&" "===e[o+3]){r.push("DECLARE_VARIABLE"),l="int",a="",o+=4;continue}if("v"===u&&"e"===c&&"c"===e[o+2]&&"2"===e[o+3]&&" "===e[o+4]){r.push("DECLARE_VARIABLE"),l="vec2",a="",o+=5;continue}if("v"===u&&"e"===c&&"c"===e[o+2]&&"3"===e[o+3]&&" "===e[o+4]){r.push("DECLARE_VARIABLE"),l="vec3",a="",o+=5;continue}if("v"===u&&"e"===c&&"c"===e[o+2]&&"4"===e[o+3]&&" "===e[o+4]){r.push("DECLARE_VARIABLE"),l="vec4",a="",o+=5;continue}}else if("DECLARE_VARIABLE"===h){if(""===a){if(" "===u){o++;continue}if(!i.test(u))throw new Error("variable name is not expected string")}a+=u,s.test(c)||(r.pop(),n.push(a),t.push(A[l]))}o++}else r.push("FUNCTION_ARGUMENTS"),o++;else r.pop(),o++;else r.push("COMMENT"),o+=2;else r.pop(),o+=2;else r.push("MULTI_LINE_COMMENT"),o+=2}if(r.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:n,argumentTypes:t}}static nativeFunctionReturnType(e){return A[e.match(/int|float|vec[2-4]/)[0]]}static combineKernels(e,t){e.apply(null,arguments);const{texSize:n,context:r,threadDim:s}=t.texSize;let o;if("single"===t.precision){const e=n[0],t=Math.ceil(n[1]/4);o=new Float32Array(e*t*4*4),r.readPixels(0,0,e,4*t,r.RGBA,r.FLOAT,o)}else{const e=new Uint8Array(n[0]*n[1]*4);r.readPixels(0,0,n[0],n[1],r.RGBA,r.UNSIGNED_BYTE,e),o=new Float32Array(e.buffer)}return o=o.subarray(0,s[0]*s[1]*s[2]),1===t.output.length?o:2===t.output.length?i.splitArray(o,t.output[0]):3===t.output.length?i.splitArray(o,t.output[0]*t.output[1]).map(function(e){return i.splitArray(e,t.output[0])}):void 0}constructor(e,t){super(e,t),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:e}=this.constructor;if(this.texSize[0]>e.maxTextureSize||this.texSize[1]>e.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${e.maxTextureSize},${e.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(e){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=e=>e,this.TextureConstructor=k,null;if("unsigned"===this.precision)if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=S,null):this.output[1]>0?(this.TextureConstructor=w,null):(this.TextureConstructor=v,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else switch(null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=S,this.formatValues=i.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=w,this.formatValues=i.erect2DPackedFloat,null):(this.TextureConstructor=v,this.formatValues=i.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else{if("single"!==this.precision)throw new Error(`unhandled precision of "${this.precision}"`);if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=b,null):this.output[1]>0?(this.TextureConstructor=x,null):(this.TextureConstructor=y,null):this.output[2]>0?(this.TextureConstructor=g,null):this.output[1]>0?(this.TextureConstructor=m,null):(this.TextureConstructor=f,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=a,null):this.output[1]>0?(this.TextureConstructor=o,null):(this.TextureConstructor=s,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,null):this.output[1]>0?(this.TextureConstructor=u,null):(this.TextureConstructor=l,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=p,null):this.output[1]>0?(this.TextureConstructor=d,null):(this.TextureConstructor=h,null)}if(this.renderOutput=this.renderValues,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=b,this.formatValues=i.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=x,this.formatValues=i.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=y,this.formatValues=i.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=a,this.formatValues=i.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=o,this.formatValues=i.erect2DArray2,null):(this.TextureConstructor=s,this.formatValues=i.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,this.formatValues=i.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=u,this.formatValues=i.erect2DArray3,null):(this.TextureConstructor=l,this.formatValues=i.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=p,this.formatValues=i.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=i.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=i.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=g,this.formatValues=i.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=m,this.formatValues=i.erect2DFloat,null):(this.TextureConstructor=f,this.formatValues=i.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=a,this.formatValues=i.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=o,this.formatValues=i.erect2DArray2,null):(this.TextureConstructor=s,this.formatValues=i.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=c,this.formatValues=i.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=u,this.formatValues=i.erect2DArray3,null):(this.TextureConstructor=l,this.formatValues=i.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=p,this.formatValues=i.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=d,this.formatValues=i.erect2DArray4,null):(this.TextureConstructor=h,this.formatValues=i.erectArray4,null)}}throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():"single"===this.precision?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return i.linesToString(this.getMainResultKernelNumberTexture())+i.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return i.linesToString(this.getMainResultKernelArray2Texture())+i.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return i.linesToString(this.getMainResultKernelArray3Texture())+i.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return i.linesToString(this.getMainResultKernelArray4Texture())+i.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;\n`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;\n`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;\n`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;\n`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if("unsigned"!==this.precision)throw new Error('Requires this.precision to be "unsigned"');const{texSize:e,context:t}=this,n=new Uint8Array(e[0]*e[1]*4);return t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,n),n}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if("single"!==this.precision)throw new Error('Requires this.precision to be "single"');const{texSize:e,context:t}=this,n=e[0],r=e[1],i=new Float32Array(n*r*4);return t.readPixels(0,0,n,r,t.RGBA,t.FLOAT,i),i}getPixels(e){const{context:t,output:n}=this,[r,s]=n,o=new Uint8Array(r*s*4);return t.readPixels(0,0,r,s,t.RGBA,t.UNSIGNED_BYTE,o),new Uint8ClampedArray((e?o:i.flipPixels(o,r,s)).buffer)}renderKernelsToArrays(){const e={result:this.renderOutput()};for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].toArray();return e}renderKernelsToTextures(){const e={result:this.renderOutput()};if(this.immutable)for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].clone();else for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t];return e}resetSwitchingKernels(){const e=this.switchingKernels;return this.switchingKernels=null,e}setOutput(e){const t=this.toKernelOutput(e);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const n=[t[0],t[1]||1,t[2]||1],r=i.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},n),s=this.texSize;if(s){const t=this.getVariablePrecisionString(s,this.tactic),n=this.getVariablePrecisionString(r,this.tactic);if(t!==n)return this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),void this.switchKernels({type:"outputPrecisionMismatch",precision:n,needed:e})}this.output=t,this.threadDim=n,this.texSize=r;const{context:o}=this;if(o.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],o.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let e=0;e<this.mappedTextures.length;e++)this.mappedTextures[e].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=t;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(e){this.switchingKernels?this.switchingKernels.push(e):this.switchingKernels=[e]}getVariablePrecisionString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.texSize,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tactic,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const t=this.constructor.features[n?"lowIntPrecision":"lowFloatPrecision"],r=this.constructor.features[n?"mediumIntPrecision":"mediumFloatPrecision"],i=this.constructor.features[n?"highIntPrecision":"highFloatPrecision"],s=Math.log2(e[0]*e[1]);if(s<=t.rangeMax)return"lowp";if(s<=r.rangeMax)return"mediump";if(s<=i.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(t){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${t}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(e,t){if(this.immutable)if(this.texture.texture===t.texture){const{prevArg:n}=e;n&&(1===n.texture._refs&&(this.texture.delete(),this.texture=n.clone(),this._textureSwitched=!0),n.delete()),e.prevArg=t.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:n}=this;for(let r=0;r<n.length;r++){const i=n[r];if(i.texture===t.texture){const{prevArg:s}=e;return s&&(1===s.texture._refs&&(i.delete(),n[r]=s.clone(),this._mappedTextureSwitched[r]=!0),s.delete()),void(e.prevArg=t.clone())}}}}onActivate(e){if(this._textureSwitched=!0,this.texture=e.texture,this.mappedTextures){for(let e=0;e<this.mappedTextures.length;e++)this._mappedTextureSwitched[e]=!0;this.mappedTextures=e.mappedTextures}}initCanvas(){}}const A={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};t.exports={GLKernel:T}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return r.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray2Float2D:s}},{"../../../utils":114,"./float":25}],15:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return r.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureArray2Float3D:s}},{"../../../utils":114,"./float":25}],16:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return r.erectArray2(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray2Float:s}},{"../../../utils":114,"./float":25}],17:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return r.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray3Float2D:s}},{"../../../utils":114,"./float":25}],18:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return r.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureArray3Float3D:s}},{"../../../utils":114,"./float":25}],19:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return r.erectArray3(this.renderValues(),this.output[0])}}t.exports={GLTextureArray3Float:s}},{"../../../utils":114,"./float":25}],20:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return r.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray4Float2D:s}},{"../../../utils":114,"./float":25}],21:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return r.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureArray4Float3D:s}},{"../../../utils":114,"./float":25}],22:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return r.erectArray4(this.renderValues(),this.output[0])}}t.exports={GLTextureArray4Float:s}},{"../../../utils":114,"./float":25}],23:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(1)"}toArray(){return r.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureFloat2D:s}},{"../../../utils":114,"./float":25}],24:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="ArrayTexture(1)"}toArray(){return r.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureFloat3D:s}},{"../../../utils":114,"./float":25}],25:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTexture:i}=e("./index");class s extends i{get textureType(){return this.context.FLOAT}constructor(e){super(e),this.type="ArrayTexture(1)"}renderRawOutput(){const e=this.context,t=this.size;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);const n=new Float32Array(t[0]*t[1]*4);return e.readPixels(0,0,t[0],t[1],e.RGBA,e.FLOAT,n),n}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return r.erectFloat(this.renderValues(),this.output[0])}}t.exports={GLTextureFloat:s}},{"../../../utils":114,"./index":27}],26:[function(e,t,n){const{GLTextureUnsigned:r}=e("./unsigned");class i extends r{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}t.exports={GLTextureGraphical:i}},{"./unsigned":33}],27:[function(e,t,n){const{Texture:r}=e("../../../texture");class i extends r{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1&&(this.newTexture(),!0)}cloneTexture(){this.texture._refs--;const{context:e,size:t,texture:n,kernel:r}=this;r.debug&&console.warn("cloning internal texture"),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),s(e,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.createTexture();s(e,i),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),e.copyTexSubImage2D(e.TEXTURE_2D,0,0,0,0,0,t[0],t[1]),i._refs=1,this.texture=i}newTexture(){this.texture._refs--;const e=this.context,t=this.size;this.kernel.debug&&console.warn("new internal texture");const n=e.createTexture();s(e,n),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),n._refs=1,this.texture=n}clear(){if(this.texture._refs){this.texture._refs--;const e=this.context,t=this.texture=e.createTexture();s(e,t);const n=this.size;t._refs=1,e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,n[0],n[1],0,this.textureFormat,this.textureType,null)}const{context:e,texture:t}=this;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.bindTexture(e.TEXTURE_2D,t),s(e,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,this.texture._refs&&(this.texture._refs--,this.texture._refs)||this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function s(e,t){e.activeTexture(e.TEXTURE15),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}t.exports={GLTexture:i}},{"../../../texture":113}],28:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return r.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureMemoryOptimized2D:s}},{"../../../utils":114,"./float":25}],29:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return r.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureMemoryOptimized3D:s}},{"../../../utils":114,"./float":25}],30:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureFloat:i}=e("./float");class s extends i{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return r.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}t.exports={GLTextureMemoryOptimized:s}},{"../../../utils":114,"./float":25}],31:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureUnsigned:i}=e("./unsigned");class s extends i{constructor(e){super(e),this.type="NumberTexture"}toArray(){return r.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureUnsigned2D:s}},{"../../../utils":114,"./unsigned":33}],32:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTextureUnsigned:i}=e("./unsigned");class s extends i{constructor(e){super(e),this.type="NumberTexture"}toArray(){return r.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureUnsigned3D:s}},{"../../../utils":114,"./unsigned":33}],33:[function(e,t,n){const{utils:r}=e("../../../utils"),{GLTexture:i}=e("./index");class s extends i{get textureType(){return this.context.UNSIGNED_BYTE}constructor(e){super(e),this.type="NumberTexture"}renderRawOutput(){const{context:e}=this;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);const t=new Uint8Array(this.size[0]*this.size[1]*4);return e.readPixels(0,0,this.size[0],this.size[1],e.RGBA,e.UNSIGNED_BYTE,t),t}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return r.erectPackedFloat(this.renderValues(),this.output[0])}}t.exports={GLTextureUnsigned:s}},{"../../../utils":114,"./index":27}],34:[function(e,t,n){const r=e("gl"),{WebGLKernel:i}=e("../web-gl/kernel"),{glKernelString:s}=e("../gl/kernel-string");let o=null,a=null,l=null,u=null,c=null;class h extends i{static get isSupported(){return null!==o||(this.setupFeatureChecks(),o=null!==l),o}static setupFeatureChecks(){if(a=null,u=null,"function"===typeof r)try{if(l=r(2,2,{preserveDrawingBuffer:!0}),!l||!l.getExtension)return;u={STACKGL_resize_drawingbuffer:l.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:l.getExtension("STACKGL_destroy_context"),OES_texture_float:l.getExtension("OES_texture_float"),OES_texture_float_linear:l.getExtension("OES_texture_float_linear"),OES_element_index_uint:l.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:l.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:l.getExtension("WEBGL_color_buffer_float")},c=this.getFeatures()}catch(e){console.warn(e)}}static isContextMatch(e){try{return"ANGLE"===e.getParameter(e.RENDERER)}catch(t){return!1}}static getIsTextureFloat(){return Boolean(u.OES_texture_float)}static getIsDrawBuffers(){return Boolean(u.WEBGL_draw_buffers)}static getChannelCount(){return u.WEBGL_draw_buffers?l.getParameter(u.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return l.getParameter(l.MAX_TEXTURE_SIZE)}static get testCanvas(){return a}static get testContext(){return l}static get features(){return c}initCanvas(){return{}}initContext(){return r(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(e){const t=e.getExtension("STACKGL_destroy_context");t&&t.destroy&&t.destroy()}toString(){const e="const gl = context || require('gl')(1, 1);\n",t="    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\n";return s(this.constructor,arguments,this,e,t)}setOutput(e){return super.setOutput(e),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}t.exports={HeadlessGLKernel:h}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(e,t,n){class r{constructor(e,t){const{name:n,kernel:r,context:i,checkContext:s,onRequestContextHandle:o,onUpdateValueMismatch:a,origin:l,strictIntegers:u,type:c,tactic:h}=t;if(!n)throw new Error("name not set");if(!c)throw new Error("type not set");if(!l)throw new Error("origin not set");if("user"!==l&&"constants"!==l)throw new Error(`origin must be "user" or "constants" value is "${l}"`);if(!o)throw new Error("onRequestContextHandle is not set");this.name=n,this.origin=l,this.tactic=h,this.varName="constants"===l?`constants.${n}`:n,this.kernel=r,this.strictIntegers=u,this.type=e.type||c,this.size=e.size||null,this.index=null,this.context=i,this.checkContext=null===s||void 0===s||s,this.contextHandle=null,this.onRequestContextHandle=o,this.onUpdateValueMismatch=a,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(e){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}t.exports={KernelValue:r}},{}],36:[function(e,t,n){const{utils:r}=e("../utils"),{Input:i}=e("../input");class s{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(e){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(e){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(e,t){if("object"!==typeof e){if("string"!==typeof e)throw new Error("source not a string");if(!r.isFunctionString(e))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames="string"===typeof e?r.getArgumentNamesFromString(e):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=e,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(e){for(let t in e)if(e.hasOwnProperty(t)&&this.hasOwnProperty(t)){switch(t){case"output":if(!Array.isArray(e.output)){this.setOutput(e.output);continue}break;case"functions":this.functions=[];for(let t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);continue;case"graphical":e[t]&&!e.hasOwnProperty("precision")&&(this.precision="unsigned"),this[t]=e[t];continue;case"nativeFunctions":if(!e.nativeFunctions)continue;this.nativeFunctions=[];for(let t=0;t<e.nativeFunctions.length;t++){const n=e.nativeFunctions[t],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}continue}this[t]=e[t]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(e))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(e){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.name&&e.source&&e.argumentTypes&&"returnType"in e)this.functions.push(e);else if("settings"in e&&"source"in e)this.functions.push(this.functionToIGPUFunction(e.source,e.settings));else{if("string"!==typeof e&&"function"!==typeof e)throw new Error("function not properly defined");this.functions.push(this.functionToIGPUFunction(e,t))}return this}addNativeFunction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{argumentTypes:r,argumentNames:i}=n.argumentTypes?o(n.argumentTypes):this.constructor.nativeFunctionArguments(t)||{};return this.nativeFunctions.push({name:e,source:t,settings:n,argumentTypes:r,argumentNames:i,returnType:n.returnType||this.constructor.nativeFunctionReturnType(t)}),this}setupArguments(e){if(this.kernelArguments=[],this.argumentTypes)for(let t=0;t<this.argumentTypes.length;t++)this.kernelArguments.push({type:this.argumentTypes[t]});else if(!this.argumentTypes){this.argumentTypes=[];for(let t=0;t<e.length;t++){const n=r.getVariableType(e[t],this.strictIntegers),i="Integer"===n?"Number":n;this.argumentTypes.push(i),this.kernelArguments.push({type:i})}}this.argumentSizes=new Array(e.length),this.argumentBitRatios=new Int32Array(e.length);for(let t=0;t<e.length;t++){const n=e[t];this.argumentSizes[t]=n.constructor===i?n.size:null,this.argumentBitRatios[t]=this.getBitRatio(n)}if(this.argumentNames.length!==e.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let e=null===this.constantTypes;if(e&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let t in this.constants){if(e){const e=r.getVariableType(this.constants[t],this.strictIntegers);this.constantTypes[t]=e,this.kernelConstants.push({name:t,type:e})}else this.kernelConstants.push({name:t,type:this.constantTypes[t]});this.constantBitRatios[t]=this.getBitRatio(this.constants[t])}}setOptimizeFloatMemory(e){return this.optimizeFloatMemory=e,this}toKernelOutput(e){return e.hasOwnProperty("x")?e.hasOwnProperty("y")?e.hasOwnProperty("z")?[e.x,e.y,e.z]:[e.x,e.y]:[e.x]:e}setOutput(e){return this.output=this.toKernelOutput(e),this}setDebug(e){return this.debug=e,this}setGraphical(e){return this.graphical=e,this.precision="unsigned",this}setLoopMaxIterations(e){return this.loopMaxIterations=e,this}setConstants(e){return this.constants=e,this}setConstantTypes(e){return this.constantTypes=e,this}setFunctions(e){for(let t=0;t<e.length;t++)this.addFunction(e[t]);return this}setNativeFunctions(e){for(let t=0;t<e.length;t++){const n=e[t],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}return this}setInjectedNative(e){return this.injectedNative=e,this}setPipeline(e){return this.pipeline=e,this}setPrecision(e){return this.precision=e,this}setDimensions(e){return r.warnDeprecated("method","setDimensions","setOutput"),this.output=e,this}setOutputToTexture(e){return r.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=e,this}setImmutable(e){return this.immutable=e,this}setCanvas(e){return this.canvas=e,this}setStrictIntegers(e){return this.strictIntegers=e,this}setDynamicOutput(e){return this.dynamicOutput=e,this}setHardcodeConstants(e){return r.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(e),this.setDynamicArguments(e),this}setDynamicArguments(e){return this.dynamicArguments=e,this}setUseLegacyEncoder(e){return this.useLegacyEncoder=e,this}setWarnVarUsage(e){return r.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return r.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return r.warnDeprecated("method","getWebGl"),this.context}setContext(e){return this.context=e,this}setArgumentTypes(e){if(Array.isArray(e))this.argumentTypes=e;else{this.argumentTypes=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=this.argumentNames.indexOf(t);if(-1===n)throw new Error(`unable to find argument ${t}`);this.argumentTypes[n]=e[t]}}return this}setTactic(e){return this.tactic=e,this}requestFallback(e){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(e)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(e){if(null===this.subKernels&&(this.subKernels=[]),!e.source)throw new Error('subKernel missing "source" property');if(!e.property&&isNaN(e.property))throw new Error('subKernel missing "property" property');if(!e.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(e),this}destroy(e){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(e){if("single"===this.precision)return 4;if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===i)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(e){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!r.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let e=0;e<this.output.length;e++)if(isNaN(this.output[e])||this.output[e]<1)throw new Error(`${this.constructor.name}.output[${e}] incorrectly defined as \`${this.output[e]}\`, needs to be numeric, and greater than 0`)}prependString(e){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(e){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map(e=>e.name):null,returnType:this.returnType}}}buildSignature(e){const t=this.constructor;this.signature=t.getSignature(this,t.getArgumentTypes(this,e))}static getArgumentTypes(e,t){const n=new Array(t.length);for(let i=0;i<t.length;i++){const s=t[i],o=e.argumentTypes[i];if(s.type)n[i]=s.type;else switch(o){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":n[i]=r.getVariableType(s);break;default:n[i]=o}}return n}static getSignature(e,t){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e&&"function"!==typeof e)throw new Error("source not a string or function");const n="string"===typeof e?e:e.toString();let i=[];return i=Array.isArray(t.argumentTypes)?t.argumentTypes:"object"===typeof t.argumentTypes?r.getArgumentNamesFromString(n).map(e=>t.argumentTypes[e])||[]:t.argumentTypes||[],{name:r.getFunctionNameFromString(n)||null,source:n,argumentTypes:i,returnType:t.returnType||null}}onActivate(e){}}function o(e){const t=Object.keys(e),n=[];for(let r=0;r<t.length;r++){const i=t[r];n.push(e[i])}return{argumentTypes:n,argumentNames:t}}t.exports={Kernel:s}},{"../input":110,"../utils":114}],37:[function(e,t,n){const r=`__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;t.exports={fragmentShader:r}},{}],38:[function(e,t,n){const{utils:r}=e("../../utils"),{FunctionNode:i}=e("../function-node");class s extends i{constructor(e,t){super(e,t),t&&t.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=t.fixIntegerDivisionAccuracy)}astConditionalExpression(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);const n=this.getType(e.consequent),r=this.getType(e.alternate);return null===n&&null===r?(t.push("if ("),this.astGeneric(e.test,t),t.push(") {"),this.astGeneric(e.consequent,t),t.push(";"),t.push("} else {"),this.astGeneric(e.alternate,t),t.push(";"),t.push("}"),t):(t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t)}astFunction(e,t){if(this.isRootKernel)t.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(e.body),"LiteralInteger"===this.returnType&&(this.returnType="Number"));const{returnType:n}=this;if(n){const e=o[n];if(!e)throw new Error(`unknown type ${n}`);t.push(e)}else t.push("void")}if(t.push(" "),t.push(this.name),t.push("("),!this.isRootKernel)for(let n=0;n<this.argumentNames.length;++n){const i=this.argumentNames[n];n>0&&t.push(", ");let s=this.argumentTypes[this.argumentNames.indexOf(i)];if(!s)throw this.astErrorOutput(`Unknown argument ${i} type`,e);"LiteralInteger"===s&&(this.argumentTypes[n]=s="Number");const a=o[s];if(!a)throw this.astErrorOutput("Unexpected expression",e);const l=r.sanitizeName(i);"sampler2D"===a||"sampler2DArray"===a?t.push(`${a} user_${l},ivec2 user_${l}Size,ivec3 user_${l}Dim`):t.push(`${a} user_${l}`)}t.push(") {\n");for(let n=0;n<e.body.body.length;++n)this.astGeneric(e.body.body[n],t),t.push("\n");return t.push("}\n"),t}astReturnStatement(e,t){if(!e.argument)throw this.astErrorOutput("Unexpected return statement",e);this.pushState("skip-literal-correction");const n=this.getType(e.argument);this.popState("skip-literal-correction");const r=[];switch(this.returnType||(this.returnType="LiteralInteger"===n||"Integer"===n?"Number":n),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(n){case"Integer":r.push("float("),this.astGeneric(e.argument,r),r.push(")");break;case"LiteralInteger":this.castLiteralToFloat(e.argument,r),"Integer"===this.getType(e)&&(r.unshift("float("),r.push(")"));break;default:this.astGeneric(e.argument,r)}break;case"Integer":switch(n){case"Float":case"Number":this.castValueToInteger(e.argument,r);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,r);break;default:this.astGeneric(e.argument,r)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(e.argument,r);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,e)}return this.isRootKernel?(t.push(`kernelResult = ${r.join("")};`),t.push("return;")):this.isSubKernel?(t.push(`subKernelResult_${this.name} = ${r.join("")};`),t.push(`return subKernelResult_${this.name};`)):t.push(`return ${r.join("")};`),t}astLiteral(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);const n=this.astKey(e);return Number.isInteger(e.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",t.push(`${e.value}`)):(this.isState("casting-to-float")||this.isState("building-float"),this.literalTypes[n]="Number",t.push(`${e.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",t.push(Math.round(e.value))):(this.literalTypes[n]="Number",t.push(`${e.value}`)),t}astBinaryExpression(e,t){if(this.checkAndUpconvertOperator(e,t))return t;if(this.fixIntegerDivisionAccuracy&&"/"===e.operator){switch(t.push("divWithIntCheck("),this.pushState("building-float"),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(", "),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return this.popState("building-float"),t.push(")"),t}t.push("(");const n=this.getType(e.left)||"Number",r=this.getType(e.right)||"Number";if(!n||!r)throw this.astErrorOutput("Unhandled binary expression",e);const i=n+" & "+r;switch(i){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(e.left,t),t.push(a[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((">"===e.operator||"<"===e.operator&&"Literal"===e.right.type)&&!Number.isInteger(e.right.value)){this.pushState("building-float"),this.castValueToFloat(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.pushState("casting-to-integer"),"Literal"===e.right.type){const n=[];if(this.astGeneric(e.right,n),"Integer"!==this.getType(e.right))throw this.astErrorOutput("Unhandled binary expression with literal",e);t.push(n.join(""))}else t.push("int("),this.astGeneric(e.right,t),t.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castLiteralToInteger(e.right,t),this.popState("building-integer");break;case"Number & Integer":case"Float & Integer":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castValueToFloat(e.right,t),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(a[e.operator]||e.operator),this.castValueToInteger(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.pushState("casting-to-float"),this.astGeneric(e.right,t),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(e.left,t),t.push(a[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-boolean");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${i}`,e)}return t.push(")"),t}checkAndUpconvertOperator(e,t){const n=this.checkAndUpconvertBitwiseOperators(e,t);if(n)return n;const r={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[e.operator];if(!r)return null;switch(t.push(r),t.push("("),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}checkAndUpconvertBitwiseOperators(e,t){const n={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.left)){case"Number":case"Float":this.castValueToInteger(e.left,t);break;case"LiteralInteger":this.castLiteralToInteger(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Number":case"Float":this.castValueToInteger(e.right,t);break;case"LiteralInteger":this.castLiteralToInteger(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}checkAndUpconvertBitwiseUnary(e,t){const n={"~":"bitwiseNot"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.argument)){case"Number":case"Float":this.castValueToInteger(e.argument,t);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,t);break;default:this.astGeneric(e.argument,t)}return t.push(")"),t}castLiteralToInteger(e,t){return this.pushState("casting-to-integer"),this.astGeneric(e,t),this.popState("casting-to-integer"),t}castLiteralToFloat(e,t){return this.pushState("casting-to-float"),this.astGeneric(e,t),this.popState("casting-to-float"),t}castValueToInteger(e,t){return this.pushState("casting-to-integer"),t.push("int("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-integer"),t}castValueToFloat(e,t){return this.pushState("casting-to-float"),t.push("float("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-float"),t}astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);const n=this.getType(e),i=r.sanitizeName(e.name);return"Infinity"===e.name?t.push("3.402823466e+38"):"Boolean"===n&&this.argumentNames.indexOf(i)>-1?t.push(`bool(user_${i})`):t.push(`user_${i}`),t}astForStatement(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);const n=[],r=[],i=[],s=[];let o=null;if(e.init){const{declarations:t}=e.init;t.length>1&&(o=!1),this.astGeneric(e.init,n);for(let e=0;e<t.length;e++)t[e].init&&"Literal"!==t[e].init.type&&(o=!1)}else o=!1;if(e.test?this.astGeneric(e.test,r):o=!1,e.update?this.astGeneric(e.update,i):o=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,s),this.popState("loop-body")),null===o&&(o=this.isSafe(e.init)&&this.isSafe(e.test)),o){const e=n.join(""),o=";"!==e[e.length-1];t.push(`for (${e}${o?";":""}${r.join("")};${i.join("")}){\n`),t.push(s.join("")),t.push("}\n")}else{const e=this.getInternalVariableName("safeI");n.length>0&&t.push(n.join(""),"\n"),t.push(`for (int ${e}=0;${e}<LOOP_MAX;${e}++){\n`),r.length>0&&t.push(`if (!${r.join("")}) break;\n`),t.push(s.join("")),t.push(`\n${i.join("")};`),t.push("}\n")}return t}astWhileStatement(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);const n=this.getInternalVariableName("safeI");return t.push(`for (int ${n}=0;${n}<LOOP_MAX;${n}++){\n`),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),this.astGeneric(e.body,t),t.push("}\n"),t}astDoWhileStatement(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);const n=this.getInternalVariableName("safeI");return t.push(`for (int ${n}=0;${n}<LOOP_MAX;${n}++){\n`),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),t.push("}\n"),t}astAssignmentExpression(e,t){if("%="===e.operator)this.astGeneric(e.left,t),t.push("="),t.push("mod("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")");else{if("**="!==e.operator){const n=this.getType(e.left),r=this.getType(e.right);return this.astGeneric(e.left,t),t.push(e.operator),"Integer"!==n&&"Integer"===r?(t.push("float("),this.astGeneric(e.right,t),t.push(")")):this.astGeneric(e.right,t),t}this.astGeneric(e.left,t),t.push("="),t.push("pow("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")")}}astBlockStatement(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);this.popState("block-body")}else{t.push("{\n");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);t.push("}\n")}return t}astVariableDeclaration(e,t){const n=e.declarations;if(!n||!n[0]||!n[0].init)throw this.astErrorOutput("Unexpected expression",e);const i=[];let s=null;const a=[];let l=[];for(let u=0;u<n.length;u++){const t=n[u],i=t.init,c=this.getDeclaration(t.id),h=this.getType(t.init);let d=h;"LiteralInteger"===d&&(d="Integer"===c.suggestedType?"Integer":"Number");const p=o[d];if(!p)throw this.astErrorOutput(`Markup type ${d} not handled`,e);const f=[];if("Integer"===h&&"Integer"===d){if(c.valueType="Number",0===u||null===s)f.push("float ");else if(d!==s)throw new Error("Unhandled declaration");s=d,f.push(`user_${r.sanitizeName(t.id.name)}=`),f.push("float("),this.astGeneric(i,f),f.push(")")}else c.valueType=d,0===u||null===s?f.push(`${p} `):d!==s&&(a.push(l.join(",")),l=[],f.push(`${p} `)),s=d,f.push(`user_${r.sanitizeName(t.id.name)}=`),"Number"===h&&"Integer"===d?i.left&&"Literal"===i.left.type?this.astGeneric(i,f):(f.push("int("),this.astGeneric(i,f),f.push(")")):"LiteralInteger"===h&&"Integer"===d?this.castLiteralToInteger(i,f):this.astGeneric(i,f);l.push(f.join(""))}return l.length>0&&a.push(l.join(",")),i.push(a.join(";")),t.push(i.join("")),t.push(";"),t}astIfStatement(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}astSwitchStatement(e,t){if("SwitchStatement"!==e.type)throw this.astErrorOutput("Invalid switch statement",e);const{discriminant:n,cases:r}=e,i=this.getType(n),s=`switchDiscriminant${this.astKey(e,"_")}`;switch(i){case"Float":case"Number":t.push(`float ${s} = `),this.astGeneric(n,t),t.push(";\n");break;case"Integer":t.push(`int ${s} = `),this.astGeneric(n,t),t.push(";\n")}if(1===r.length&&!r[0].test)return this.astGeneric(r[0].consequent,t),t;let o=!1,a=[],l=!1,u=!1;for(let c=0;c<r.length;c++){if(r[c].test){if(0!==c&&u?o?(t.push(`${s} == `),o=!1):t.push(` else if (${s} == `):(u=!0,t.push(`if (${s} == `)),"Integer"===i)switch(this.getType(r[c].test)){case"Number":case"Float":this.castValueToInteger(r[c].test,t);break;case"LiteralInteger":this.castLiteralToInteger(r[c].test,t)}else{if("Float"!==i)throw new Error("unhanlded");switch(this.getType(r[c].test)){case"LiteralInteger":this.castLiteralToFloat(r[c].test,t);break;case"Integer":this.castValueToFloat(r[c].test,t)}}if(!r[c].consequent||0===r[c].consequent.length){o=!0,t.push(" || ");continue}t.push(") {\n")}else{if(r.length>c+1){l=!0,this.astGeneric(r[c].consequent,a);continue}t.push(" else {\n")}this.astGeneric(r[c].consequent,t),t.push("\n}")}return l&&(t.push(" else {"),t.push(a.join("")),t.push("}")),t}astThisExpression(e,t){return t.push("this"),t}astMemberExpression(e,t){const{property:n,name:i,signature:s,origin:o,type:a,xProperty:l,yProperty:u,zProperty:c}=this.getMemberExpressionDetails(e);switch(s){case"value.thread.value":case"this.thread.value":if("x"!==i&&"y"!==i&&"z"!==i)throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",e);return t.push(`threadId.${i}`),t;case"this.output.value":if(this.dynamicOutput)switch(i){case"x":this.isState("casting-to-float")?t.push("float(uOutputDim.x)"):t.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?t.push("float(uOutputDim.y)"):t.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?t.push("float(uOutputDim.z)"):t.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",e)}else switch(i){case"x":this.isState("casting-to-integer")?t.push(this.output[0]):t.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?t.push(this.output[1]):t.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?t.push(this.output[2]):t.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if("Math"===o)return t.push(Math[i]),t;const s=r.sanitizeName(i);switch(n){case"r":return t.push(`user_${s}.r`),t;case"g":return t.push(`user_${s}.g`),t;case"b":return t.push(`user_${s}.b`),t;case"a":return t.push(`user_${s}.a`),t}break;case"this.constants.value":if("undefined"===typeof l)switch(a){case"Array(2)":case"Array(3)":case"Array(4)":return t.push(`constants_${r.sanitizeName(i)}`),t}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(n)),t.push("]"),t;case"fn()[][]":return this.astCallExpression(e.object.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(e.object.property)),t.push("]"),t.push("["),t.push(this.memberExpressionPropertyMarkup(e.property)),t.push("]"),t;case"[][]":return this.astArrayExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(n)),t.push("]"),t;default:throw this.astErrorOutput("Unexpected expression",e)}if(!1===e.computed)switch(a){case"Number":case"Integer":case"Float":case"Boolean":return t.push(`${o}_${r.sanitizeName(i)}`),t}const h=`${o}_${r.sanitizeName(i)}`;switch(a){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(l)),t.push("]");break;case"HTMLImageArray":t.push(`getImage3D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(1)":t.push(`getFloatFromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":t.push(`getMemoryOptimizedVec2(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(2)":t.push(`getVec2FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":t.push(`getMemoryOptimizedVec3(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(3)":t.push(`getVec3FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":t.push(`getMemoryOptimizedVec4(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":t.push(`getVec4FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if("single"===this.precision)t.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");else{const e="user"===o?this.lookupFunctionArgumentBitRatio(this.name,i):this.constantBitRatios[i];switch(e){case 1:t.push(`get8(${h}, ${h}Size, ${h}Dim, `);break;case 2:t.push(`get16(${h}, ${h}Size, ${h}Dim, `);break;case 4:case 0:t.push(`get32(${h}, ${h}Size, ${h}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${e}`)}this.memberExpressionXYZ(l,u,c,t),t.push(")")}break;case"MemoryOptimizedNumberTexture":t.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push(`${h}[${this.memberExpressionPropertyMarkup(u)}]`),u&&t.push(`[${this.memberExpressionPropertyMarkup(l)}]`);break;default:throw new Error(`unhandled member expression "${a}"`)}return t}astCallExpression(e,t){if(!e.callee)throw this.astErrorOutput("Unknown CallExpression",e);let n=null;const i=this.isAstMathFunction(e);if(n=i||e.callee.object&&"ThisExpression"===e.callee.object.type?e.callee.property.name:"SequenceExpression"!==e.callee.type||"Literal"!==e.callee.expressions[0].type||isNaN(e.callee.expressions[0].raw)?e.callee.name:e.callee.expressions[1].property.name,!n)throw this.astErrorOutput("Unhandled function, couldn't find name",e);switch(n){case"pow":n="_pow";break;case"round":n="_round"}if(this.calledFunctions.indexOf(n)<0&&this.calledFunctions.push(n),"random"===n&&this.plugins&&this.plugins.length>0)for(let r=0;r<this.plugins.length;r++){const e=this.plugins[r];if("Math.random()"===e.functionMatch&&e.functionReplace)return t.push(e.functionReplace),t}if(this.onFunctionCall&&this.onFunctionCall(this.name,n,e.arguments),t.push(n),t.push("("),i)for(let r=0;r<e.arguments.length;++r){const n=e.arguments[r],i=this.getType(n);r>0&&t.push(", "),"Integer"===i?this.castValueToFloat(n,t):this.astGeneric(n,t)}else{const i=this.lookupFunctionArgumentTypes(n)||[];for(let s=0;s<e.arguments.length;++s){const o=e.arguments[s];let a=i[s];s>0&&t.push(", ");const l=this.getType(o);switch(a||(this.triggerImplyArgumentType(n,s,l,this),a=l),l){case"Boolean":this.astGeneric(o,t);continue;case"Number":case"Float":if("Integer"===a){t.push("int("),this.astGeneric(o,t),t.push(")");continue}if("Number"===a||"Float"===a){this.astGeneric(o,t);continue}if("LiteralInteger"===a){this.castLiteralToFloat(o,t);continue}break;case"Integer":if("Number"===a||"Float"===a){t.push("float("),this.astGeneric(o,t),t.push(")");continue}if("Integer"===a){this.astGeneric(o,t);continue}break;case"LiteralInteger":if("Integer"===a){this.castLiteralToInteger(o,t);continue}if("Number"===a||"Float"===a){this.castLiteralToFloat(o,t);continue}if("LiteralInteger"===a){this.astGeneric(o,t);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(a===l){if("Identifier"===o.type)t.push(`user_${r.sanitizeName(o.name)}`);else{if("ArrayExpression"!==o.type&&"MemberExpression"!==o.type&&"CallExpression"!==o.type)throw this.astErrorOutput(`Unhandled argument type ${o.type}`,e);this.astGeneric(o,t)}continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(a===l){if("Identifier"!==o.type)throw this.astErrorOutput(`Unhandled argument type ${o.type}`,e);this.triggerImplyArgumentBitRatio(this.name,o.name,n,s);const i=r.sanitizeName(o.name);t.push(`user_${i},user_${i}Size,user_${i}Dim`);continue}}throw this.astErrorOutput(`Unhandled argument combination of ${l} and ${a} for argument named "${o.name}"`,e)}}return t.push(")"),t}astArrayExpression(e,t){const n=this.getType(e),r=e.elements.length;switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push(`mat${r}(`);break;default:t.push(`vec${r}(`)}for(let i=0;i<r;++i){i>0&&t.push(", ");const n=e.elements[i];this.astGeneric(n,t)}return t.push(")"),t}memberExpressionXYZ(e,t,n,r){return n?r.push(this.memberExpressionPropertyMarkup(n),", "):r.push("0, "),t?r.push(this.memberExpressionPropertyMarkup(t),", "):r.push("0, "),r.push(this.memberExpressionPropertyMarkup(e)),r}memberExpressionPropertyMarkup(e){if(!e)throw new Error("Property not set");const t=[];switch(this.getType(e)){case"Number":case"Float":this.castValueToInteger(e,t);break;case"LiteralInteger":this.castLiteralToInteger(e,t);break;default:this.astGeneric(e,t)}return t.join("")}}const o={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},a={"===":"==","!==":"!="};t.exports={WebGLFunctionNode:s}},{"../../utils":114,"../function-node":10}],39:[function(e,t,n){const{WebGLKernelValueBoolean:r}=e("./kernel-value/boolean"),{WebGLKernelValueFloat:i}=e("./kernel-value/float"),{WebGLKernelValueInteger:s}=e("./kernel-value/integer"),{WebGLKernelValueHTMLImage:o}=e("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:a}=e("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:l}=e("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:u}=e("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:c}=e("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:h}=e("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:d}=e("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:p}=e("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:f}=e("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:m}=e("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:g}=e("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:y}=e("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:x}=e("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:b}=e("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:v}=e("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:w}=e("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:S}=e("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:k}=e("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:T}=e("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:A}=e("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:_}=e("./kernel-value/array2"),{WebGLKernelValueArray3:E}=e("./kernel-value/array3"),{WebGLKernelValueArray4:C}=e("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:D}=e("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:M}=e("./kernel-value/dynamic-unsigned-array"),L={unsigned:{dynamic:{Boolean:r,Integer:s,Float:i,Array:M,"Array(2)":_,"Array(3)":E,"Array(4)":C,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:p,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:m,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:!1,HTMLVideo:u},static:{Boolean:r,Float:i,Integer:s,Array:D,"Array(2)":_,"Array(3)":E,"Array(4)":C,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:d,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:f,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:!1,HTMLVideo:l}},single:{dynamic:{Boolean:r,Integer:s,Float:i,Array:b,"Array(2)":_,"Array(3)":E,"Array(4)":C,"Array1D(2)":w,"Array1D(3)":w,"Array1D(4)":w,"Array2D(2)":k,"Array2D(3)":k,"Array2D(4)":k,"Array3D(2)":A,"Array3D(3)":A,"Array3D(4)":A,Input:h,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:m,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:!1,HTMLVideo:u},static:{Boolean:r,Float:i,Integer:s,Array:x,"Array(2)":_,"Array(3)":E,"Array(4)":C,"Array1D(2)":v,"Array1D(3)":v,"Array1D(4)":v,"Array2D(2)":S,"Array2D(3)":S,"Array2D(4)":S,"Array3D(2)":T,"Array3D(3)":T,"Array3D(4)":T,Input:c,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:f,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:!1,HTMLVideo:l}}};function I(e,t,n,r){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(e=r.type);const i=L[n][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error(`Could not find a KernelValue for ${e}`);return i[e]}t.exports={lookupKernelValueType:I,kernelValueMaps:L}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(e,t,n){const{WebGLKernelValue:r}=e("./index"),{Input:i}=e("../../../input");class s extends r{checkSize(e,t){if(!this.kernel.validate)return;const{maxTextureSize:n}=this.kernel.constructor.features;if(e>n||t>n)throw e>t?new Error(`Argument texture width of ${e} larger than maximum size of ${n} for your GPU`):e<t?new Error(`Argument texture height of ${t} larger than maximum size of ${n} for your GPU`):new Error(`Argument texture height and width of ${t} larger than maximum size of ${n} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(e){if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===i)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}t.exports={WebGLKernelArray:s}},{"../../../input":110,"./index":59}],41:[function(e,t,n){const{WebGLKernelValue:r}=e("./index");class i extends r{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec2 ${this.id} = vec2(${e[0]},${e[1]});\n`:`uniform vec2 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform2fv(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueArray2:i}},{"./index":59}],42:[function(e,t,n){const{WebGLKernelValue:r}=e("./index");class i extends r{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec3 ${this.id} = vec3(${e[0]},${e[1]},${e[2]});\n`:`uniform vec3 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform3fv(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueArray3:i}},{"./index":59}],43:[function(e,t,n){const{WebGLKernelValue:r}=e("./index");class i extends r{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec4 ${this.id} = vec4(${e[0]},${e[1]},${e[2]},${e[3]});\n`:`uniform vec4 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform4fv(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueArray4:i}},{"./index":59}],44:[function(e,t,n){e("../../../utils");const{WebGLKernelValue:r}=e("./index");class i extends r{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const bool ${this.id} = ${e};\n`:`uniform bool ${this.id};\n`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueBoolean:i}},{"../../../utils":114,"./index":59}],45:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueHTMLImage:i}=e("./html-image");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){const{width:t,height:n}=e;this.checkSize(t,n),this.dimensions=[t,n,1],this.textureSize=[t,n],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicHTMLImage:s}},{"../../../utils":114,"./html-image":57}],46:[function(e,t,n){const{WebGLKernelValueDynamicHTMLImage:r}=e("./dynamic-html-image");class i extends r{}t.exports={WebGLKernelValueDynamicHTMLVideo:i}},{"./dynamic-html-image":45}],47:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:i}=e("./memory-optimized-number-texture");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:s}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueNumberTexture:i}=e("./number-texture");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicNumberTexture:s}},{"../../../utils":114,"./number-texture":62}],49:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray:i}=e("./single-array");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=r.getDimensions(e,!0),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray:s}},{"../../../utils":114,"./single-array":63}],50:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray1DI:i}=e("./single-array1d-i");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray1DI:s}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray2DI:i}=e("./single-array2d-i");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray2DI:s}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray3DI:i}=e("./single-array3d-i");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray3DI:s}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleInput:i}=e("./single-input");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,n,i]=e.size;this.dimensions=new Int32Array([t||1,n||1,i||1]),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleInput:s}},{"../../../utils":114,"./single-input":67}],54:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueUnsignedArray:i}=e("./unsigned-array");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=r.getDimensions(e,!0),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const t=this.getTransferArrayType(e);this.preUploadValue=new t(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicUnsignedArray:s}},{"../../../utils":114,"./unsigned-array":68}],55:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueUnsignedInput:i}=e("./unsigned-input");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,n,i]=e.size;this.dimensions=new Int32Array([t||1,n||1,i||1]),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const s=this.getTransferArrayType(e.value);this.preUploadValue=new s(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicUnsignedInput:s}},{"../../../utils":114,"./unsigned-input":69}],56:[function(e,t,n){e("../../../utils");const{WebGLKernelValue:r}=e("./index");class i extends r{constructor(e,t){super(e,t),this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(e){return"constants"===this.origin?Number.isInteger(e)?`const float ${this.id} = ${e}.0;\n`:`const float ${this.id} = ${e};\n`:`uniform float ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1f(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueFloat:i}},{"../../../utils":114,"./index":59}],57:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t);const{width:n,height:r}=e;this.checkSize(n,r),this.dimensions=[n,r,1],this.textureSize=[n,r],this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueHTMLImage:s}},{"../../../utils":114,"./array":40}],58:[function(e,t,n){const{WebGLKernelValueHTMLImage:r}=e("./html-image");class i extends r{}t.exports={WebGLKernelValueHTMLVideo:i}},{"./html-image":57}],59:[function(e,t,n){const{utils:r}=e("../../../utils"),{KernelValue:i}=e("../../kernel-value");class s extends i{constructor(e,t){super(e,t),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=e.constructor,this.onRequestTexture=t.onRequestTexture,this.onRequestIndex=t.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${r.sanitizeName(this.name)}`}setup(){}getTransferArrayType(e){if(Array.isArray(e[0]))return this.getTransferArrayType(e[0]);switch(e.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return e.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),e.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}t.exports={WebGLKernelValue:s}},{"../../../utils":114,"../../kernel-value":35}],60:[function(e,t,n){e("../../../utils");const{WebGLKernelValue:r}=e("./index");class i extends r{constructor(e,t){super(e,t),this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(e){return"constants"===this.origin?`const int ${this.id} = ${parseInt(e)};\n`:`uniform int ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueInteger:i}},{"../../../utils":114,"./index":59}],61:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array"),s="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class o extends i{constructor(e,t){super(e,t);const[n,r]=e.size;this.checkSize(n,r),this.dimensions=e.dimensions,this.textureSize=e.size,this.uploadValue=e.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);if(this.checkContext&&e.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:t,context:n}=this;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture&&t.texture.texture===e.texture)throw new Error(s);if(t.mappedTextures){const{mappedTextures:n}=t;for(let t=0;t<n.length;t++)if(n[t].texture===e.texture)throw new Error(s)}}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueMemoryOptimizedNumberTexture:o,sameError:s}},{"../../../utils":114,"./array":40}],62:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array"),{sameError:s}=e("./memory-optimized-number-texture");class o extends i{constructor(e,t){super(e,t);const[n,r]=e.size;this.checkSize(n,r);const{size:i,dimensions:s}=e;this.bitRatio=this.getBitRatio(e),this.dimensions=s,this.textureSize=i,this.uploadValue=e.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);if(this.checkContext&&e.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:t,context:n}=this;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture&&t.texture.texture===e.texture)throw new Error(s);if(t.mappedTextures){const{mappedTextures:n}=t;for(let t=0;t<n.length;t++)if(n[t].texture===e.texture)throw new Error(s)}}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueNumberTexture:o}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.dimensions=r.getDimensions(e,!0),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray:s}},{"../../../utils":114,"./array":40}],64:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=r.getDimensions(e,!0);this.textureSize=r.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flatten2dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray1DI:s}},{"../../../utils":114,"./array":40}],65:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=r.getDimensions(e,!0);this.textureSize=r.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flatten3dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray2DI:s}},{"../../../utils":114,"./array":40}],66:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=r.getDimensions(e,!0);this.textureSize=r.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],t[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flatten4dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray3DI:s}},{"../../../utils":114,"./array":40}],67:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=4;let[n,i,s]=e.size;this.dimensions=new Int32Array([n||1,i||1,s||1]),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return r.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleInput:s}},{"../../../utils":114,"./array":40}],68:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=this.getBitRatio(e),this.dimensions=r.getDimensions(e,!0),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(e),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return r.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueUnsignedArray:s}},{"../../../utils":114,"./array":40}],69:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("./array");class s extends i{constructor(e,t){super(e,t),this.bitRatio=this.getBitRatio(e);const[n,i,s]=e.size;this.dimensions=new Int32Array([n||1,i||1,s||1]),this.textureSize=r.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(e.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return r.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(value.constructor);const{context:t}=this;r.flattenTo(e.value,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueUnsignedInput:s}},{"../../../utils":114,"./array":40}],70:[function(e,t,n){const{GLKernel:r}=e("../gl/kernel"),{FunctionBuilder:i}=e("../function-builder"),{WebGLFunctionNode:s}=e("./function-node"),{utils:o}=e("../../utils"),a=e("../../plugins/math-random-uniformly-distributed"),{fragmentShader:l}=e("./fragment-shader"),{vertexShader:u}=e("./vertex-shader"),{glKernelString:c}=e("../gl/kernel-string"),{lookupKernelValueType:h}=e("./kernel-value-maps");let d=null,p=null,f=null,m=null,g=null;const y=[a],x=[],b={};class v extends r{static get isSupported(){return null!==d||(this.setupFeatureChecks(),d=this.isContextMatch(f)),d}static setupFeatureChecks(){"undefined"!==typeof document?p=document.createElement("canvas"):"undefined"!==typeof OffscreenCanvas&&(p=new OffscreenCanvas(0,0)),p&&(f=p.getContext("webgl")||p.getContext("experimental-webgl"),f&&f.getExtension&&(m={OES_texture_float:f.getExtension("OES_texture_float"),OES_texture_float_linear:f.getExtension("OES_texture_float_linear"),OES_element_index_uint:f.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:f.getExtension("WEBGL_draw_buffers")},g=this.getFeatures()))}static isContextMatch(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext}static getIsTextureFloat(){return Boolean(m.OES_texture_float)}static getIsDrawBuffers(){return Boolean(m.WEBGL_draw_buffers)}static getChannelCount(){return m.WEBGL_draw_buffers?f.getParameter(m.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return f.getParameter(f.MAX_TEXTURE_SIZE)}static lookupKernelValueType(e,t,n,r){return h(e,t,n,r)}static get testCanvas(){return p}static get testContext(){return f}static get features(){return g}static get fragmentShader(){return l}static get vertexShader(){return u}constructor(e,t){super(e,t),this.program=null,this.pipeline=t.pipeline,this.endianness=o.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(e.settings||t),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if("undefined"!==typeof document){const e=document.createElement("canvas");return e.width=2,e.height=2,e}if("undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(0,0)}initContext(){const e={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e)}initPlugins(e){const t=[],{source:n}=this;if("string"===typeof n)for(let r=0;r<y.length;r++){const e=y[r];n.match(e.functionMatch)&&t.push(e)}else if("object"===typeof n&&e.pluginNames)for(let r=0;r<y.length;r++){const n=y[r];e.pluginNames.some(e=>e===n.name)&&t.push(n)}return t}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(e){if(!this.validate)return void(this.texSize=o.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:t}=this.constructor;if(!0===this.optimizeFloatMemory&&!t.isTextureFloat)throw new Error("Float textures are not supported");if("single"===this.precision&&!t.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision=t.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=o.getVariableType(e[0],this.strictIntegers);switch(t){case"Array":this.output=o.getDimensions(t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+t)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"precision"===this.precision&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),void(this.texSize=o.clone(this.output))}null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=o.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:e,canvas:t}=this;if(null===this.maxTexSize){let n=x.indexOf(t);-1===n&&(n=x.length,x.push(t),b[n]=[e[0],e[1]]),this.maxTexSize=b[n]}this.maxTexSize[0]<e[0]&&(this.maxTexSize[0]=e[0]),this.maxTexSize[1]<e[1]&&(this.maxTexSize[1]=e[1])}setupArguments(e){this.kernelArguments=[],this.argumentTextureCount=0;const t=null===this.argumentTypes;if(t&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],e.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(e.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:n}=this;let r=0;const i=()=>this.createTexture(),s=()=>this.constantTextureCount+r++,a=e=>{this.switchKernels({type:"argumentMismatch",needed:e})},l=()=>n.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let u=0;u<e.length;u++){const r=e[u],c=this.argumentNames[u];let h;t?(h=o.getVariableType(r,this.strictIntegers),this.argumentTypes.push(h)):h=this.argumentTypes[u];const d=this.constructor.lookupKernelValueType(h,this.dynamicArguments?"dynamic":"static",this.precision,e[u]);if(null===d)return this.requestFallback(e);const p=new d(r,{name:c,type:h,tactic:this.tactic,origin:"user",context:n,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:i,onRequestIndex:s,onUpdateValueMismatch:a,onRequestContextHandle:l});this.kernelArguments.push(p),p.setup(),this.argumentSizes.push(p.textureSize),this.argumentBitRatios[u]=p.bitRatio}}createTexture(){const e=this.context.createTexture();return this.textureCache.push(e),e}setupConstants(e){const{context:t}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let n=null===this.constantTypes;n&&(this.constantTypes={}),this.constantBitRatios={};let r=0;for(const i in this.constants){const s=this.constants[i];let a;n?(a=o.getVariableType(s,this.strictIntegers),this.constantTypes[i]=a):a=this.constantTypes[i];const l=this.constructor.lookupKernelValueType(a,"static",this.precision,s);if(null===l)return this.requestFallback(e);const u=new l(s,{name:i,type:a,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>r++,onRequestContextHandle:()=>t.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[i]=u.bitRatio,this.kernelConstants.push(u),u.setup(),u.forceUploadEachRun&&this.forceUploadKernelConstants.push(u)}}build(){if(this.built)return;if(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)return;if(this.setupArguments(arguments),this.fallbackRequested)return;this.updateMaxTexSize(),this.translateSource();const e=this.pickRenderStrategy(arguments);if(e)return e;const{texSize:t,context:n,canvas:r}=this;n.enable(n.SCISSOR_TEST),this.pipeline&&this.precision,n.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),r.width=this.maxTexSize[0],r.height=this.maxTexSize[1];const i=this.threadDim=Array.from(this.output);for(;i.length<3;)i.push(1);const s=this.getVertexShader(arguments),o=n.createShader(n.VERTEX_SHADER);n.shaderSource(o,s),n.compileShader(o),this.vertShader=o;const a=this.getFragmentShader(arguments),l=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(l,a),n.compileShader(l),this.fragShader=l,this.debug&&(console.log("GLSL Shader Output:"),console.log(a)),!n.getShaderParameter(o,n.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+n.getShaderInfoLog(o));if(!n.getShaderParameter(l,n.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+n.getShaderInfoLog(l));const u=this.program=n.createProgram();n.attachShader(u,o),n.attachShader(u,l),n.linkProgram(u),this.framebuffer=n.createFramebuffer(),this.framebuffer.width=t[0],this.framebuffer.height=t[1],this.rawValueFramebuffers={};const c=new Float32Array([-1,-1,1,-1,-1,1,1,1]),h=new Float32Array([0,0,1,0,0,1,1,1]),d=c.byteLength;let p=this.buffer;p?n.bindBuffer(n.ARRAY_BUFFER,p):(p=this.buffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,p),n.bufferData(n.ARRAY_BUFFER,c.byteLength+h.byteLength,n.STATIC_DRAW)),n.bufferSubData(n.ARRAY_BUFFER,0,c),n.bufferSubData(n.ARRAY_BUFFER,d,h);const f=n.getAttribLocation(this.program,"aPos");n.enableVertexAttribArray(f),n.vertexAttribPointer(f,2,n.FLOAT,!1,0,0);const m=n.getAttribLocation(this.program,"aTexCoord");n.enableVertexAttribArray(m),n.vertexAttribPointer(m,2,n.FLOAT,!1,0,d),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer);let g=0;n.useProgram(this.program);for(let y in this.constants)this.kernelConstants[g++].updateValue(this.constants[y]);this._setupOutputTexture(),null!==this.subKernels&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const e=i.fromKernel(this,s,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}setupReturnTypes(e){if(this.graphical||this.returnType||(this.returnType=e.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let t=0;t<this.subKernels.length;t++){const n=this.subKernels[t];n.returnType||(n.returnType=e.getSubKernelResultType(t))}}run(){const{kernelArguments:e,texSize:t,forceUploadKernelConstants:n,context:r}=this;r.useProgram(this.program),r.scissor(0,0,t[0],t[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",t)),this.setUniform2f("ratio",t[0]/this.maxTexSize[0],t[1]/this.maxTexSize[1]);for(let i=0;i<n.length;i++){const e=n[i];if(e.updateValue(this.constants[e.name]),this.switchingKernels)return}for(let i=0;i<e.length;i++)if(e[i].updateValue(arguments[i]),this.switchingKernels)return;if(this.plugins)for(let i=0;i<this.plugins.length;i++){const e=this.plugins[i];e.onBeforeRun&&e.onBeforeRun(this)}if(this.graphical)return this.pipeline?(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture):(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,null),void r.drawArrays(r.TRIANGLE_STRIP,0,4));r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),null!==this.subKernels&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),r.drawArrays(r.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:e}=this;if(this.getInternalFormat()===e.RGBA)return e.RGBA;throw new Error("Unknown internal format")}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const e=this.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const e=this.context,t=this.texSize;if(this.texture)return void e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);const n=this.createTexture();e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const r=this.getInternalFormat();"single"===this.precision?e.texImage2D(e.TEXTURE_2D,0,r,t[0],t[1],0,e.RGBA,e.FLOAT,null):e.texImage2D(e.TEXTURE_2D,0,r,t[0],t[1],0,r,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),this.texture=new this.TextureConstructor({texture:n,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const e=this.context;for(let t=0;t<this.mappedTextures.length;t++){const n=this.mappedTextures[t];(n.beforeMutate()||this._mappedTextureSwitched[t])&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,n.texture,0),this._mappedTextureSwitched[t]=!1)}}_setupSubOutputTextures(){const e=this.context;if(this.mappedTextures){for(let t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);return}const t=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let n=0;n<this.subKernels.length;n++){const r=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+n+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+n),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),"single"===this.precision?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.FLOAT,null):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n+1,e.TEXTURE_2D,r,0),this.mappedTextures.push(new this.TextureConstructor({texture:r,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(e,t){if(this.uniform1fCache.hasOwnProperty(e)&&t===this.uniform1fCache[e])return;this.uniform1fCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform1f(n,t)}setUniform1i(e,t){if(this.uniform1iCache.hasOwnProperty(e)&&t===this.uniform1iCache[e])return;this.uniform1iCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform1i(n,t)}setUniform2f(e,t,n){if(this.uniform2fCache.hasOwnProperty(e)){const r=this.uniform2fCache[e];if(t===r[0]&&n===r[1])return}this.uniform2fCache[e]=[t,n];const r=this.getUniformLocation(e);this.context.uniform2f(r,t,n)}setUniform2fv(e,t){if(this.uniform2fvCache.hasOwnProperty(e)){const n=this.uniform2fvCache[e];if(t[0]===n[0]&&t[1]===n[1])return}this.uniform2fvCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform2fv(n,t)}setUniform2iv(e,t){if(this.uniform2ivCache.hasOwnProperty(e)){const n=this.uniform2ivCache[e];if(t[0]===n[0]&&t[1]===n[1])return}this.uniform2ivCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform2iv(n,t)}setUniform3fv(e,t){if(this.uniform3fvCache.hasOwnProperty(e)){const n=this.uniform3fvCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2])return}this.uniform3fvCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform3fv(n,t)}setUniform3iv(e,t){if(this.uniform3ivCache.hasOwnProperty(e)){const n=this.uniform3ivCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2])return}this.uniform3ivCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform3iv(n,t)}setUniform4fv(e,t){if(this.uniform4fvCache.hasOwnProperty(e)){const n=this.uniform4fvCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3])return}this.uniform4fvCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform4fv(n,t)}setUniform4iv(e,t){if(this.uniform4ivCache.hasOwnProperty(e)){const n=this.uniform4ivCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3])return}this.uniform4ivCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform4iv(n,t)}getUniformLocation(e){return this.programUniformLocationCache.hasOwnProperty(e)?this.programUniformLocationCache[e]:this.programUniformLocationCache[e]=this.context.getUniformLocation(this.program,e)}_getFragShaderArtifactMap(e){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(e),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(e){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return null!==this.subKernels?"#extension GL_EXT_draw_buffers : require\n":""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};\n`:" 1000;\n"}_getPluginsString(){return this.plugins?this.plugins.map(e=>e.source&&this.source.match(e.functionMatch)?e.source:"").join("\n"):"\n"}_getConstantsString(){const e=[],{threadDim:t,texSize:n}=this;return this.dynamicOutput?e.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):e.push(`ivec3 uOutputDim = ivec3(${t[0]}, ${t[1]}, ${t[2]})`,`ivec2 uTexSize = ivec2(${n[0]}, ${n[1]})`),o.linesToString(e)}_getTextureCoordinate(){const e=this.subKernels;return null===e||e.length<1?"varying vec2 vTexCoord;\n":"out vec2 vTexCoord;\n"}_getDecode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getEncode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?"float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}":""}_getMainArgumentsString(e){const t=[],{argumentNames:n}=this;for(let r=0;r<n.length;r++)t.push(this.kernelArguments[r].getSource(e[r]));return t.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const e=[],{constants:t}=this;if(t){let n=0;for(const r in t)this.constants.hasOwnProperty(r)&&e.push(this.kernelConstants[n++].getSource(this.constants[r]))}return e.join("")}getRawValueFramebuffer(e,t){if(this.rawValueFramebuffers[e]||(this.rawValueFramebuffers[e]={}),!this.rawValueFramebuffers[e][t]){const n=this.context.createFramebuffer();n.width=e,n.height=t,this.rawValueFramebuffers[e][t]=n}return this.rawValueFramebuffers[e][t]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const e=[this.getKernelResultDeclaration()],{subKernels:t}=this;if(null!==t)switch(this.returnType){case"Number":case"Float":case"Integer":for(let n=0;n<t.length;n++){const r=t[n];e.push("Integer"===r.returnType?`int subKernelResult_${r.name} = 0`:`float subKernelResult_${r.name} = 0.0`)}break;case"Array(2)":for(let n=0;n<t.length;n++)e.push(`vec2 subKernelResult_${t[n].name}`);break;case"Array(3)":for(let n=0;n<t.length;n++)e.push(`vec3 subKernelResult_${t[n].name}`);break;case"Array(4)":for(let n=0;n<t.length;n++)e.push(`vec4 subKernelResult_${t[n].name}`)}return o.linesToString(e)+this.translatedSource}getMainResultGraphical(){return o.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return o.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const e=[];if(!this.subKernels)return"";for(let t=0;t<this.subKernels.length;t++)"Integer"===this.subKernels[t].returnType?e.push(`  gl_FragData[${t+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[t].name}))`):e.push(`  gl_FragData[${t+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[t].name})`);return o.linesToString(e)}getMainResultMemoryOptimizedFloats(){const e=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const t=["r","g","b","a"];for(let n=0;n<t.length;n++){const r=t[n];this.getMainResultKernelMemoryOptimizedFloats(e,r),this.getMainResultSubKernelMemoryOptimizedFloats(e,r),n+1<t.length&&e.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return o.linesToString(e)}getMainResultKernelMemoryOptimizedFloats(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${t} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(e,t){if(!this.subKernels)return e;for(let n=0;n<this.subKernels.length;n++)"Integer"===this.subKernels[n].returnType?e.push(`  gl_FragData[${n+1}].${t} = float(subKernelResult_${this.subKernels[n].name})`):e.push(`  gl_FragData[${n+1}].${t} = subKernelResult_${this.subKernels[n].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];"Integer"===n.returnType?e.push(`  gl_FragData[${t+1}][0] = float(subKernelResult_${n.name})`):e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${n.name}`)}return e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`);return e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`);return e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const e=[];if(!this.subKernels)return e;switch(this.returnType){case"Number":case"Float":case"Integer":for(let t=0;t<this.subKernels.length;++t)"Integer"===this.subKernels[t].returnType?e.push(`  gl_FragData[${t+1}] = float(subKernelResult_${this.subKernels[t].name})`):e.push(`  gl_FragData[${t+1}] = subKernelResult_${this.subKernels[t].name}`);break;case"Array(2)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`);break;case"Array(3)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`);break;case"Array(4)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`,`  gl_FragData[${t+1}][3] = subKernelResult_${this.subKernels[t].name}[3]`)}return e}replaceArtifacts(e,t){return e.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(e,n)=>{if(t.hasOwnProperty(n))return t[n];throw`unhandled artifact ${n}`})}getFragmentShader(e){return null!==this.compiledFragmentShader?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(e))}getVertexShader(e){return null!==this.compiledVertexShader?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(e))}toString(){const e=o.linesToString(["const gl = context"]);return c(this.constructor,arguments,this,e)}destroy(e){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const n in this.rawValueFramebuffers){for(const e in this.rawValueFramebuffers[n])this.context.deleteFramebuffer(this.rawValueFramebuffers[n][e]),delete this.rawValueFramebuffers[n][e];delete this.rawValueFramebuffers[n]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const e=this.textureCache.indexOf(this.texture.texture);e>-1&&this.textureCache.splice(e,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let e=0;e<this.mappedTextures.length;e++){const t=this.mappedTextures[e];t.delete();const n=this.textureCache.indexOf(t.texture);n>-1&&this.textureCache.splice(n,1)}this.mappedTextures=null}if(this.kernelArguments)for(let n=0;n<this.kernelArguments.length;n++)this.kernelArguments[n].destroy();if(this.kernelConstants)for(let n=0;n<this.kernelConstants.length;n++)this.kernelConstants[n].destroy();for(;this.textureCache.length>0;){const e=this.textureCache.pop();this.context.deleteTexture(e)}if(e){const e=x.indexOf(this.canvas);e>=0&&(x[e]=null,b[e]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const t=this.gpu.kernels.indexOf(this);-1!==t&&this.gpu.kernels.splice(t,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(e){const t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}toJSON(){const e=super.toJSON();return e.functionNodes=i.fromKernel(this,s).toJSON(),e.settings.threadDim=this.threadDim,e}}t.exports={WebGLKernel:v}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(e,t,n){const r="__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}";t.exports={vertexShader:r}},{}],72:[function(e,t,n){const r=`#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;t.exports={fragmentShader:r}},{}],73:[function(e,t,n){const{utils:r}=e("../../utils"),{WebGLFunctionNode:i}=e("../web-gl/function-node");class s extends i{astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);const n=this.getType(e),i=r.sanitizeName(e.name);return"Infinity"===e.name?t.push("intBitsToFloat(2139095039)"):"Boolean"===n&&this.argumentNames.indexOf(i)>-1?t.push(`bool(user_${i})`):t.push(`user_${i}`),t}}t.exports={WebGL2FunctionNode:s}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(e,t,n){const{WebGL2KernelValueBoolean:r}=e("./kernel-value/boolean"),{WebGL2KernelValueFloat:i}=e("./kernel-value/float"),{WebGL2KernelValueInteger:s}=e("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:o}=e("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:a}=e("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:l}=e("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:u}=e("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:c}=e("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:h}=e("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:d}=e("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:p}=e("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:f}=e("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:m}=e("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:g}=e("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:y}=e("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:x}=e("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:b}=e("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:v}=e("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:w}=e("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:S}=e("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:k}=e("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:T}=e("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:A}=e("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:_}=e("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:E}=e("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:C}=e("./kernel-value/array2"),{WebGL2KernelValueArray3:D}=e("./kernel-value/array3"),{WebGL2KernelValueArray4:M}=e("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:L}=e("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:I}=e("./kernel-value/dynamic-unsigned-array"),P={unsigned:{dynamic:{Boolean:r,Integer:s,Float:i,Array:I,"Array(2)":C,"Array(3)":D,"Array(4)":M,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:m,NumberTexture:b,"ArrayTexture(1)":b,"ArrayTexture(2)":b,"ArrayTexture(3)":b,"ArrayTexture(4)":b,MemoryOptimizedNumberTexture:y,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:u,HTMLVideo:h},static:{Boolean:r,Float:i,Integer:s,Array:L,"Array(2)":C,"Array(3)":D,"Array(4)":M,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:f,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:l,HTMLVideo:c}},single:{dynamic:{Boolean:r,Integer:s,Float:i,Array:w,"Array(2)":C,"Array(3)":D,"Array(4)":M,"Array1D(2)":k,"Array1D(3)":k,"Array1D(4)":k,"Array2D(2)":A,"Array2D(3)":A,"Array2D(4)":A,"Array3D(2)":E,"Array3D(3)":E,"Array3D(4)":E,Input:p,NumberTexture:b,"ArrayTexture(1)":b,"ArrayTexture(2)":b,"ArrayTexture(3)":b,"ArrayTexture(4)":b,MemoryOptimizedNumberTexture:y,HTMLCanvas:a,OffscreenCanvas:a,HTMLImage:a,ImageBitmap:a,ImageData:a,HTMLImageArray:u,HTMLVideo:h},static:{Boolean:r,Float:i,Integer:s,Array:v,"Array(2)":C,"Array(3)":D,"Array(4)":M,"Array1D(2)":S,"Array1D(3)":S,"Array1D(4)":S,"Array2D(2)":T,"Array2D(3)":T,"Array2D(4)":T,"Array3D(2)":_,"Array3D(3)":_,"Array3D(4)":_,Input:d,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:g,HTMLCanvas:o,OffscreenCanvas:o,HTMLImage:o,ImageBitmap:o,ImageData:o,HTMLImageArray:l,HTMLVideo:c}}};function O(e,t,n,r){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(e=r.type);const i=P[n][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error(`Could not find a KernelValue for ${e}`);return i[e]}t.exports={kernelValueMaps:P,lookupKernelValueType:O}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(e,t,n){const{WebGLKernelValueArray2:r}=e("../../web-gl/kernel-value/array2");class i extends r{}t.exports={WebGL2KernelValueArray2:i}},{"../../web-gl/kernel-value/array2":41}],76:[function(e,t,n){const{WebGLKernelValueArray3:r}=e("../../web-gl/kernel-value/array3");class i extends r{}t.exports={WebGL2KernelValueArray3:i}},{"../../web-gl/kernel-value/array3":42}],77:[function(e,t,n){const{WebGLKernelValueArray4:r}=e("../../web-gl/kernel-value/array4");class i extends r{}t.exports={WebGL2KernelValueArray4:i}},{"../../web-gl/kernel-value/array4":43}],78:[function(e,t,n){const{WebGLKernelValueBoolean:r}=e("../../web-gl/kernel-value/boolean");class i extends r{}t.exports={WebGL2KernelValueBoolean:i}},{"../../web-gl/kernel-value/boolean":44}],79:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGL2KernelValueHTMLImageArray:i}=e("./html-image-array");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2DArray ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){const{width:t,height:n}=e[0];this.checkSize(t,n),this.dimensions=[t,n,e.length],this.textureSize=[t,n],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicHTMLImageArray:s}},{"../../../utils":114,"./html-image-array":92}],80:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueDynamicHTMLImage:i}=e("../../web-gl/kernel-value/dynamic-html-image");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicHTMLImage:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(e,t,n){e("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:r}=e("./dynamic-html-image");class i extends r{}t.exports={WebGL2KernelValueDynamicHTMLVideo:i}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:i}=e("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class s extends i{getSource(){return r.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueDynamicNumberTexture:i}=e("../../web-gl/kernel-value/dynamic-number-texture");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGL2KernelValueSingleArray:i}=e("../../web-gl2/kernel-value/single-array");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=r.getDimensions(e,!0),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGL2KernelValueSingleArray1DI:i}=e("../../web-gl2/kernel-value/single-array1d-i");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray1DI:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGL2KernelValueSingleArray2DI:i}=e("../../web-gl2/kernel-value/single-array2d-i");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray2DI:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGL2KernelValueSingleArray3DI:i}=e("../../web-gl2/kernel-value/single-array3d-i");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray3DI:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGL2KernelValueSingleInput:i}=e("../../web-gl2/kernel-value/single-input");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,n,i]=e.size;this.dimensions=new Int32Array([t||1,n||1,i||1]),this.textureSize=r.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleInput:s}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:i}=e("../../web-gl/kernel-value/dynamic-unsigned-array");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicUnsignedArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:i}=e("../../web-gl/kernel-value/dynamic-unsigned-input");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicUnsignedInput:s}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(e,t,n){e("../../../utils");const{WebGLKernelValueFloat:r}=e("../../web-gl/kernel-value/float");class i extends r{}t.exports={WebGL2KernelValueFloat:i}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelArray:i}=e("../../web-gl/kernel-value/array");class s extends i{constructor(e,t){super(e,t),this.checkSize(e[0].width,e[0].height),this.dimensions=[e[0].width,e[0].height,e.length],this.textureSize=[e[0].width,e[0].height]}defineTexture(){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D_ARRAY,this.texture),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2DArray ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D_ARRAY,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage3D(t.TEXTURE_2D_ARRAY,0,t.RGBA,e[0].width,e[0].height,e.length,0,t.RGBA,t.UNSIGNED_BYTE,null);for(let n=0;n<e.length;n++){const r=0,i=0,s=1;t.texSubImage3D(t.TEXTURE_2D_ARRAY,0,r,i,n,e[n].width,e[n].height,s,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e[n])}this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueHTMLImageArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueHTMLImage:i}=e("../../web-gl/kernel-value/html-image");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}t.exports={WebGL2KernelValueHTMLImage:s}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(e,t,n){e("../../../utils");const{WebGL2KernelValueHTMLImage:r}=e("./html-image");class i extends r{}t.exports={WebGL2KernelValueHTMLVideo:i}},{"../../../utils":114,"./html-image":93}],95:[function(e,t,n){const{WebGLKernelValueInteger:r}=e("../../web-gl/kernel-value/integer");class i extends r{getSource(e){const t=this.getVariablePrecisionString();return"constants"===this.origin?`const ${t} int ${this.id} = ${parseInt(e)};\n`:`uniform ${t} int ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}t.exports={WebGL2KernelValueInteger:i}},{"../../web-gl/kernel-value/integer":60}],96:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:i}=e("../../web-gl/kernel-value/memory-optimized-number-texture");class s extends i{getSource(){const{id:e,sizeId:t,textureSize:n,dimensionsId:i,dimensions:s}=this,o=this.getVariablePrecisionString();return r.linesToString([`uniform sampler2D ${e}`,`${o} ivec2 ${t} = ivec2(${n[0]}, ${n[1]})`,`${o} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}t.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueNumberTexture:i}=e("../../web-gl/kernel-value/number-texture");class s extends i{getSource(){const{id:e,sizeId:t,textureSize:n,dimensionsId:i,dimensions:s}=this,o=this.getVariablePrecisionString();return r.linesToString([`uniform ${o} sampler2D ${e}`,`${o} ivec2 ${t} = ivec2(${n[0]}, ${n[1]})`,`${o} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}t.exports={WebGL2KernelValueNumberTexture:s}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray:i}=e("../../web-gl/kernel-value/single-array");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray1DI:i}=e("../../web-gl/kernel-value/single-array1d-i");class s extends i{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray1DI:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray2DI:i}=e("../../web-gl/kernel-value/single-array2d-i");class s extends i{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray2DI:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleArray3DI:i}=e("../../web-gl/kernel-value/single-array3d-i");class s extends i{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;r.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray3DI:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueSingleInput:i}=e("../../web-gl/kernel-value/single-input");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){const{context:t}=this;r.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleInput:s}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueUnsignedArray:i}=e("../../web-gl/kernel-value/unsigned-array");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}t.exports={WebGL2KernelValueUnsignedArray:s}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(e,t,n){const{utils:r}=e("../../../utils"),{WebGLKernelValueUnsignedInput:i}=e("../../web-gl/kernel-value/unsigned-input");class s extends i{getSource(){const e=this.getVariablePrecisionString();return r.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}t.exports={WebGL2KernelValueUnsignedInput:s}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(e,t,n){const{WebGLKernel:r}=e("../web-gl/kernel"),{WebGL2FunctionNode:i}=e("./function-node"),{FunctionBuilder:s}=e("../function-builder"),{utils:o}=e("../../utils"),{fragmentShader:a}=e("./fragment-shader"),{vertexShader:l}=e("./vertex-shader"),{lookupKernelValueType:u}=e("./kernel-value-maps");let c=null,h=null,d=null,p=null;class f extends r{static get isSupported(){return null!==c||(this.setupFeatureChecks(),c=this.isContextMatch(d)),c}static setupFeatureChecks(){"undefined"!==typeof document?h=document.createElement("canvas"):"undefined"!==typeof OffscreenCanvas&&(h=new OffscreenCanvas(0,0)),h&&(d=h.getContext("webgl2"),d&&d.getExtension&&(d.getExtension("EXT_color_buffer_float"),d.getExtension("OES_texture_float_linear"),p=this.getFeatures()))}static isContextMatch(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext}static getFeatures(){const e=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return d.getParameter(d.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return d.getParameter(d.MAX_TEXTURE_SIZE)}static lookupKernelValueType(e,t,n,r){return u(e,t,n,r)}static get testCanvas(){return h}static get testContext(){return d}static get features(){return p}static get fragmentShader(){return a}static get vertexShader(){return l}initContext(){const e={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",e)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(e){if(!this.validate)return void(this.texSize=o.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:t}=this.constructor;if("single"===this.precision&&!t.isFloatRead)throw new Error("Float texture outputs are not supported");if(this.graphical||null!==this.precision||(this.precision=t.isFloatRead?"single":"unsigned"),null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=o.getVariableType(e[0],this.strictIntegers);switch(t){case"Array":this.output=o.getDimensions(t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+t)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"single"===this.precision&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),void(this.texSize=o.clone(this.output))}!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=o.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const e=s.fromKernel(this,i,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:e}=this;switch(this.getInternalFormat()){case e.R32F:return e.RED;case e.RG32F:return e.RG;case e.RGBA32F:case e.RGBA:return e.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:e}=this;if("single"===this.precision){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?e.RGBA32F:e.R32F;case"Array(2)":return e.RG32F;case"Array(3)":case"Array(4)":return e.RGBA32F;default:throw new Error("Unhandled return type")}return e.RGBA32F}return e.RGBA}_setupOutputTexture(){const e=this.context;if(this.texture)return void e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer);const t=e.createTexture(),n=this.texSize;e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const r=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,r,n[0],n[1]):e.texImage2D(e.TEXTURE_2D,0,r,n[0],n[1],0,r,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.texture=new this.TextureConstructor({texture:t,size:n,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const e=this.context;if(this.mappedTextures){for(let t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);return}const t=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let n=0;n<this.subKernels.length;n++){const r=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+n+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+n),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const i=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,i,t[0],t[1]):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n+1,e.TEXTURE_2D,r,0),this.mappedTextures.push(new this.TextureConstructor({texture:r,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const e=this.subKernels,t=this.getVariablePrecisionString(this.texSize,this.tactic);return null===e||e.length<1?`in ${t} vec2 vTexCoord;\n`:`out ${t} vec2 vTexCoord;\n`}_getMainArgumentsString(e){const t=[],n=this.argumentNames;for(let r=0;r<n.length;r++)t.push(this.kernelArguments[r].getSource(e[r]));return t.join("")}getKernelString(){const e=[this.getKernelResultDeclaration()],t=this.subKernels;if(null!==t)switch(e.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let n=0;n<t.length;n++){const r=t[n];e.push("Integer"===r.returnType?`int subKernelResult_${r.name} = 0`:`float subKernelResult_${r.name} = 0.0`,`layout(location = ${n+1}) out vec4 data${n+1}`)}break;case"Array(2)":for(let n=0;n<t.length;n++)e.push(`vec2 subKernelResult_${t[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`);break;case"Array(3)":for(let n=0;n<t.length;n++)e.push(`vec3 subKernelResult_${t[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`);break;case"Array(4)":for(let n=0;n<t.length;n++)e.push(`vec4 subKernelResult_${t[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`)}else e.push("out vec4 data0");return o.linesToString(e)+this.translatedSource}getMainResultGraphical(){return o.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return o.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const e=[];if(!this.subKernels)return"";for(let t=0;t<this.subKernels.length;t++)"Integer"===this.subKernels[t].returnType?e.push(`  data${t+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[t].name}))`):e.push(`  data${t+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[t].name})`);return o.linesToString(e)}getMainResultKernelMemoryOptimizedFloats(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${t} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(e,t){if(!this.subKernels)return e;for(let n=0;n<this.subKernels.length;n++){const r=this.subKernels[n];"Integer"===r.returnType?e.push(`  data${n+1}.${t} = float(subKernelResult_${r.name})`):e.push(`  data${n+1}.${t} = subKernelResult_${r.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];"Integer"===n.returnType?e.push(`  data${t+1}[0] = float(subKernelResult_${n.name})`):e.push(`  data${t+1}[0] = subKernelResult_${n.name}`)}return e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];e.push(`  data${t+1}[0] = subKernelResult_${n.name}[0]`,`  data${t+1}[1] = subKernelResult_${n.name}[1]`)}return e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];e.push(`  data${t+1}[0] = subKernelResult_${n.name}[0]`,`  data${t+1}[1] = subKernelResult_${n.name}[1]`,`  data${t+1}[2] = subKernelResult_${n.name}[2]`)}return e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  data${t+1} = subKernelResult_${this.subKernels[t].name}`);return e}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const e=super.toJSON();return e.functionNodes=s.fromKernel(this,i).toJSON(),e.settings.threadDim=this.threadDim,e}}t.exports={WebGL2Kernel:f}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(e,t,n){const r="#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}";t.exports={vertexShader:r}},{}],107:[function(e,t,n){const r=e("./index"),i=r.GPU;for(const o in r)r.hasOwnProperty(o)&&"GPU"!==o&&(i[o]=r[o]);function s(e){e.GPU||Object.defineProperty(e,"GPU",{get:()=>i})}"undefined"!==typeof window&&s(window),"undefined"!==typeof self&&s(self),t.exports=r},{"./index":109}],108:[function(e,t,n){const{gpuMock:r}=e("gpu-mock.js"),{utils:i}=e("./utils");e("./backend/kernel");const{CPUKernel:s}=e("./backend/cpu/kernel"),{HeadlessGLKernel:o}=e("./backend/headless-gl/kernel"),{WebGL2Kernel:a}=e("./backend/web-gl2/kernel"),{WebGLKernel:l}=e("./backend/web-gl/kernel"),{kernelRunShortcut:u}=e("./kernel-run-shortcut"),c=[o,a,l],h=["gpu","cpu"],d={headlessgl:o,webgl2:a,webgl:l};let p=!0;class f{static disableValidation(){p=!1}static enableValidation(){p=!0}static get isGPUSupported(){return c.some(e=>e.isSupported)}static get isKernelMapSupported(){return c.some(e=>e.isSupported&&e.features.kernelMap)}static get isOffscreenCanvasSupported(){return"undefined"!==typeof Worker&&"undefined"!==typeof OffscreenCanvas||"undefined"!==typeof importScripts}static get isWebGLSupported(){return l.isSupported}static get isWebGL2Supported(){return a.isSupported}static get isHeadlessGLSupported(){return o.isSupported}static get isCanvasSupported(){return"undefined"!==typeof HTMLCanvasElement}static get isGPUHTMLImageArraySupported(){return a.isSupported}static get isSinglePrecisionSupported(){return c.some(e=>e.isSupported&&e.features.isFloatRead&&e.features.isTextureFloat)}constructor(e){if(e=e||{},this.canvas=e.canvas||null,this.context=e.context||null,this.mode=e.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,"dev"!==this.mode){if(this.chooseKernel(),e.functions)for(let t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);if(e.nativeFunctions)for(const t in e.nativeFunctions){if(!e.nativeFunctions.hasOwnProperty(t))continue;const n=e.nativeFunctions[t],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}}}chooseKernel(){if(this.Kernel)return;let e=null;if(this.context){for(let t=0;t<c.length;t++){const n=c[t];if(n.isContextMatch(this.context)){if(!n.isSupported)throw new Error(`Kernel type ${n.name} not supported`);e=n;break}}if(null===e)throw new Error("unknown Context")}else if(this.mode){if(this.mode in d)p&&!d[this.mode].isSupported||(e=d[this.mode]);else if("gpu"===this.mode){for(let t=0;t<c.length;t++)if(c[t].isSupported){e=c[t];break}}else"cpu"===this.mode&&(e=s);if(!e)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let t=0;t<c.length;t++)if(c[t].isSupported){e=c[t];break}e||(e=s)}this.mode||(this.mode=e.mode),this.Kernel=e}createKernel(e,t){if("undefined"===typeof e)throw new Error("Missing source parameter");if("object"!==typeof e&&!i.isFunction(e)&&"string"!==typeof e)throw new Error("source parameter not a function");const n=this.kernels;if("dev"===this.mode){const i=r(e,m(t));return n.push(i),i}e="function"===typeof e?e.toString():e;const o={},a=m(t)||{};function l(t){console.warn("Falling back to CPU");const n=new s(e,{argumentTypes:f.argumentTypes,constantTypes:f.constantTypes,graphical:f.graphical,loopMaxIterations:f.loopMaxIterations,constants:f.constants,dynamicOutput:f.dynamicOutput,dynamicArgument:f.dynamicArguments,output:f.output,precision:f.precision,pipeline:f.pipeline,immutable:f.immutable,optimizeFloatMemory:f.optimizeFloatMemory,fixIntegerDivisionAccuracy:f.fixIntegerDivisionAccuracy,functions:f.functions,nativeFunctions:f.nativeFunctions,injectedNative:f.injectedNative,subKernels:f.subKernels,strictIntegers:f.strictIntegers,debug:f.debug});n.build.apply(n,t);const r=n.run.apply(n,t);return f.replaceKernel(n),r}function c(t,r,i){i.debug&&console.warn("Switching kernels");let s=null;if(i.signature&&!o[i.signature]&&(o[i.signature]=i),i.dynamicOutput)for(let e=t.length-1;e>=0;e--){const n=t[e];"outputPrecisionMismatch"===n.type&&(s=n.needed)}const a=i.constructor,u=a.getArgumentTypes(i,r),h=a.getSignature(i,u),d=o[h];if(d)return d.onActivate(i),d;const m=o[h]=new a(e,{argumentTypes:u,constantTypes:i.constantTypes,graphical:i.graphical,loopMaxIterations:i.loopMaxIterations,constants:i.constants,dynamicOutput:i.dynamicOutput,dynamicArgument:i.dynamicArguments,context:i.context,canvas:i.canvas,output:s||i.output,precision:i.precision,pipeline:i.pipeline,immutable:i.immutable,optimizeFloatMemory:i.optimizeFloatMemory,fixIntegerDivisionAccuracy:i.fixIntegerDivisionAccuracy,functions:i.functions,nativeFunctions:i.nativeFunctions,injectedNative:i.injectedNative,subKernels:i.subKernels,strictIntegers:i.strictIntegers,debug:i.debug,gpu:i.gpu,validate:p,returnType:i.returnType,tactic:i.tactic,onRequestFallback:l,onRequestSwitchKernel:c,texture:i.texture,mappedTextures:i.mappedTextures,drawBuffersMap:i.drawBuffersMap});return m.build.apply(m,r),f.replaceKernel(m),n.push(m),m}t&&"object"===typeof t.argumentTypes&&(a.argumentTypes=Object.keys(t.argumentTypes).map(e=>t.argumentTypes[e]));const h=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:p,onRequestFallback:l,onRequestSwitchKernel:c},a),d=new this.Kernel(e,h),f=u(d);return this.canvas||(this.canvas=d.canvas),this.context||(this.context=d.context),n.push(d),f}createKernelMap(){let e,t;const n=typeof arguments[arguments.length-2];if("function"===n||"string"===n?(e=arguments[arguments.length-2],t=arguments[arguments.length-1]):e=arguments[arguments.length-1],"dev"!==this.mode&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&h.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const r=m(t);if(t&&"object"===typeof t.argumentTypes&&(r.argumentTypes=Object.keys(t.argumentTypes).map(e=>t.argumentTypes[e])),Array.isArray(arguments[0])){r.subKernels=[];const e=arguments[0];for(let t=0;t<e.length;t++){const n=e[t].toString(),s=i.getFunctionNameFromString(n);r.subKernels.push({name:s,source:n,property:t})}}else{r.subKernels=[];const e=arguments[0];for(let t in e){if(!e.hasOwnProperty(t))continue;const n=e[t].toString(),s=i.getFunctionNameFromString(n);r.subKernels.push({name:s||t,source:n,property:t})}}return this.createKernel(e,r)}combineKernels(){const e=arguments[arguments.length-1];if("cpu"===arguments[0].kernel.constructor.mode)return e;const t=arguments[0].canvas,n=arguments[0].context,r=arguments.length-1;for(let i=0;i<r;i++)arguments[i].setCanvas(t).setContext(n).setPipeline(!0);return function(){const t=e.apply(this,arguments);return t.toArray?t.toArray():t}}setFunctions(e){return this.functions=e,this}setNativeFunctions(e){return this.nativeFunctions=e,this}addFunction(e,t){return this.functions.push({source:e,settings:t}),this}addNativeFunction(e,t,n){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:e,source:t},n)),this}injectNative(e){return this.injectedNative=e,this}destroy(){return new Promise((e,t)=>{this.kernels||e(),setTimeout(()=>{try{for(let t=0;t<this.kernels.length;t++)this.kernels[t].destroy(!0);let e=this.kernels[0];e&&(e.kernel&&(e=e.kernel),e.constructor.destroyContext&&e.constructor.destroyContext(this.context))}catch(n){t(n)}e()},0)})}}function m(e){if(!e)return{};const t=Object.assign({},e);return e.hasOwnProperty("floatOutput")&&(i.warnDeprecated("setting","floatOutput","precision"),t.precision=e.floatOutput?"single":"unsigned"),e.hasOwnProperty("outputToTexture")&&(i.warnDeprecated("setting","outputToTexture","pipeline"),t.pipeline=Boolean(e.outputToTexture)),e.hasOwnProperty("outputImmutable")&&(i.warnDeprecated("setting","outputImmutable","immutable"),t.immutable=Boolean(e.outputImmutable)),e.hasOwnProperty("floatTextures")&&(i.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),t.optimizeFloatMemory=Boolean(e.floatTextures)),t}t.exports={GPU:f,kernelOrder:c,kernelTypes:h}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(e,t,n){const{GPU:r}=e("./gpu"),{alias:i}=e("./alias"),{utils:s}=e("./utils"),{Input:o,input:a}=e("./input"),{Texture:l}=e("./texture"),{FunctionBuilder:u}=e("./backend/function-builder"),{FunctionNode:c}=e("./backend/function-node"),{CPUFunctionNode:h}=e("./backend/cpu/function-node"),{CPUKernel:d}=e("./backend/cpu/kernel"),{HeadlessGLKernel:p}=e("./backend/headless-gl/kernel"),{WebGLFunctionNode:f}=e("./backend/web-gl/function-node"),{WebGLKernel:m}=e("./backend/web-gl/kernel"),{kernelValueMaps:g}=e("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:y}=e("./backend/web-gl2/function-node"),{WebGL2Kernel:x}=e("./backend/web-gl2/kernel"),{kernelValueMaps:b}=e("./backend/web-gl2/kernel-value-maps"),{GLKernel:v}=e("./backend/gl/kernel"),{Kernel:w}=e("./backend/kernel"),{FunctionTracer:S}=e("./backend/function-tracer"),k=e("./plugins/math-random-uniformly-distributed");t.exports={alias:i,CPUFunctionNode:h,CPUKernel:d,GPU:r,FunctionBuilder:u,FunctionNode:c,HeadlessGLKernel:p,Input:o,input:a,Texture:l,utils:s,WebGL2FunctionNode:y,WebGL2Kernel:x,webGL2KernelValueMaps:b,WebGLFunctionNode:f,WebGLKernel:m,webGLKernelValueMaps:g,GLKernel:v,Kernel:w,FunctionTracer:S,plugins:{mathRandom:k}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(e,t,n){class r{constructor(e,t){this.value=e,Array.isArray(t)?this.size=t:(this.size=new Int32Array(3),t.z?this.size=new Int32Array([t.x,t.y,t.z]):t.y?this.size=new Int32Array([t.x,t.y]):this.size=new Int32Array([t.x]));const[n,r,i]=this.size;if(i){if(this.value.length!==n*r*i)throw new Error(`Input size ${this.value.length} does not match ${n} * ${r} * ${i} = ${r*n*i}`)}else if(r){if(this.value.length!==n*r)throw new Error(`Input size ${this.value.length} does not match ${n} * ${r} = ${r*n}`)}else if(this.value.length!==n)throw new Error(`Input size ${this.value.length} does not match ${n}`)}toArray(){const{utils:t}=e("./utils"),[n,r,i]=this.size;return i?t.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),n,r,i):r?t.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),n,r):this.value}}function i(e,t){return new r(e,t)}t.exports={Input:r,input:i}},{"./utils":114}],111:[function(e,t,n){const{utils:r}=e("./utils");function i(e){let t=function(){return e.build.apply(e,arguments),t=function(){let t=e.run.apply(e,arguments);if(e.switchingKernels){const r=e.resetSwitchingKernels(),i=e.onRequestSwitchKernel(r,arguments,e);n.kernel=e=i,t=i.run.apply(i,arguments)}return e.renderKernels?e.renderKernels():e.renderOutput?e.renderOutput():t},t.apply(e,arguments)};const n=function(){return t.apply(e,arguments)};return n.exec=function(){return new Promise((e,n)=>{try{e(t.apply(this,arguments))}catch(r){n(r)}})},n.replaceKernel=function(t){s(e=t,n)},s(e,n),n}function s(e,t){if(t.kernel)return void(t.kernel=e);const n=r.allPropertiesOf(e);for(let r=0;r<n.length;r++){const i=n[r];"_"===i[0]&&"_"===i[1]||("function"===typeof e[i]?"add"===i.substring(0,3)||"set"===i.substring(0,3)?t[i]=function(){return t.kernel[i].apply(t.kernel,arguments),t}:t[i]=function(){return t.kernel[i].apply(t.kernel,arguments)}:(t.__defineGetter__(i,()=>t.kernel[i]),t.__defineSetter__(i,e=>{t.kernel[i]=e})))}t.kernel=e}t.exports={kernelRunShortcut:i}},{"./utils":114}],112:[function(e,t,n){const r={name:"math-random-uniformly-distributed",onBeforeRun:e=>{e.setUniform1f("randomSeed1",Math.random()),e.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:"// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}"};t.exports=r},{}],113:[function(e,t,n){class r{constructor(e){const{texture:t,size:n,dimensions:r,output:i,context:s,type:o="NumberTexture",kernel:a,internalFormat:l,textureFormat:u}=e;if(!i)throw new Error('settings property "output" required.');if(!s)throw new Error('settings property "context" required.');if(!t)throw new Error('settings property "texture" required.');if(!a)throw new Error('settings property "kernel" required.');this.texture=t,t._refs?t._refs++:t._refs=1,this.size=n,this.dimensions=r,this.output=i,this.context=s,this.kernel=a,this.type=o,this._deleted=!1,this.internalFormat=l,this.textureFormat=u}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}t.exports={Texture:r}},{}],114:[function(e,t,n){const r=e("acorn"),{Input:i}=e("./input"),{Texture:s}=e("./texture"),o=/function ([^(]*)/,a=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,l=/([^\s,]+)/g,u={systemEndianness:()=>p,getSystemEndianness(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return"LE";if(222===n[0])return"BE";throw new Error("unknown endianness")},isFunction:e=>"function"===typeof e,isFunctionString:e=>"string"===typeof e&&"function"===e.slice(0,8).toLowerCase(),getFunctionNameFromString(e){const t=o.exec(e);return t&&0!==t.length?t[1].trim():null},getFunctionBodyFromString:e=>e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),getArgumentNamesFromString(e){const t=e.replace(a,"");let n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(l);return null===n&&(n=[]),n},clone(e){if(null===e||"object"!==typeof e||e.hasOwnProperty("isActiveClone"))return e;const t=e.constructor();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e.isActiveClone=null,t[n]=u.clone(e[n]),delete e.isActiveClone);return t},isArray:e=>!isNaN(e.length),getVariableType(e,t){if(u.isArray(e))return e.length>0&&"IMG"===e[0].nodeName?"HTMLImageArray":"Array";switch(e.constructor){case Boolean:return"Boolean";case Number:return t&&Number.isInteger(e)?"Integer":"Float";case s:return e.type;case i:return"Input"}if("nodeName"in e)switch(e.nodeName){case"IMG":case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(e.hasOwnProperty("type"))return e.type;if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return"OffscreenCanvas";if("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap)return"ImageBitmap";if("undefined"!==typeof ImageData&&e instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(e,t){let[n,r,i]=t,s=(n||1)*(r||1)*(i||1);return e.optimizeFloatMemory&&"single"===e.precision&&(n=s=Math.ceil(s/4)),r>1&&n*r===s?new Int32Array([n,r]):u.closestSquareDimensions(s)},closestSquareDimensions(e){const t=Math.sqrt(e);let n=Math.ceil(t),r=Math.floor(t);for(;n*r<e;)n--,r=Math.ceil(e/n);return new Int32Array([r,Math.ceil(e/r)])},getMemoryOptimizedFloatTextureSize(e,t){const n=u.roundTo((e[0]||1)*(e[1]||1)*(e[2]||1)*(e[3]||1),4)/t;return u.closestSquareDimensions(n)},getMemoryOptimizedPackedTextureSize(e,t){const[n,r,i]=e,s=u.roundTo((n||1)*(r||1)*(i||1),4)/(4/t);return u.closestSquareDimensions(s)},roundTo:(e,t)=>Math.floor((e+t-1)/t)*t,getDimensions(e,t){let n;if(u.isArray(e)){const t=[];let r=e;for(;u.isArray(r);)t.push(r.length),r=r[0];n=t.reverse()}else if(e instanceof s)n=e.output;else{if(!(e instanceof i))throw new Error(`Unknown dimensions of ${e}`);n=e.size}if(t)for(n=Array.from(n);n.length<3;)n.push(1);return new Int32Array(n)},flatten2dArrayTo(e,t){let n=0;for(let r=0;r<e.length;r++)t.set(e[r],n),n+=e[r].length},flatten3dArrayTo(e,t){let n=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)t.set(e[r][i],n),n+=e[r][i].length},flatten4dArrayTo(e,t){let n=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)for(let s=0;s<e[r][i].length;s++)t.set(e[r][i][s],n),n+=e[r][i][s].length},flattenTo(e,t){u.isArray(e[0])?u.isArray(e[0][0])?u.isArray(e[0][0][0])?u.flatten4dArrayTo(e,t):u.flatten3dArrayTo(e,t):u.flatten2dArrayTo(e,t):t.set(e)},splitArray(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(new e.constructor(e.buffer,4*r+e.byteOffset,t));return n},getAstString(e,t){const n=Array.isArray(e)?e:e.split(/\r?\n/g),r=t.loc.start,i=t.loc.end,s=[];if(r.line===i.line)s.push(n[r.line-1].substring(r.column,i.column));else{s.push(n[r.line-1].slice(r.column));for(let e=r.line;e<i.line;e++)s.push(n[e]);s.push(n[i.line-1].slice(0,i.column))}return s.join("\n")},allPropertiesOf(e){const t=[];do{t.push.apply(t,Object.getOwnPropertyNames(e))}while(e=Object.getPrototypeOf(e));return t},linesToString:e=>e.length>0?e.join(";\n")+";\n":"\n",warnDeprecated(e,t,n){n?console.warn(`You are using a deprecated ${e} "${t}". It has been replaced with "${n}". Fixing, but please upgrade as it will soon be removed.`):console.warn(`You are using a deprecated ${e} "${t}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(e,t,n)=>{const r=n/2|0,i=4*t,s=new Uint8ClampedArray(4*t),o=e.slice(0);for(let a=0;a<r;++a){const e=a*i,t=(n-a-1)*i;s.set(o.subarray(e,e+i)),o.copyWithin(e,t,t+i),o.set(s,t)}return o},erectPackedFloat:(e,t)=>e.subarray(0,t),erect2DPackedFloat:(e,t,n)=>{const r=new Array(n);for(let i=0;i<n;i++){const n=i*t,s=n+t;r[i]=e.subarray(n,s)}return r},erect3DPackedFloat:(e,t,n,r)=>{const i=new Array(r);for(let s=0;s<r;s++){const r=new Array(n);for(let i=0;i<n;i++){const o=s*n*t+i*t,a=o+t;r[i]=e.subarray(o,a)}i[s]=r}return i},erectMemoryOptimizedFloat:(e,t)=>e.subarray(0,t),erectMemoryOptimized2DFloat:(e,t,n)=>{const r=new Array(n);for(let i=0;i<n;i++){const n=i*t;r[i]=e.subarray(n,n+t)}return r},erectMemoryOptimized3DFloat:(e,t,n,r)=>{const i=new Array(r);for(let s=0;s<r;s++){const r=new Array(n);for(let i=0;i<n;i++){const o=s*n*t+i*t;r[i]=e.subarray(o,o+t)}i[s]=r}return i},erectFloat:(e,t)=>{const n=new Float32Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[r],r+=4;return n},erect2DFloat:(e,t,n)=>{const r=new Array(n);let i=0;for(let s=0;s<n;s++){const n=new Float32Array(t);for(let r=0;r<t;r++)n[r]=e[i],i+=4;r[s]=n}return r},erect3DFloat:(e,t,n,r)=>{const i=new Array(r);let s=0;for(let o=0;o<r;o++){const r=new Array(n);for(let i=0;i<n;i++){const n=new Float32Array(t);for(let r=0;r<t;r++)n[r]=e[s],s+=4;r[i]=n}i[o]=r}return i},erectArray2:(e,t)=>{const n=new Array(t),r=4*t;let i=0;for(let s=0;s<r;s+=4)n[i++]=e.subarray(s,s+2);return n},erect2DArray2:(e,t,n)=>{const r=new Array(n),i=4*t;for(let s=0;s<n;s++){const n=new Array(t),o=s*i;let a=0;for(let t=0;t<i;t+=4)n[a++]=e.subarray(t+o,t+o+2);r[s]=n}return r},erect3DArray2:(e,t,n,r)=>{const i=4*t,s=new Array(r);for(let o=0;o<r;o++){const r=new Array(n);for(let s=0;s<n;s++){const a=new Array(t),l=o*i*n+s*i;let u=0;for(let t=0;t<i;t+=4)a[u++]=e.subarray(t+l,t+l+2);r[s]=a}s[o]=r}return s},erectArray3:(e,t)=>{const n=new Array(t),r=4*t;let i=0;for(let s=0;s<r;s+=4)n[i++]=e.subarray(s,s+3);return n},erect2DArray3:(e,t,n)=>{const r=4*t,i=new Array(n);for(let s=0;s<n;s++){const n=new Array(t),o=s*r;let a=0;for(let t=0;t<r;t+=4)n[a++]=e.subarray(t+o,t+o+3);i[s]=n}return i},erect3DArray3:(e,t,n,r)=>{const i=4*t,s=new Array(r);for(let o=0;o<r;o++){const r=new Array(n);for(let s=0;s<n;s++){const a=new Array(t),l=o*i*n+s*i;let u=0;for(let t=0;t<i;t+=4)a[u++]=e.subarray(t+l,t+l+3);r[s]=a}s[o]=r}return s},erectArray4:(e,t)=>{const n=new Array(e),r=4*t;let i=0;for(let s=0;s<r;s+=4)n[i++]=e.subarray(s,s+4);return n},erect2DArray4:(e,t,n)=>{const r=4*t,i=new Array(n);for(let s=0;s<n;s++){const n=new Array(t),o=s*r;let a=0;for(let t=0;t<r;t+=4)n[a++]=e.subarray(t+o,t+o+4);i[s]=n}return i},erect3DArray4:(e,t,n,r)=>{const i=4*t,s=new Array(r);for(let o=0;o<r;o++){const r=new Array(n);for(let s=0;s<n;s++){const a=new Array(t),l=o*i*n+s*i;let u=0;for(let t=0;t<i;t+=4)a[u++]=e.subarray(t+l,t+l+4);r[s]=a}s[o]=r}return s},flattenFunctionToString:(e,t)=>{const{findDependency:n,thisLookup:i,doNotDefine:s}=t;let o=t.flattened;o||(o=t.flattened={});const a=r.parse(e),l=[];let c=0;function h(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(h(e[n]));return t.join("")}switch(e.type){case"Program":return h(e.body)+("VariableDeclaration"===e.body[0].type?";":"");case"FunctionDeclaration":return`function ${e.id.name}(${e.params.map(h).join(", ")}) ${h(e.body)}`;case"BlockStatement":{const t=[];c+=2;for(let n=0;n<e.body.length;n++){const r=h(e.body[n]);r&&t.push(" ".repeat(c)+r,";\n")}return c-=2,`{\n${t.join("")}}`}case"VariableDeclaration":const t=u.normalizeDeclarations(e).map(h).filter(e=>null!==e);return t.length<1?"":`${e.kind} ${t.join(",")}`;case"VariableDeclarator":return e.init.object&&"ThisExpression"===e.init.object.type?i(e.init.property.name,!0)?`${e.id.name} = ${h(e.init)}`:null:`${e.id.name} = ${h(e.init)}`;case"CallExpression":if("subarray"===e.callee.property.name)return`${h(e.callee.object)}.${h(e.callee.property)}(${e.arguments.map(e=>h(e)).join(", ")})`;if("gl"===e.callee.object.name||"context"===e.callee.object.name)return`${h(e.callee.object)}.${h(e.callee.property)}(${e.arguments.map(e=>h(e)).join(", ")})`;if("ThisExpression"===e.callee.object.type)return l.push(n("this",e.callee.property.name)),`${e.callee.property.name}(${e.arguments.map(e=>h(e)).join(", ")})`;if(e.callee.object.name){const t=n(e.callee.object.name,e.callee.property.name);return null===t?`${e.callee.object.name}.${e.callee.property.name}(${e.arguments.map(e=>h(e)).join(", ")})`:(l.push(t),`${e.callee.property.name}(${e.arguments.map(e=>h(e)).join(", ")})`)}if("MemberExpression"===e.callee.object.type)return`${h(e.callee.object)}.${e.callee.property.name}(${e.arguments.map(e=>h(e)).join(", ")})`;throw new Error("unknown ast.callee");case"ReturnStatement":return`return ${h(e.argument)}`;case"BinaryExpression":return`(${h(e.left)}${e.operator}${h(e.right)})`;case"UnaryExpression":return e.prefix?`${e.operator} ${h(e.argument)}`:`${h(e.argument)} ${e.operator}`;case"ExpressionStatement":return`${h(e.expression)}`;case"SequenceExpression":return`(${h(e.expressions)})`;case"ArrowFunctionExpression":return`(${e.params.map(h).join(", ")}) => ${h(e.body)}`;case"Literal":return e.raw;case"Identifier":return e.name;case"MemberExpression":return"ThisExpression"===e.object.type?i(e.property.name):e.computed?`${h(e.object)}[${h(e.property)}]`:h(e.object)+"."+h(e.property);case"ThisExpression":return"this";case"NewExpression":return`new ${h(e.callee)}(${e.arguments.map(e=>h(e)).join(", ")})`;case"ForStatement":return`for (${h(e.init)};${h(e.test)};${h(e.update)}) ${h(e.body)}`;case"AssignmentExpression":return`${h(e.left)}${e.operator}${h(e.right)}`;case"UpdateExpression":return`${h(e.argument)}${e.operator}`;case"IfStatement":return`if (${h(e.test)}) ${h(e.consequent)}`;case"ThrowStatement":return`throw ${h(e.argument)}`;case"ObjectPattern":return e.properties.map(h).join(", ");case"ArrayPattern":return e.elements.map(h).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${h(e.test)}?${h(e.consequent)}:${h(e.alternate)}`;case"Property":if("init"===e.kind)return h(e.key)}throw new Error(`unhandled ast.type of ${e.type}`)}const d=h(a);if(l.length>0){const e=[];for(let n=0;n<l.length;n++){const r=l[n];o[r]||(o[r]=!0),r&&e.push(u.flattenFunctionToString(r,t)+"\n")}return e.join("")+d}return d},normalizeDeclarations:e=>{if("VariableDeclaration"!==e.type)throw new Error('Ast is not of type "VariableDeclaration"');const t=[];for(let n=0;n<e.declarations.length;n++){const r=e.declarations[n];if(r.id&&"ObjectPattern"===r.id.type&&r.id.properties){const{properties:e}=r.id;for(let n=0;n<e.length;n++){const i=e[n];if("ObjectPattern"===i.value.type&&i.value.properties)for(let e=0;e<i.value.properties.length;e++){const n=i.value.properties[e];if("Property"!==n.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:n.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:i.key.name},computed:!1},property:{type:"Identifier",name:n.key.name},computed:!1}})}else{if("Identifier"!==i.value.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.value&&i.value.name?i.value.name:i.key.name},init:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:i.key.name},computed:!1}})}}}else if(r.id&&"ArrayPattern"===r.id.type&&r.id.elements){const{elements:e}=r.id;for(let n=0;n<e.length;n++){const i=e[n];if("Identifier"!==i.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.name},init:{type:"MemberExpression",object:r.init,property:{type:"Literal",value:n,raw:n.toString(),start:i.start,end:i.end},computed:!0}})}}else t.push(r)}return t},splitHTMLImageToRGB:(e,t)=>{const n=e.createKernel(function(e){return 255*e[this.thread.y][this.thread.x].r},{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),r=e.createKernel(function(e){return 255*e[this.thread.y][this.thread.x].g},{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),i=e.createKernel(function(e){return 255*e[this.thread.y][this.thread.x].b},{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),s=e.createKernel(function(e){return 255*e[this.thread.y][this.thread.x].a},{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),o=[n(t),r(t),i(t),s(t)];return o.rKernel=n,o.gKernel=r,o.bKernel=i,o.aKernel=s,o.gpu=e,o},splitRGBAToCanvases:(e,t,n,r)=>{const i=e.createKernel(function(e){const t=e[this.thread.y][this.thread.x];this.color(t.r/255,0,0,255)},{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});i(t);const s=e.createKernel(function(e){const t=e[this.thread.y][this.thread.x];this.color(0,t.g/255,0,255)},{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});s(t);const o=e.createKernel(function(e){const t=e[this.thread.y][this.thread.x];this.color(0,0,t.b/255,255)},{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});o(t);const a=e.createKernel(function(e){const t=e[this.thread.y][this.thread.x];this.color(255,255,255,t.a/255)},{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return a(t),[i.canvas,s.canvas,o.canvas,a.canvas]},getMinifySafeName:e=>{try{const t=r.parse(`const value = ${e.toString()}`),{init:n}=t.body[0].declarations[0];return n.body.name||n.body.body[0].argument.name}catch(t){throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(e){return c.test(e)&&(e=e.replace(c,"S_S")),h.test(e)?e=e.replace(h,"U_U"):d.test(e)&&(e=e.replace(d,"u_u")),e}},c=/\$/,h=/__/,d=/_/,p=u.getSystemEndianness();t.exports={utils:u}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)},e.exports=n()});const b={toTable(e){const t=e.reduce((e,t)=>Object.assign(e,t),{});return b.toHash(t)},toTable2D(e){const t={};let n=0;for(let r=0;r<e.length;r++){const i=e[r];for(let e=0;e<i.length;e++){const r=i[e];for(const e in r)r.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n++)}}return t},toInputTable2D(e){const t={};let n=0;for(let r=0;r<e.length;r++){const i=e[r].input;for(let e=0;e<i.length;e++){const r=i[e];for(const e in r)r.hasOwnProperty(e)&&(t.hasOwnProperty(e)||(t[e]=n++))}}return t},toOutputTable2D(e){const t={};let n=0;for(let r=0;r<e.length;r++){const i=e[r].output;for(let e=0;e<i.length;e++){const r=i[e];for(const e in r)r.hasOwnProperty(e)&&(t.hasOwnProperty(e)||(t[e]=n++))}}return t},toHash(e){const t={};let n=0;const r=Object.keys(e);for(let i=0;i<r.length;i++)t[r[i]]=n++;return t},toArray(e,t,n){const r=new Float32Array(n);for(const i in e)e.hasOwnProperty(i)&&(r[e[i]]=t.hasOwnProperty(i)?t[i]:0);return r},toArrayShort(e,t){const n=[];for(const r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r))break;n[e[r]]=t[r]}return Float32Array.from(n)},toArrays(e,t,n){const r=[];for(let i=0;i<t.length;i++)r.push(this.toArray(e,t[i],n));return r},toObject(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t[e[r]]);return n},toObjectPartial(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i={};let s=0;for(const o in e)e.hasOwnProperty(o)&&(n>0&&s++<n||r>0&&s++>=r||(i[o]=t[e[o]-n]));return i},dataShape(e){const t=[];let n,r;for(e.hasOwnProperty("input")?(t.push("datum"),n=e.input):Array.isArray(e)?e[0]&&e[0].input?(t.push("array","datum"),n=e[0].input):Array.isArray(e[0])?(t.push("array"),n=e[0]):n=e:n=e;n;)if(r=Object.keys(n)[0],Array.isArray(n)||"object"===typeof n.buffer){t.push("array");const e=n[parseInt(r)];if("number"===typeof e){t.push("number");break}n=e}else{if("object"!==typeof n||"object"===typeof n.buffer)throw new Error("unhandled signature");{t.push("object");const e=n[r];if("number"===typeof e){t.push("number");break}n=e}}return t},addKeys(e,t){if(Array.isArray(e))return t;let n=Object.keys(t).length;for(const r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=n++));return t}};var v=g(function(e,t){var n=m&&m.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.thaw=t.Block=t.Thaw=void 0;var r=function(){function e(t,r){var i=this;void 0===r&&(r={});var s=n(n({},e.defaultSettings),r),o=s.each,a=s.done;this.i=0,this.isStopped=!1,this.items=t,this.options=r,this.tick=function(){if(!i.isStopped&&(i.timeout=setTimeout(i.tick,0),!e.thawing)){var t=i.items[i.i];if(i.i>=i.items.length)return null!==a&&(e.thawing=!0,a(),e.thawing=!1),i.isStopped=!0,void clearTimeout(i.timeout);null!==o?(e.thawing=!0,o(t,i.i),e.thawing=!1):void 0!==t&&t(),i.i++}},e.thaws.push(this),r.delay||this.tick()}return Object.defineProperty(e,"isThawing",{get:function(){return e.thawing},enumerable:!1,configurable:!0}),e.stopAll=function(){for(var t=0;t<e.thaws.length;t++)e.thaws[t].stop()},e.prototype.makeReady=function(){return!!this.isStopped&&(this.isStopped=!1,!0)},e.prototype.add=function(e){return this.items.push(e),this.makeReady()&&this.tick(),this},e.prototype.insert=function(e){return this.items.splice(this.i,0,e),this.makeReady()&&this.tick(),this},e.prototype.addArray=function(e){return this.items=this.items.concat(e),this.makeReady()&&this.tick(),this},e.prototype.insertArray=function(e){var t=this.items.splice(0,this.i),n=this.items;return this.items=t.concat(e,n),this.makeReady()&&this.tick(),this},e.prototype.stop=function(){return this.isStopped=!0,clearTimeout(this.timeout),this.options.done&&this.options.done(),this},e.thawing=!1,e.thaws=[],e.defaultSettings={each:null,done:null},e}();function i(e,t){return new r(e,t)}t.Thaw=r,t.thaw=i;var s=function(){function e(e,t){void 0===t&&(t=200),this.index=0,this.thaws=[],this.count=t,this.options=e}return e.prototype.add=function(e){return this.next().add(e),this},e.prototype.addArray=function(e){return this.next().addArray(e),this},e.prototype.insert=function(e){return this.next().insert(e),this},e.prototype.insertArray=function(e){return this.next().insertArray(e),this},e.prototype.stop=function(){for(var e=0;e<this.thaws.length;e++)this.thaws[e].stop();return this},e.prototype.next=function(){var e,t=this.thaws;return t.length<this.count?(e=new r([],this.options),t.push(e)):e=t[this.index]||null,this.index++,this.index>=this.count&&(this.index=0),e},e}();t.Block=s,"undefined"!==typeof window&&(window.Thaw=r,window.thaw=i,window.Thaw.Block=s)});function w(e){const t=[];for(let n=0;n<e.length;n++)t.push(Float32Array.from(e[n]));return t}function S(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(Float32Array.from(e[r]));for(let r=0;r<t.length;r++)n.push(Float32Array.from(t[r]));return n}function k(e){const t=[];for(let n=0;n<e.length;n++)t.push(Float32Array.from([e[n]]));return t}function T(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(Float32Array.from([e[r]]));for(let r=0;r<t.length;r++)n.push(Float32Array.from([t[r]]));return n}function A(e){return Float32Array.from(e)}function _(e,t,n,r,i,s){const o=[];for(let a=0;a<e.length;a++){const t=e[a],r=new Float32Array(i);for(const e in t)t.hasOwnProperty(e)&&(r[n[e]]=t[e]);o.push(r)}for(let a=0;a<t.length;a++){const e=t[a],n=new Float32Array(s);for(const t in e)e.hasOwnProperty(t)&&(n[r[t]]=e[t]);o.push(n)}return o}function E(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(Float32Array.from([e[n]]));return t}function C(e,t){const n=[];for(const r in e)e.hasOwnProperty(r)&&n.push(Float32Array.from([e[r]]));for(const r in t)t.hasOwnProperty(r)&&n.push(Float32Array.from([t[r]]));return n}function D(e,t,n){const r=new Float32Array(n);for(const i in e)e.hasOwnProperty(i)&&(r[t[i]]=e[i]);return r}class M{constructor(e,t){this.prop=null,this.table={},this.length=0;const n=this.table;if(t){this.prop=t;for(let r=0;r<e.length;r++){const i=e[r][t];for(const e in i)i.hasOwnProperty(e)&&(n.hasOwnProperty(e)||(n[e]=this.length++))}}else if(Array.isArray(e)&&Array.isArray(e[0]))for(let r=0;r<e.length;r++){const t=e[r];for(let e=0;e<t.length;e++){const r=t[e];for(const e in r)r.hasOwnProperty(e)&&(n.hasOwnProperty(e)||(n[e]=this.length++))}}else for(let r=0;r<e.length;r++){const t=e[r];for(const e in t)t.hasOwnProperty(e)&&(n.hasOwnProperty(e)||(n[e]=this.length++))}}}function L(e){return Array.isArray(e)||e instanceof Float32Array?Math.max(...e):Math.max(...Object.values(e))}function I(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n]**2;return t/e.length}function P(){return.4*Math.random()-.2}function O(e,t){return Math.random()*(t-e)+e}function R(){if(R.returnV)return R.returnV=!1,R.vVal;const e=2*Math.random()-1,t=2*Math.random()-1,n=e*e+t*t;if(0===n||n>1)return R();const r=Math.sqrt(-2*Math.log(n)/n);return R.vVal=t*r,R.returnV=!0,e*r}function $(e,t){return Math.floor(Math.random()*(t-e)+e)}function N(e,t){return e+R()*t}R.returnV=!1,R.vVal=0;var F=Object.freeze({__proto__:null,randomFloat:O,gaussRandom:R,randomInteger:$,randomN:N});function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new Float32Array(e);if(null===t)for(let r=0;r<e;r++)n[r]=P();else for(let r=0;r<e;r++)n[r]=O(-t,t);return n}function V(e,t,n){const r=new Array(t);for(let i=0;i<t;i++)r[i]=z(e,n);return r}function j(e,t,n,r){const i=new Array(n);for(let s=0;s<n;s++)i[s]=V(e,t,r);return i}function B(e){return new Float32Array(e)}function W(e,t){if(e.buffer instanceof ArrayBuffer)return null;if(Array.isArray(e))return A;if(!t)throw new Error("table is not Object");const{length:n}=Object.keys(t);return e=>{const r=new Float32Array(n);for(const n in t)t.hasOwnProperty(n)&&"number"===typeof e[n]&&(r[t[n]]=e[n]||0);return r}}function U(){return{inputSize:0,outputSize:0,binaryThresh:.5}}function K(){return{activation:"sigmoid",iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,leakyReluAlpha:.01,learningRate:.3,momentum:.1,callbackPeriod:10,timeout:1/0,beta1:.9,beta2:.999,epsilon:1e-8}}class H{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=U(),this.trainOpts=K(),this.sizes=[],this.outputLayer=-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[],this.errorCheckInterval=1,this.inputLookup=null,this.inputLookupLength=0,this.outputLookup=null,this.outputLookupLength=0,this._formatInput=null,this._formatOutput=null,this.runInput=e=>(this.setActivation(),this.runInput(e)),this.calculateDeltas=e=>(this.setActivation(),this.calculateDeltas(e)),this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0,this.options={...this.options,...e},this.updateTrainingOptions(e);const{inputSize:t,hiddenLayers:n,outputSize:r}=this.options;t&&r&&(this.sizes=[t].concat(null!==n&&void 0!==n?n:[]).concat([r]))}initialize(){if(!this.sizes.length)throw new Error("Sizes must be set before initializing");this.outputLayer=this.sizes.length-1,this.biases=new Array(this.outputLayer),this.weights=new Array(this.outputLayer),this.outputs=new Array(this.outputLayer),this.deltas=new Array(this.outputLayer),this.changes=new Array(this.outputLayer),this.errors=new Array(this.outputLayer);for(let e=0;e<=this.outputLayer;e++){const t=this.sizes[e];if(this.deltas[e]=B(t),this.errors[e]=B(t),this.outputs[e]=B(t),e>0){this.biases[e]=z(t),this.weights[e]=new Array(t),this.changes[e]=new Array(t);for(let n=0;n<t;n++){const t=this.sizes[e-1];this.weights[e][n]=z(t),this.changes[e][n]=B(t)}}}this.setActivation(),"adam"===this.trainOpts.praxis&&this._setupAdam()}setActivation(e){const t=null!==e&&void 0!==e?e:this.trainOpts.activation;switch(t){case"sigmoid":this.runInput=this._runInputSigmoid,this.calculateDeltas=this._calculateDeltasSigmoid;break;case"relu":this.runInput=this._runInputRelu,this.calculateDeltas=this._calculateDeltasRelu;break;case"leaky-relu":this.runInput=this._runInputLeakyRelu,this.calculateDeltas=this._calculateDeltasLeakyRelu;break;case"tanh":this.runInput=this._runInputTanh,this.calculateDeltas=this._calculateDeltasTanh;break;default:throw new Error(`Unknown activation ${t}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}}get isRunnable(){return this.sizes.length>0}run(e){if(!this.isRunnable)throw new Error("network not runnable");let t;t=this.inputLookup?b.toArray(this.inputLookup,e,this.inputLookupLength):e,this.validateInput(t);const n=this.runInput(t).slice(0);return this.outputLookup?b.toObject(this.outputLookup,n):n}_runInputSigmoid(e){this.outputs[0]=e;let t=null;for(let n=1;n<=this.outputLayer;n++){const r=this.sizes[n],i=this.weights[n],s=this.biases[n],o=this.outputs[n];for(let t=0;t<r;t++){const n=i[t];let r=s[t];for(let t=0;t<n.length;t++)r+=n[t]*e[t];o[t]=1/(1+Math.exp(-r))}t=e=o}if(!t)throw new Error("output was empty");return t}_runInputRelu(e){this.outputs[0]=e;let t=null;for(let n=1;n<=this.outputLayer;n++){const r=this.sizes[n],i=this.weights[n],s=this.biases[n],o=this.outputs[n];for(let t=0;t<r;t++){const n=i[t];let r=s[t];for(let t=0;t<n.length;t++)r+=n[t]*e[t];o[t]=r<0?0:r}t=e=o}if(!t)throw new Error("output was empty");return t}_runInputLeakyRelu(e){this.outputs[0]=e;const{leakyReluAlpha:t}=this.trainOpts;let n=null;for(let r=1;r<=this.outputLayer;r++){const i=this.sizes[r],s=this.weights[r],o=this.biases[r],a=this.outputs[r];for(let n=0;n<i;n++){const r=s[n];let i=o[n];for(let t=0;t<r.length;t++)i+=r[t]*e[t];a[n]=Math.max(i,t*i)}n=e=a}if(!n)throw new Error("output was empty");return n}_runInputTanh(e){this.outputs[0]=e;let t=null;for(let n=1;n<=this.outputLayer;n++){const r=this.sizes[n],i=this.weights[n],s=this.biases[n],o=this.outputs[n];for(let t=0;t<r;t++){const n=i[t];let r=s[t];for(let t=0;t<n.length;t++)r+=n[t]*e[t];o[t]=Math.tanh(r)}t=e=o}if(!t)throw new Error("output was empty");return t}verifyIsInitialized(e){this.sizes.length&&this.outputLayer>0||(this.sizes=[],this.sizes.push(e[0].input.length),this.options.hiddenLayers?this.options.hiddenLayers.forEach(e=>{this.sizes.push(e)}):this.sizes.push(Math.max(3,Math.floor(e[0].input.length/2))),this.sizes.push(e[0].output.length),this.initialize())}updateTrainingOptions(e){const t={...this.trainOpts,...e};this.validateTrainingOptions(t),this.trainOpts=t,this.setLogMethod(this.trainOpts.log)}validateTrainingOptions(e){const t={activation:()=>["sigmoid","relu","leaky-relu","tanh"].includes(e.activation),iterations:()=>{const t=e.iterations;return"number"===typeof t&&t>0},errorThresh:()=>{const t=e.errorThresh;return"number"===typeof t&&t>0&&t<1},log:()=>{const t=e.log;return"function"===typeof t||"boolean"===typeof t},logPeriod:()=>{const t=e.logPeriod;return"number"===typeof t&&t>0},leakyReluAlpha:()=>{const t=e.leakyReluAlpha;return"number"===typeof t&&t>0&&t<1},learningRate:()=>{const t=e.learningRate;return"number"===typeof t&&t>0&&t<1},momentum:()=>{const t=e.momentum;return"number"===typeof t&&t>0&&t<1},callback:()=>{const t=e.callback;return"function"===typeof t||void 0===t},callbackPeriod:()=>{const t=e.callbackPeriod;return"number"===typeof t&&t>0},timeout:()=>{const t=e.timeout;return"number"===typeof t&&t>0},praxis:()=>{const t=e.praxis;return!t||"adam"===t},beta1:()=>{const t=e.beta1;return t>0&&t<1},beta2:()=>{const t=e.beta2;return t>0&&t<1},epsilon:()=>{const t=e.epsilon;return t>0&&t<1}};for(const n in t){const r=e;if(!t[n]())throw new Error(`[${n}, ${r[n]}] is out of normal training range, your network will probably not train.`)}}getTrainOptsJSON(){const{activation:e,iterations:t,errorThresh:n,log:r,logPeriod:i,leakyReluAlpha:s,learningRate:o,momentum:a,callbackPeriod:l,timeout:u,praxis:c,beta1:h,beta2:d,epsilon:p}=this.trainOpts;return{activation:e,iterations:t,errorThresh:n,log:"function"===typeof r||"boolean"===typeof r&&r,logPeriod:i,leakyReluAlpha:s,learningRate:o,momentum:a,callbackPeriod:l,timeout:u===1/0?"Infinity":u,praxis:c,beta1:h,beta2:d,epsilon:p}}setLogMethod(e){this.trainOpts.log="function"===typeof e?e:!!e&&this.logTrainingStatus}logTrainingStatus(e){console.log(`iterations: ${e.iterations}, training error: ${e.error}`)}calculateTrainingError(e){let t=0;for(let n=0;n<e.length;++n)t+=this.trainPattern(e[n],!0);return t/e.length}trainPatterns(e){for(let t=0;t<e.length;++t)this.trainPattern(e[t])}trainingTick(e,t,n){const{callback:r,callbackPeriod:i,errorThresh:s,iterations:o,log:a,logPeriod:l}=this.trainOpts;return!(t.iterations>=o||t.error<=s||Date.now()>=n)&&(t.iterations++,a&&t.iterations%l===0?(t.error=this.calculateTrainingError(e),a(t)):t.iterations%this.errorCheckInterval===0?t.error=this.calculateTrainingError(e):this.trainPatterns(e),r&&t.iterations%i===0&&r({iterations:t.iterations,error:t.error}),!0)}prepTraining(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updateTrainingOptions(t);const n=this.formatData(e),r=Date.now()+this.trainOpts.timeout,i={error:1,iterations:0};return this.verifyIsInitialized(n),this.validateData(n),{preparedData:n,status:i,endTime:r}}train(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this.prepTraining(e,t);for(;this.trainingTick(n,r,i););return r}async trainAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this.prepTraining(e,t);return await new Promise((e,t)=>{try{const t=new v.Thaw(new Array(this.trainOpts.iterations),{delay:!0,each:()=>this.trainingTick(n,r,i)||t.stop(),done:()=>e(r)});t.tick()}catch(s){t(s)}})}trainPattern(e,t){return this.runInput(e.input),this.calculateDeltas(e.output),this.adjustWeights(),t?I(this.errors[this.outputLayer]):null}_calculateDeltasSigmoid(e){for(let t=this.outputLayer;t>=0;t--){const n=this.sizes[t],r=this.outputs[t],i=this.errors[t],s=this.deltas[t],o=this.weights[t+1];for(let a=0;a<n;a++){const n=r[a];let l=0;if(t===this.outputLayer)l=e[a]-n;else{const e=this.deltas[t+1];for(let t=0;t<e.length;t++)l+=e[t]*o[t][a]}i[a]=l,s[a]=l*n*(1-n)}}}_calculateDeltasRelu(e){for(let t=this.outputLayer;t>=0;t--){const n=this.sizes[t],r=this.outputs[t],i=this.weights[t+1],s=this.deltas[t+1],o=this.errors[t],a=this.deltas[t];for(let l=0;l<n;l++){const n=r[l];let u=0;if(t===this.outputLayer)u=e[l]-n;else for(let e=0;e<s.length;e++)u+=s[e]*i[e][l];o[l]=u,a[l]=n>0?u:0}}}_calculateDeltasLeakyRelu(e){const t=this.trainOpts.leakyReluAlpha;for(let n=this.outputLayer;n>=0;n--){const r=this.sizes[n],i=this.outputs[n],s=this.deltas[n+1],o=this.weights[n+1],a=this.errors[n],l=this.deltas[n];for(let u=0;u<r;u++){const r=i[u];let c=0;if(n===this.outputLayer)c=e[u]-r;else for(let e=0;e<s.length;e++)c+=s[e]*o[e][u];a[u]=c,l[u]=r>0?c:t*c}}}_calculateDeltasTanh(e){for(let t=this.outputLayer;t>=0;t--){const n=this.sizes[t],r=this.outputs[t],i=this.deltas[t+1],s=this.weights[t+1],o=this.errors[t],a=this.deltas[t];for(let l=0;l<n;l++){const n=r[l];let u=0;if(t===this.outputLayer)u=e[l]-n;else for(let e=0;e<i.length;e++)u+=i[e]*s[e][l];o[l]=u,a[l]=(1-n*n)*u}}}adjustWeights(){const{learningRate:e,momentum:t}=this.trainOpts;for(let n=1;n<=this.outputLayer;n++){const r=this.outputs[n-1],i=this.sizes[n],s=this.deltas[n],o=this.changes[n],a=this.weights[n],l=this.biases[n];for(let n=0;n<i;n++){const i=s[n];for(let s=0;s<r.length;s++){let l=o[n][s];l=e*i*r[s]+t*l,o[n][s]=l,a[n][s]+=l}l[n]+=e*i}}}_setupAdam(){this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0;for(let e=0;e<=this.outputLayer;e++){const t=this.sizes[e];if(e>0){this.biasChangesLow[e]=B(t),this.biasChangesHigh[e]=B(t),this.changesLow[e]=new Array(t),this.changesHigh[e]=new Array(t);for(let n=0;n<t;n++){const t=this.sizes[e-1];this.changesLow[e][n]=B(t),this.changesHigh[e][n]=B(t)}}}this.adjustWeights=this._adjustWeightsAdam}_adjustWeightsAdam(){this.iterations++;const{iterations:e}=this,{beta1:t,beta2:n,epsilon:r,learningRate:i}=this.trainOpts;for(let s=1;s<=this.outputLayer;s++){const o=this.outputs[s-1],a=this.sizes[s],l=this.deltas[s],u=this.changesLow[s],c=this.changesHigh[s],h=this.weights[s],d=this.biases[s],p=this.biasChangesLow[s],f=this.biasChangesHigh[s];for(let s=0;s<a;s++){const a=l[s];for(let l=0;l<o.length;l++){const d=a*o[l],p=u[s][l]*t+(1-t)*d,f=c[s][l]*n+(1-n)*d*d,m=p/(1-Math.pow(t,e)),g=f/(1-Math.pow(n,e));u[s][l]=p,c[s][l]=f,h[s][l]+=i*m/(Math.sqrt(g)+r)}const m=l[s],g=p[s]*t+(1-t)*m,y=f[s]*n+(1-n)*m*m,x=p[s]/(1-Math.pow(t,e)),b=f[s]/(1-Math.pow(n,e));p[s]=g,f[s]=y,d[s]+=i*x/(Math.sqrt(b)+r)}}}validateData(e){const t=this.sizes[0],n=this.sizes[this.sizes.length-1],{length:r}=e;for(let i=0;i<r;i++){const{input:r,output:s}=e[i];if(r.length!==t)throw new Error(`input at index ${i} length ${r.length} must be ${t}`);if(e[i].output.length!==n)throw new Error(`output at index ${i} length ${s.length} must be ${n}`)}}validateInput(e){const t=this.sizes[0];if(e.length!==t)throw new Error(`input length ${e.length} must match options.inputSize of ${t}`)}formatData(e){if(!Array.isArray(e[0].input))if(this.inputLookup)this.inputLookupLength=Object.keys(this.inputLookup).length;else{const t=new M(e,"input");this.inputLookup=t.table,this.inputLookupLength=t.length}if(!Array.isArray(e[0].output))if(this.outputLookup)this.outputLookupLength=Object.keys(this.outputLookup).length;else{const t=new M(e,"output");this.outputLookup=t.table,this.outputLookupLength=t.length}if(this._formatInput||(this._formatInput=W(e[0].input,this.inputLookup)),this._formatOutput||(this._formatOutput=W(e[0].output,this.outputLookup)),this._formatInput&&this._formatOutput){const t=[];for(let n=0;n<e.length;n++)t.push({input:this._formatInput(e[n].input),output:this._formatOutput(e[n].output)});return t}if(this._formatInput){const t=[];for(let n=0;n<e.length;n++)t.push({input:this._formatInput(e[n].input),output:e[n].output});return t}if(this._formatOutput){const t=[];for(let n=0;n<e.length;n++)t.push({input:e[n].input,output:this._formatOutput(e[n].output)});return t}return e}addFormat(e){var t,n;Array.isArray(e.input)&&"number"===typeof e.input[0]||(this.inputLookup=b.addKeys(e.input,null!==(t=this.inputLookup)&&void 0!==t?t:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length)),Array.isArray(e.output)&&"number"===typeof e.output[0]||(this.outputLookup=b.addKeys(e.output,null!==(n=this.outputLookup)&&void 0!==n?n:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length))}test(e){const{preparedData:t}=this.prepTraining(e),n=[];let r=0;if(1===t[0].output.length){let e=0,i=0,s=0,o=0;for(let a=0;a<t.length;a++){const l=this.runInput(t[a].input),u=t[a].output,c=l[0]>this.options.binaryThresh?1:0,h=u[0];if(c!==h){const e=t[a];n.push({input:e.input,output:e.output,actual:c,expected:h})}0===c&&0===h?o++:1===c&&1===h?s++:0===c&&1===h?i++:1===c&&0===h&&e++,r+=I(l.map((e,t)=>u[t]-e))}return{error:r/t.length,misclasses:n,total:t.length,trueNeg:o,truePos:s,falseNeg:i,falsePos:e,precision:s>0?s/(s+e):0,recall:s>0?s/(s+i):0,accuracy:(o+s)/t.length}}for(let i=0;i<t.length;i++){const e=this.runInput(t[i].input),s=t[i].output,o=e.indexOf(L(e)),a=s.indexOf(L(s));if(o!==a){const e=t[i];n.push({input:e.input,output:e.output,actual:o,expected:a})}r+=I(e.map((e,t)=>s[t]-e))}return{error:r/t.length,misclasses:n,total:t.length}}toJSON(){var e,t;this.isRunnable||this.initialize();const n=this.weights.map(e=>e.map(e=>Array.from(e))),r=this.biases.map(e=>Array.from(e)),i=[],s=this.sizes.length-1;for(let o=0;o<=s;o++)i.push({weights:null!==(e=n[o])&&void 0!==e?e:[],biases:null!==(t=r[o])&&void 0!==t?t:[]});return{type:"NeuralNetwork",sizes:[...this.sizes],layers:i,inputLookup:this.inputLookup?{...this.inputLookup}:null,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup?{...this.outputLookup}:null,outputLookupLength:this.outputLookupLength,options:{...this.options},trainOpts:this.getTrainOptsJSON()}}fromJSON(e){if(this.options={...U(),...e.options},e.hasOwnProperty("trainOpts")){const t={...e.trainOpts,timeout:"Infinity"===e.trainOpts.timeout?1/0:e.trainOpts.timeout};this.updateTrainingOptions(t)}this.sizes=e.sizes,this.initialize(),this.inputLookup=e.inputLookup?{...e.inputLookup}:null,this.inputLookupLength=e.inputLookupLength,this.outputLookup=e.outputLookup?{...e.outputLookup}:null,this.outputLookupLength=e.outputLookupLength;const t=e.layers,n=this.weights.map((e,n)=>t[n].weights.map(e=>Float32Array.from(e))),r=this.biases.map((e,n)=>Float32Array.from(t[n].biases));for(let i=0;i<=this.outputLayer;i++)this.weights[i]=n[i]||[],this.biases[i]=r[i]||[];return this}toFunction(e){const{activation:t,leakyReluAlpha:n}=this.trainOpts;let r=!1;const i=(e,s)=>{if(0===e)return`(input[${s}]||0)`;const o=this.weights[e][s],a=this.biases[e][s];if(!o)throw new Error(`weights at layerIndex ${e} & nodeIndex ${s} not found`);if(!a)throw new Error(`bias as layerIndex ${e} & nodeIndex ${s} not found`);const l=[];o.forEach((t,n)=>{t<0?l.push(`${t}*${i(e-1,n)}`):l.push(`+${t}*${i(e-1,n)}`)});const u=`(${a.toString()}${l.join("")})`;switch(t){case"sigmoid":return`1/(1+1/Math.exp(${u}))`;case"relu":return r=!0,`((v=${u})<0?0:v)`;case"leaky-relu":return r=!0,`Math.max((v=${u}),${n}*v)`;case"tanh":return`Math.tanh(${u})`;default:throw new Error(`Unknown activation ${t}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}};function s(e){if(e.find(e=>e.includes('"')))throw new Error("key contains '\"', which is not compatible")}const o=[];let a,l="";if(this.inputLookup&&(s(Object.keys(this.inputLookup)),l=`input = new Float32Array([${Object.keys(this.inputLookup).map(e=>`input["${e}"]`).join(",")}]);`),this.sizes.length<1)throw new Error("No layers");for(let c=0;c<this.sizes[this.outputLayer];c++)o.push(i(this.outputLayer,c));if(this.outputLookup){const e=Object.keys(this.outputLookup);s(e),a=`{${e.map((e,t)=>`"${e}":${o[t]}`).join(",")}}`}else a=`[${o.join(",")}]`;const u=`${l}${r?"var v;":""}return ${a};`;return new Function("input",e?e(u):u)}}let G=null;function Y(e){G=e}function X(e,t){let n=G;return null===n&&(n=new x.GPU({mode:"gpu"}),Y(n)),n.createKernel(e,t).setPipeline(!0)}function q(e,t,n){let r=G;return null===r&&(r=new x.GPU({mode:"gpu"}),Y(r)),r.createKernelMap(e,t,n).setPipeline(!0)}function Q(e,t){return new x.Input(e,t)}function J(e){e instanceof x.Texture&&e.delete()}function Z(e){if(e instanceof x.Texture)e.clear();else{if(Array.isArray(e))if("number"===typeof e[0])e.fill(0);else{if("number"===typeof e[0][0]){for(let t=0;t<e.length;t++)e[t].fill(0);return}if("number"===typeof e[0][0][0]){for(let t=0;t<e.length;t++){const n=e[t];for(let e=0;e<n.length;e++)n[e].fill(0)}return}}if(!(e instanceof Float32Array))throw new Error("unhandled value");e.fill(0)}}function ee(e){if(e instanceof x.Texture)return e.clone();if(e instanceof Float32Array)return e.slice(0);if(Array.isArray(e)){if("number"===typeof e[0])return e.slice(0);if("number"===typeof e[0][0]){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].slice(0);return t}if("number"===typeof e[0][0][0]){const t=new Array(e.length);for(let n=0;n<e.length;n++){const t=e[n],r=new Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[e].slice(0)}return t}}throw new Error("unhandled value")}function te(e,t,n){let r=t[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=e[this.thread.x][i]*n[i];return 1/(1+Math.exp(-r))}function ne(e,t,n){let r=t[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=e[this.thread.x][i]*n[i];return r<0?0:r}function re(e,t,n){let r=t[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=e[this.thread.x][i]*n[i];return r<0?0:.01*r}function ie(e,t,n){let r=t[this.thread.x];for(let i=0;i<this.constants.size;i++)r+=e[this.thread.x][i]*n[i];return Math.tanh(r)}function se(e,t){return t-e}function oe(e,t){return e*t*(1-t)}function ae(e,t){return t>0?e:0}function le(e,t){return t>0?e:.01*e}function ue(e,t){return(1-t*t)*e}function ce(e,t,n,r){let i=0;for(let s=0;s<t;s++)i+=r[s]*n[s][e];return i}function he(e,t,n,r,i){return e*r*i+t*n}function de(e,t){return e+t}function pe(e,t){return e[this.thread.x]+t[this.thread.x]*this.constants.learningRate}function fe(e){let t=0;for(let n=0;n<this.constants.size;n++)t+=e[n]**2;return t/this.constants.size}class me extends H{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.texturizeInputData=()=>{throw new Error("not yet setup")},this.forwardPropagate=[],this.backwardPropagate=[],this.changesPropagate=[],this.biasesPropagate=[],this.getMSE=()=>{throw new Error("not yet setup")},this._addMSE=()=>{throw new Error("not yet setup")},this._divideMSESum=()=>{throw new Error("not yet setup")},this.outputs=[],this.deltas=[],this.errors=[],this.weights=[],this.changes=[],this.biases=[],this.runInput=e=>{let t;this.outputs[0]=e;for(let n=1;n<=this.outputLayer;n++)J(this.outputs[n]),this.outputs[n]=this.forwardPropagate[n](this.weights[n],this.biases[n],e),t=e=this.outputs[n];return t},this.calculateDeltas=e=>{for(let t=this.outputLayer;t>0;t--){let n;J(this.deltas[t]),J(this.errors[t]),n=t===this.outputLayer?this.backwardPropagate[t](this.outputs[t],e):this.backwardPropagate[t](this.weights[t+1],this.outputs[t],this.deltas[t+1]),this.deltas[t]=n.result,this.errors[t]=n.error}},this.errorCheckInterval=100,this.gpu=new x.GPU({mode:e.mode})}initialize(){super.initialize(),this.buildRunInput(),this.buildCalculateDeltas(),this.buildGetChanges(),this.buildChangeBiases(),this.buildGetMSE()}setActivation(){}trainPattern(e,t){return this.runInput(e.input),this.calculateDeltas(e.output),this.adjustWeights(),t?this.getMSE(this.errors[this.outputLayer]):null}calculateTrainingError(e){let t=new Float32Array([0]);for(let r=0;r<e.length;++r){const n=t,i=this.trainPattern(e[r],!0);t=this._addMSE(t,i),J(i),J(n)}const n=this._divideMSESum(e.length,t);return J(t),(n instanceof x.Texture?n.toArray():n)[0]}adjustWeights(){this.getChanges(),this.changeBiases()}buildRunInput(){let e=null;switch(this.trainOpts.activation){case"sigmoid":e=te;break;case"relu":e=ne;break;case"leaky-relu":e=re;break;case"tanh":e=ie;break;default:throw new Error(`Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}for(let t=1;t<=this.outputLayer;t++)this.forwardPropagate[t]=this.gpu.createKernel(e,{output:[this.sizes[t]],pipeline:!0,constants:{size:this.sizes[t-1]},immutable:!0});this.texturizeInputData=this.gpu.createKernel(function(e){return e[this.thread.x]},{output:[this.sizes[1]],pipeline:!0,immutable:!0})}buildCalculateDeltas(){let e;switch(this.trainOpts.activation){case"sigmoid":e=oe;break;case"relu":e=ae;break;case"leaky-relu":e=le;break;case"tanh":e=ue;break;default:throw new Error(`Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}e=x.alias(x.utils.getMinifySafeName(()=>e),e),this.gpu.addFunction(e);for(let t=this.outputLayer;t>0;t--)t===this.outputLayer?this.backwardPropagate[this.outputLayer]=this.gpu.createKernelMap({error:se},function(t,n){const r=t[this.thread.x],i=n[this.thread.x];return e(se(r,i),r)},{output:[this.sizes[this.outputLayer]],pipeline:!0,immutable:!0}):this.backwardPropagate[t]=this.gpu.createKernelMap({error:ce},function(t,n,r){const i=n[this.thread.x];return e(ce(this.thread.x,this.constants.size,t,r),i)},{output:[this.sizes[t]],pipeline:!0,constants:{size:this.sizes[t+1]},immutable:!0})}buildGetChanges(){for(let e=1;e<=this.outputLayer;e++)this.changesPropagate[e]=this.gpu.createKernelMap({weights:de,changes:he},function(e,t,n,r){return de(he(this.constants.learningRate,this.constants.momentum,r[this.thread.y][this.thread.x],t[this.thread.y],e[this.thread.x]),n[this.thread.y][this.thread.x])},{output:[this.sizes[e-1],this.sizes[e]],pipeline:!0,constants:{size:this.sizes[e-1],learningRate:this.trainOpts.learningRate,momentum:this.trainOpts.momentum},immutable:!0})}getChanges(){for(let e=1;e<=this.outputLayer;e++){const t=this.weights[e],n=this.changes[e],r=this.changesPropagate[e](this.outputs[e-1],this.deltas[e],t,n);J(t),J(n),this.weights[e]=r.weights,this.changes[e]=r.changes,J(r.result)}}buildChangeBiases(){for(let e=1;e<=this.outputLayer;e++)this.biasesPropagate[e]=this.gpu.createKernel(pe,{output:[this.sizes[e]],pipeline:!0,constants:{learningRate:this.trainOpts.learningRate},immutable:!0})}changeBiases(){for(let e=1;e<=this.outputLayer;e++){const t=this.biases[e];this.biases[e]=this.biasesPropagate[e](t,this.deltas[e]),J(t)}}buildGetMSE(){this.getMSE=this.gpu.createKernel(fe,{output:[1],constants:{size:this.sizes[this.outputLayer]},pipeline:!0,immutable:!0}),this._addMSE=this.gpu.createKernel(function(e,t){return e[0]+t[0]},{output:[1],pipeline:!0,immutable:!0}),this._divideMSESum=this.gpu.createKernel(function(e,t){const n=t[0];return n>0?n/e:0},{output:[1]})}run(e){if(!this.isRunnable)throw new Error("network not runnable");let t;t=this.inputLookup?b.toArray(this.inputLookup,e,this.inputLookupLength):e,this.validateInput(t);const n=this.runInput(t),r=n instanceof x.Texture?n.toArray():n;return this.outputLookup?b.toObject(this.outputLookup,r):r}prepTraining(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updateTrainingOptions(t);const n=this.formatData(e),r=Date.now()+this.trainOpts.timeout,i={error:1,iterations:0};this.verifyIsInitialized(n);const s=this.gpu.createKernel(function(e){return e[this.thread.x]},{output:[n[0].output.length],pipeline:!0,immutable:!0});return{preparedData:n.map(e=>({input:this.texturizeInputData(e.input),output:s(e.output)})),status:i,endTime:r}}toFunction(){throw new Error(`${this.constructor.name}-toFunction is not yet implemented`)}toJSON(){var e,t;null===this.sizes&&this.initialize();const n=this.weights.map(e=>(e instanceof x.Texture?e.toArray():e).map(e=>Array.from(e))),r=this.biases.map(e=>Array.from(e instanceof x.Texture?e.toArray():e)),i=[];for(let s=0;s<=this.outputLayer;s++)i.push({weights:null!==(e=n[s])&&void 0!==e?e:[],biases:null!==(t=r[s])&&void 0!==t?t:[]});return{type:"NeuralNetworkGPU",sizes:[...this.sizes],layers:i,inputLookup:this.inputLookup?{...this.inputLookup}:null,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup?{...this.outputLookup}:null,outputLookupLength:this.outputLookupLength,options:{...this.options},trainOpts:this.getTrainOptsJSON()}}}class ge extends Error{constructor(e){super(`Cannot run a ${e.constructor.name} before it is trained.`)}}class ye{constructor(e){null!==e&&void 0!==e||(e={}),e.binaryThresh,e.hiddenLayers,e.decodedSize&&e.decodedSize,this.denoiser=new me(e)}denoise(e){return this.denoiser.run(e)}decode(e){if(!this.decoder)throw new ge(this);return this.decoder.run(e)}encode(e){if(!this.denoiser)throw new ge(this);this.denoiser.run(e);let t=this.encodedLayer;return t=t instanceof x.Texture?t.toArray():t.slice(0),t}likelyIncludesAnomalies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;var n;const r=[],i=this.denoise(e);for(let s=0;s<(null!==(n=e.length)&&void 0!==n?n:0);s++)r[s]=Math.abs(e[s]-i[s]);return r.reduce((e,t)=>e+t)/e.length>t}train(e,t){const n=[];for(const i of e)n.push({input:i,output:i});const r=this.denoiser.train(n,t);return this.decoder=this.createDecoder(),r}createDecoder(){const e=this.denoiser.toJSON(),t=[],n=[];for(let r=this.encodedLayerIndex;r<this.denoiser.sizes.length;r++)t.push(e.layers[r]),n.push(e.sizes[r]);return e.layers=t,e.sizes=n,e.options.inputSize=e.sizes[0],(new me).fromJSON(e)}get encodedLayer(){return this.denoiser.outputs[this.encodedLayerIndex]}get encodedLayerIndex(){return Math.round(.5*this.denoiser.outputs.length)-1}}class xe{constructor(e){this.json={avgs:{error:0,iterations:0,testTime:0,trainTime:0},stats:{total:0,testSize:0,trainSize:0},sets:[]},this.initClassifier=e}testPartition(e,t,n){const r=this.initClassifier(),i=Date.now(),s=r.train(t,e),o=Date.now(),a=r.test(n),l=Date.now();return{...a,trainTime:o-i,testTime:l-o,iterations:s.iterations,error:s.error,total:a.total,network:r.toJSON()}}shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}train(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(e.length<n)throw new Error(`Training set size is too small for ${e.length} k folds of ${n}`);this.shuffleArray(e);const r=e.length/n,i={trainTime:0,testTime:0,iterations:0,error:0},s={total:0,testSize:0,trainSize:0},o={total:0,testSize:0,trainSize:0,truePos:0,trueNeg:0,falsePos:0,falseNeg:0,precision:0,recall:0,accuracy:0},a=[];let l=null;for(let u=0;u<n;u++){const n=e.slice(0),c=n.splice(u*r,r),h=n,d=this.testPartition(t,h,c);null===l&&(l=d.hasOwnProperty("falseNeg")&&d.hasOwnProperty("falsePos")&&d.hasOwnProperty("trueNeg")&&d.hasOwnProperty("truePos"),l&&Object.assign(s,o)),i.iterations+=d.iterations,i.testTime+=d.testTime,i.trainTime+=d.trainTime,i.error+=d.error,s.total+=d.total,xe.isBinaryStats(s)&&xe.isBinaryPartitionResults(d)&&(s.accuracy+=d.accuracy,s.falseNeg+=d.falseNeg,s.falsePos+=d.falsePos,s.precision+=d.precision,s.recall+=d.recall,s.trueNeg+=d.trueNeg,s.truePos+=d.truePos),a.push(d)}return i.error/=n,i.iterations/=n,i.testTime/=n,i.trainTime/=n,xe.isBinaryStats(s)&&(s.precision=s.truePos/(s.truePos+s.falsePos),s.recall=s.truePos/(s.truePos+s.falseNeg),s.accuracy=(s.trueNeg+s.truePos)/s.total),s.testSize=r,s.trainSize=e.length-r,this.json={avgs:i,stats:s,sets:a},this.json}toNeuralNetwork(){return this.fromJSON(this.json)}toJSON(){return this.json}fromJSON(e){const t=e.sets.reduce((e,t)=>e.error<t.error?e:t);return this.initClassifier().fromJSON(t.network)}}function be(e){let t=0;for(let n=0;n<this.constants.height;n++)for(let r=0;r<this.constants.width;r++)t+=e[n][r]**2;return t/this.constants.length}xe.isBinaryStats=e=>void 0!==e.accuracy,xe.isBinaryResults=e=>void 0!==e.stats.accuracy,xe.isBinaryPartitionResults=e=>void 0!==e.accuracy;class ve{constructor(e){let{width:t,height:n}=e;this.calculate=X(be,{output:[1],constants:{width:t,height:n,length:t*n},immutable:!0}),this.addAbsolute=X(function(e,t){return e[0]+Math.abs(t[0][0])},{output:[1],immutable:!0}),this.add=X(function(e,t){return e[0]+t[0]},{output:[1],immutable:!0}),this.divide=X(function(e,t){const n=t[0];return n>0?n/e:0},{output:[1],immutable:!0})}}const we={width:1,height:1,depth:null,weights:null,deltas:null,praxis:null,praxisOpts:null,cleanupDeltas:!0};class Se{constructor(e){this.praxis=null,this.predictKernel=null,this.compareKernel=null,this.settings=e?{...we,...e}:{...we},this.setupPraxis()}get width(){var e;return null!==(e=this.settings.width)&&void 0!==e?e:0}get height(){var e;return null!==(e=this.settings.height)&&void 0!==e?e:0}get depth(){var e;return null!==(e=this.settings.depth)&&void 0!==e?e:0}get weights(){return this.settings.weights}set weights(e){this.settings.weights=e,this.settings.cleanupDeltas&&this.deltas&&Z(this.deltas)}get deltas(){return this.settings.deltas}set deltas(e){this.settings.deltas=e}get id(){var e;return null!==(e=this.settings.id)&&void 0!==e?e:""}set id(e){this.settings.id=e}setupPraxis(){const{initPraxis:e,praxis:t,praxisOpts:n}=this.settings;this.praxis||(e?this.praxis=n?e(this,n):e(this):t&&(this.praxis=t))}validate(){if(Number.isNaN(this.height))throw new Error(`${this.constructor.name} layer height is not a number`);if(Number.isNaN(this.width))throw new Error(`${this.constructor.name} layer width is not a number`);if(this.height<1)throw new Error(`${this.constructor.name} layer height is less than 1`);if(this.width<1)throw new Error(`${this.constructor.name} layer width is less than 1`)}setupKernels(e){}reuseKernels(e){if(e.width!==this.width)throw new Error(`${this.constructor.name} kernel width mismatch ${e.width} is not ${this.width}`);if(e.height!==this.height)throw new Error(`${this.constructor.name} kernel width mismatch ${e.height} is not ${this.height}`);if(e.hasOwnProperty("predictKernel")&&null!==e.predictKernel){if(!e.predictKernel.immutable)throw new Error(`${e.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`);this.predictKernel=e.predictKernel}if(e.hasOwnProperty("compareKernel")&&null!==e.compareKernel){if(!e.compareKernel.immutable)throw new Error(`${e.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`);this.compareKernel=e.compareKernel}this.praxis=e.praxis}predict(e){}compare(e){}learn(e){}toArray(){return Array.isArray(this.weights)?this.weights:this.weights.toArray()}toJSON(){return Se.toJSON(this)}static toJSON(e){const{weights:t}=e;return{width:e.width,height:e.height,depth:e.depth,weights:ke(t&&t instanceof x.Texture?t.toArray():t),type:e.constructor.name,praxisOpts:e.praxis?e.praxis.toJSON():null}}}function ke(e){if(null===e)return null;if(Array.isArray(e)){if("number"===typeof e[0])return e;if(Array.isArray(e[0])&&"number"===typeof e[0][0])return e;if(Array.isArray(e[0][0])&&"number"===typeof e[0][0][0])return e;if(e[0]instanceof Float32Array)return e.map(e=>Array.from(e));if(e[0][0]instanceof Float32Array)return e.map(e=>e.map(e=>Array.from(e)))}else if(e)return Array.from(e);throw new Error("unexpected value")}function Te(e,t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=B(e);return n}function Ae(e,t,n){const r=new Array(n);for(let i=0;i<n;i++)r[i]=Te(e,t);return r}class _e extends Se{constructor(e,t){super(t),this.inputLayer=e;const{width:n,height:r,depth:i}=this;this.predictKernel=null,this.compareKernel=null,this.validate(),i>0?(this.weights=Ae(n,r,i),this.deltas=Ae(n,r,i)):r>0&&(this.weights=Te(n,r),this.deltas=Te(n,r)),this.setupPraxis()}get width(){return this.inputLayer.width}get height(){return this.inputLayer.height}get depth(){return this.inputLayer.depth}}class Ee extends Se{constructor(e,t){super(),this.settings=e,this.inputLayer=t}get width(){return this.inputLayer.width}get height(){return this.inputLayer.height}get depth(){return this.inputLayer.depth}get filterCount(){return this.settings.filterCount}get filterWidth(){return this.settings.filterWidth}get filterHeight(){return this.settings.filterHeight}get filters(){return this.settings.filters}set filters(e){this.settings.filters=e}get filterDeltas(){return this.settings.filterDeltas}set filterDeltas(e){this.settings.filterDeltas=e}}class Ce{constructor(){this.predictKernel=null,this.compareKernel=null,this.praxis=null}get width(){return this.settings.width}get height(){return this.settings.height}get depth(){return this.settings.depth}get weights(){return this.settings.weights}set weights(e){this.settings.weights=e}get deltas(){return this.settings.deltas}set deltas(e){this.settings.deltas=e}toJSON(){return Se.toJSON(this)}}class De extends Se{constructor(e,t){super({...t,width:e.width,height:e.height,depth:e.depth}),this.inputLayer=e}validate(){var e;if(super.validate(),this.width!==this.inputLayer.width)throw new Error(`width of ${this.width} does not match inputLayer.width of ${this.inputLayer.width}`);if(this.height!==this.inputLayer.height)throw new Error(`height of ${this.height} does not match inputLayer.height of ${this.inputLayer.height}`);if(this.depth!==(null!==(e=this.inputLayer.depth)&&void 0!==e?e:0))throw new Error(`depth of ${this.depth} does not match inputLayer.depth of ${this.inputLayer.depth}`)}}class Me extends Se{constructor(e,t,n){super(n),this.inputLayer1=e,this.inputLayer2=t,this.validate(),this.weights=Te(this.width,this.height),this.deltas=Te(this.width,this.height),this.setupPraxis()}}function Le(e,t){return e[this.thread.y][this.thread.x]-t[this.thread.x]}function Ie(e,t){return e[this.thread.y][this.thread.x]-t[this.thread.y][this.thread.x]}class Pe extends Se{constructor(e,t){if(super(e),this.inputLayer=t,this.validate(),this.depth)throw new Error("Target layer not implemented for depth");this.height?(this.weights=Te(this.width,this.height),this.deltas=Te(this.width,this.height),this.errors=Te(this.width,this.height)):(this.weights=B(this.width),this.deltas=B(this.width),this.errors=B(this.width))}setupKernels(){1===this.width?this.compareKernel=X(Le,{output:[this.width,this.height],immutable:!0}):this.compareKernel=X(Ie,{output:[this.width,this.height],immutable:!0})}predict(){J(this.weights),this.weights=ee(this.inputLayer.weights)}compare(e){J(this.deltas),J(this.errors),J(this.inputLayer.deltas),this.deltas=this.compareKernel(this.weights,e),this.inputLayer.deltas=ee(this.deltas),this.errors=ee(this.deltas)}setupPraxis(){}}function Oe(e,t){return new Pe(e,t)}class Re{}class $e extends Se{}class Ne extends Se{learn(e){const{weights:t}=this;if(!this.praxis)throw new Error("this.praxis not defined");this.weights=this.praxis.run(this,e),J(t)}}class Fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.layerTemplate=e,this.settings={...t},this.kernel=null}get width(){return this.layerTemplate.width}get height(){return this.layerTemplate.height}get depth(){return this.layerTemplate.depth}setupKernels(){}reuseKernels(e){if(e.width!==this.width)throw new Error(`${this.constructor.name} kernel width mismatch ${e.width} is not ${this.width}`);if(e.height!==this.height)throw new Error(`${this.constructor.name} kernel width mismatch ${e.height} is not ${this.height}`);e.hasOwnProperty("kernel")&&(this.kernel=e.kernel)}toJSON(){return{...this.settings}}}function ze(e,t){return e[this.thread.y][this.thread.x]+this.constants.learningRate*t[this.thread.y][this.thread.x]}const Ve={learningRate:.3};class je extends Fe{constructor(e,t){super(e),this.settings={...Ve,...t},this.kernel=null}run(e){return this.kernel(e.weights,e.deltas)}setupKernels(){var e;this.kernel=X(ze,{output:[this.width,this.height],constants:{learningRate:null!==(e=this.settings.learningRate)&&void 0!==e?e:.01}})}}function Be(e,t){return new je(e,t)}function We(e){return e}function Ue(e,t,n,r){const i=e[this.thread.y][this.thread.x],s=r[this.thread.y][0],o=t[this.thread.y][this.thread.x],a=n[this.thread.x][0];return o+(this.constants.learningRate*s*a+this.constants.momentum*i)}const Ke={learningRate:.3,momentum:.1,weightsLayer:null,incomingLayer:null,deltaLayer:null};class He extends Fe{constructor(e,t){super(e),this.kernelMap=null,this.settings={...Ke,...t},this.changes=Te(e.width,e.height)}get learningRate(){return this.settings.learningRate}get momentum(){return this.settings.momentum}get weightsLayer(){return this.settings.weightsLayer}set weightsLayer(e){this.settings.weightsLayer=e}get deltaLayer(){return this.settings.deltaLayer}set deltaLayer(e){this.settings.deltaLayer=e}get incomingLayer(){return this.settings.incomingLayer}set incomingLayer(e){this.settings.incomingLayer=e}run(){const e=this.kernelMap(this.changes,this.weightsLayer.weights,this.incomingLayer.weights,this.deltaLayer.deltas);return this.changes=e.changes,e.result}setupKernels(){this.kernelMap=q({changes:We},Ue,{output:[this.width,this.height],constants:{learningRate:this.learningRate,momentum:this.momentum}})}}function Ge(e,t){return new He(e,t)}function Ye(e,t,n){return n*t+(1-t)*e*e}function Xe(e,t,n){return e>t?t:e<n?n:e}function qe(e,t,n){const r=t[this.thread.y][this.thread.x],i=Xe(r,this.constants.clipValue,-this.constants.clipValue),s=e[this.thread.y][this.thread.x],o=n[this.thread.y][this.thread.x],a=Ye(r,this.constants.decayRate,o);return s+-this.constants.learningRate*i/Math.sqrt(a+this.constants.smoothEps)-this.constants.regularizationStrength*s}const Qe={decayRate:.999,regularizationStrength:1e-6,learningRate:.01,smoothEps:1e-8,clipValue:5};class Je extends Fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.kernelMap=null,this.settings={...Qe,...t},this.momenta=Te(e.width,e.height)}get clipValue(){return this.settings.clipValue}get decayRate(){return this.settings.decayRate}get learningRate(){return this.settings.learningRate}get regularizationStrength(){return this.settings.regularizationStrength}get smoothEps(){return this.settings.smoothEps}run(e){const{momenta:t,result:n}=this.kernelMap(e.weights,e.deltas,this.momenta);return J(this.momenta),this.momenta=t,n}setupKernels(){this.kernelMap=q({momenta:Ye},qe,{output:[this.width,this.height],constants:{clipValue:this.clipValue,decayRate:this.decayRate,learningRate:this.learningRate,regularizationStrength:this.regularizationStrength,smoothEps:this.smoothEps},functions:[Xe],immutable:!0})}}function Ze(e,t){return new Je(e,t)}const et=Je,tt=Ze;var nt=Object.freeze({__proto__:null,ArthurDeviationBiases:je,arthurDeviationBiases:Be,ArthurDeviationWeights:He,arthurDeviationWeights:Ge,MomentumRootMeanSquaredPropagation:Je,momentumRootMeanSquaredPropagation:Ze,MRmsProp:et,mRmsProp:tt});function rt(e,t){e.hasOwnProperty("inputLayer")?rt(e.inputLayer,t):(e.hasOwnProperty("inputLayer1")&&rt(e.inputLayer1,t),e.hasOwnProperty("inputLayer2")&&rt(e.inputLayer2,t)),t(e)}function it(e){const t=e.slice(0);for(let n=0;n<t.length;n++){let e=0;rt(t[n],r=>{t.includes(r)||(t.splice(n+e,0,r),e++)})}return t}function st(e,t){if(e.width!==t.width)throw new Error(`Layer width mismatch of ${e.width} and ${t.width}`);if(e.height!==t.height)throw new Error(`Layer height mismatch of ${e.height} and ${t.height}`)}function ot(e,t){return e[this.thread.y][this.thread.x]+t[this.thread.y][this.thread.x]}class at extends Me{get width(){return this.inputLayer1.width}get height(){return this.inputLayer1.height}get depth(){return this.inputLayer1.depth}validate(){super.validate(),st(this.inputLayer1,this.inputLayer2)}setupKernels(){this.predictKernel=X(ot,{output:[this.width,this.height],immutable:!0})}predict(){J(this.weights),this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){J(this.inputLayer1.deltas),J(this.inputLayer2.deltas),this.inputLayer1.deltas=ee(this.deltas),this.inputLayer2.deltas=ee(this.deltas)}}function lt(e,t,n){return new at(e,t,n)}const ut={...we,std:null};class ct extends Ne{constructor(e){super(),this.settings={...ut,...e},this.setupPraxis(),this.validate(),this.weights||(this.weights=V(this.width,this.height,e.std)),this.deltas||(this.deltas=Te(this.width,this.height))}predict(){}compare(){}}function ht(e){return new ct(e)}function dt(e,t){let n=0;for(let r=0;r<this.constants.size;r++)n+=e[this.thread.y][r]*t[r][this.thread.x];return n}function pt(e,t,n){let r=t[this.thread.y][this.thread.x];for(let i=0;i<this.constants.size;i++)r+=e[this.thread.y][i]*n[this.thread.x][i];return r}function ft(e,t,n){let r=t[this.thread.y][this.thread.x];for(let i=0;i<this.constants.size;i++)r+=e[i][this.thread.x]*n[i][this.thread.y];return r}class mt extends Me{constructor(){super(...arguments),this.compareKernel1=null,this.compareKernel2=null}get width(){return this.inputLayer2.width}set width(e){throw new Error("Cannot set width on Multiply")}get height(){return this.inputLayer1.height}set height(e){throw new Error("Cannot set height on Multiply")}get depth(){return this.inputLayer1.depth}set depth(e){throw new Error("Cannot set depth on Multiply")}validate(){if(super.validate(),this.inputLayer1.width!==this.inputLayer2.height)throw new Error(`Layer width mismatch of ${this.inputLayer1.width} and ${this.inputLayer2.height}`)}setupKernels(){this.predictKernel=X(dt,{output:[this.width,this.height],constants:{size:this.inputLayer2.height},immutable:!0}),this.compareKernel1=X(pt,{output:[this.inputLayer1.width,this.inputLayer1.height],constants:{size:this.inputLayer2.width},immutable:!0}),this.compareKernel2=X(ft,{output:[this.inputLayer2.width,this.inputLayer2.height],constants:{size:this.inputLayer1.height},immutable:!0})}reuseKernels(e){super.reuseKernels(e),this.compareKernel1=e.compareKernel1,this.compareKernel2=e.compareKernel2}predict(){if(J(this.weights),!this.predictKernel)throw new Error("this.predictKernel is not set");this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){if(!this.compareKernel1)throw new Error("this.compareKernel1 not set");if(!this.compareKernel2)throw new Error("this.compareKernel2 not set");const e=this.inputLayer1.deltas,t=this.inputLayer2.deltas,n=this.compareKernel1(this.deltas,this.inputLayer1.deltas,this.inputLayer2.weights),r=this.compareKernel2(this.deltas,this.inputLayer2.deltas,this.inputLayer1.weights);this.inputLayer2.deltas=r,this.inputLayer1.deltas=n,J(e),J(t)}setupPraxis(){}toJSON(){return{...super.toJSON(),width:this.width,height:this.height}}}function gt(e,t,n){return new mt(e,t,n)}function yt(e){return 1/(1+Math.exp(-e[this.thread.y][this.thread.x]))}function xt(e){return 1/(1+Math.exp(-e[this.thread.z][this.thread.y][this.thread.x]))}function bt(e,t){const n=e[this.thread.y][this.thread.x];return n*(1-n)*t[this.thread.y][this.thread.x]}function vt(e,t){const n=e[this.thread.z][this.thread.y][this.thread.x];return n*(1-n)*t[this.thread.z][this.thread.y][this.thread.x]}class wt extends _e{setupKernels(){this.depth>0?(this.predictKernel=X(xt,{output:[this.width,this.height,this.depth],functions:[s],immutable:!0}),this.compareKernel=X(vt,{output:[this.width,this.height,this.depth],functions:[o],immutable:!0})):(this.predictKernel=X(yt,{output:[this.width,this.height],functions:[s],immutable:!0}),this.compareKernel=X(bt,{output:[this.width,this.height],functions:[o],immutable:!0}))}predict(){J(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){J(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}learn(e){}}function St(e,t){return new wt(e,t)}function kt(e,t){const{height:n}=e;function r(e,t){const n=Ge(e,t);return n.setupKernels(),n}function i(e,t){const n=Be(e,t);return n.setupKernels(),n}const s=ht({id:"weights",height:n,width:t.height,initPraxis:r}),o=ht({id:"biases",height:n,initPraxis:i}),a=St(lt(gt(s,t),o)),l=s.praxis;return l.weightsLayer=s,l.incomingLayer=t,l.deltaLayer=a,a}function Tt(e,t){if("number"===typeof e.stride)return{strideX:e.stride,strideY:e.stride};{let n=t.stride,r=t.stride;return"number"===typeof e.strideX&&(n=e.strideX),"number"===typeof e.strideY&&(r=e.strideY),{strideX:n,strideY:r}}}function At(e,t){if("number"===typeof e.padding)return{paddingX:e.padding,paddingY:e.padding};{let n=t.padding,r=t.padding;return"number"===typeof e.paddingX&&(n=e.paddingX),"number"===typeof e.paddingY&&(r=e.paddingY),{paddingX:n,paddingY:r}}}function _t(e,t){return new Float32Array(e).fill(t)}function Et(e,t,n){const r=this.constants.paddingX-this.thread.x*this.constants.strideX,i=this.thread.x*this.constants.strideX-this.constants.paddingX,s=Math.min(this.constants.filterWidth,r+this.constants.inputWidth),o=this.constants.paddingY-this.thread.y*this.constants.strideY,a=this.thread.y*this.constants.strideY-this.constants.paddingY,l=Math.min(this.constants.filterHeight,o+this.constants.inputHeight);let u=0;for(let c=0;c<this.constants.inputDepth;c++)for(let n=Math.max(0,o),h=Math.max(0,a);n<l;n++,h++)for(let o=Math.max(0,r),a=Math.max(0,i);o<s;o++,a++)u+=t[c][n][o]*e[c][h][a];return u+n[this.thread.z]}function Ct(e,t,n){const r=Math.max(0,Math.ceil((this.constants.paddingX-this.thread.x)/this.constants.strideX)),i=r*this.constants.strideX+this.thread.x-this.constants.paddingX,s=Math.min(this.constants.deltaWidth,Math.floor((this.constants.inputWidth-1-this.thread.x+this.constants.paddingX)/this.constants.strideX)+1),o=Math.max(0,Math.ceil((this.constants.paddingY-this.thread.y)/this.constants.strideY)),a=o*this.constants.strideY+this.thread.y-this.constants.paddingY,l=Math.min(this.constants.deltaHeight,Math.floor((this.constants.inputHeight-1-this.thread.y+this.constants.paddingY)/this.constants.strideY)+1);let u=e[this.thread.z][this.thread.y][this.thread.x];for(let c=o,h=a;c<l;c++,h+=this.constants.strideY)for(let e=r,o=i;e<s;e++,o+=this.constants.strideX)u+=t[this.thread.z][h][o]*n[this.constants.deltaZ][c][e];return u}function Dt(e,t,n){const r=this.thread.x+this.constants.paddingX,i=r<this.constants.filterWidth?0:Math.floor((r-this.constants.filterWidth+this.constants.strideX)/this.constants.strideX),s=r-i*this.constants.strideX,o=Math.min(i+Math.floor(s/this.constants.strideX)+1,this.constants.deltaWidth),a=this.thread.y+this.constants.paddingY,l=a<this.constants.filterHeight?0:Math.floor((a-this.constants.filterHeight+this.constants.strideY)/this.constants.strideY),u=a-l*this.constants.strideY,c=Math.min(l+Math.floor(u/this.constants.strideY)+1,this.constants.deltaHeight);let h=e[this.thread.z][this.thread.y][this.thread.x],d=l;for(let p=u;d<c;p-=this.constants.strideY,d++){let e=i;for(let r=s;e<o;r-=this.constants.strideX,e++)h+=t[this.thread.z][p][r]*n[this.constants.deltaZ][d][e]}return h}function Mt(e,t){let n=0;for(let r=0;r<this.constants.deltaHeight;r++)for(let e=0;e<this.constants.deltaWidth;e++)n+=t[this.thread.z][r][e];return e[this.thread.z][this.thread.y][this.thread.x]+n}const Lt={stride:0,padding:0,bias:.1,filterCount:1,filterWidth:0,filterHeight:0};class It extends Ee{constructor(e,t){var n,r,i;super(e,t),this.compareFilterDeltasKernel=null,this.compareInputDeltasKernel=null,this.compareBiasesKernel=null,this.settings={...Lt,...e,...At(e,Lt),...Tt(e,Lt)},this.weights=null!==(n=e.weights)&&void 0!==n?n:j(this.width,this.height,this.depth),this.deltas=Ae(this.width,this.height,this.depth),this.biases=_t(this.depth,this.bias),this.biasDeltas=null!==(r=e.biasDeltas)&&void 0!==r?r:z(this.depth),this.filters=null!==(i=e.filters)&&void 0!==i?i:j(this.filterWidth,this.filterHeight,this.filterCount),this.filterDeltas=Ae(this.filterWidth,this.filterHeight,this.filterCount),this.validate()}get strideX(){return this.settings.strideX}get strideY(){return this.settings.strideY}get paddingX(){return this.settings.paddingX}get paddingY(){return this.settings.paddingX}get width(){return Math.floor((this.inputLayer.width+2*this.paddingX-this.filterWidth)/this.strideX+1)}get height(){return Math.floor((this.inputLayer.height+2*this.paddingY-this.filterHeight)/this.strideY+1)}get bias(){return this.settings.bias}get depth(){return this.filterCount}get biases(){return this.settings.biases}set biases(e){this.settings.biases=e}get biasDeltas(){return this.settings.biasDeltas}set biasDeltas(e){this.settings.biasDeltas=e}get filters(){return this.settings.filters}set filters(e){this.settings.filters=e}get filterDeltas(){return this.settings.filterDeltas}set filterDeltas(e){this.settings.filterDeltas=e}setupKernels(){this.predictKernel=X(Et,{constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,inputDepth:this.inputLayer.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight},output:[this.width,this.height,this.depth],immutable:!0}),this.compareFilterDeltasKernel=X(Ct,{constants:{deltaWidth:this.width,deltaHeight:this.height,deltaZ:this.depth,inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,inputDepth:this.inputLayer.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight},output:[this.width,this.height,this.depth],immutable:!0}),this.compareInputDeltasKernel=X(Dt,{constants:{deltaWidth:this.width,deltaHeight:this.height,deltaZ:this.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight,filterCount:this.filterCount},output:[this.inputLayer.width,this.inputLayer.height,this.inputLayer.depth],immutable:!0}),this.compareBiasesKernel=X(Mt,{output:[1,1,this.depth],constants:{deltaWidth:this.width,deltaHeight:this.height},immutable:!0})}predict(){this.weights=this.predictKernel(this.inputLayer.weights,this.filters,this.biases)}compare(){const{filterDeltas:e,biasDeltas:t}=this;this.filterDeltas=this.compareFilterDeltasKernel(e,this.inputLayer.weights,this.deltas),J(e),this.biasDeltas=this.compareBiasesKernel(t,this.deltas),J(t),J(this.deltas),this.deltas=this.compareInputDeltasKernel(this.filters,this.inputLayer.deltas),J(this.inputLayer.deltas),this.inputLayer.deltas=ee(this.deltas)}learn(e){const{weights:t}=this;this.weights=this.praxis.run(this,e),J(t)}}function Pt(e,t){return new It(e,t)}function Ot(e){return e}function Rt(e){return Ot(Math.random())<this.constants.probability?0:e[this.thread.y][this.thread.x]}function $t(e){return e[this.thread.y][this.thread.x]*this.constants.probability}function Nt(e,t){return 0===e[this.thread.y][this.thread.x]?0:t[this.thread.y][this.thread.x]}const Ft={...we,probability:.5};class zt extends Ee{constructor(e,t){super(t,e),this.predictKernelMap=null,this.settings={...Ft,...t},this.dropouts=null,this.validate()}setupKernels(e){const t=[this.width,this.height];e?(this.predictKernelMap=q({dropouts:Ot},Rt,{output:t,immutable:!0}),this.compareKernel=X(Nt,{output:t,immutable:!0})):this.predictKernelMap=q({},$t,{output:t,immutable:!0})}predict(){J(this.weights),this.dropouts&&J(this.dropouts);const{result:e,dropouts:t}=this.predictKernelMap(this.inputLayer.weights);this.weights=e,this.dropouts=t}compare(){J(this.deltas),this.deltas=this.compareKernel(this.dropouts,this.inputLayer.deltas)}}function Vt(e,t){return new zt(e,t)}function jt(e,t){const{height:n,praxisOpts:r=null}=e,i=ht({id:"weights",height:n,width:t.height,praxisOpts:r}),s=ht({id:"biases",height:n,praxisOpts:r});return St(lt(gt(i,t,{praxisOpts:r}),s,{praxisOpts:r}),{praxisOpts:r})}function Bt(e,t,n){let r=0,i=0;for(let s=0;s<this.constants.inputHeight;s++)for(let n=0;n<this.constants.inputWidth;n++)r+=e[s][n]*t[this.thread.x][i],i++;return r+n[this.thread.x]}function Wt(e,t,n){let r=0,i=0;for(let s=0;s<this.constants.inputDepth;s++)for(let n=0;n<this.constants.inputHeight;n++)for(let o=0;o<this.constants.inputWidth;o++)r+=e[s][n][o]*t[this.thread.x][i],i++;return r+n[this.thread.x]}function Ut(e,t,n){let r=0;const i=this.thread.x+this.thread.y*this.output.x;for(let s=0;s<this.constants.filterCount;s++)r+=n[s][i]*t[0][s];return r+e[this.thread.y][this.thread.x]}function Kt(e,t,n){let r=0;const i=this.thread.x+this.thread.y*this.output.x;for(let s=0;s<this.constants.filterCount;s++)r+=n[s][i]*t[0][s];return r+e[this.thread.z][this.thread.y][this.thread.x]}function Ht(e,t){return e[this.thread.x]+t[this.thread.y][this.thread.x]}function Gt(e,t,n){return e[this.thread.y][this.thread.x]+t[this.thread.y][this.thread.x]*n[this.constants.deltaY][this.constants.deltaX]}function Yt(e,t,n){const r=Math.floor(this.thread.x/(this.constants.inputWidth*this.constants.inputHeight)),i=Math.floor((this.thread.x-r*this.constants.inputWidth*this.constants.inputHeight)/this.constants.inputWidth),s=this.thread.x-this.constants.inputWidth*(i+this.constants.inputHeight*r);return e[this.thread.y][this.thread.x]+t[r][i][s]*n[0][this.thread.y]}class Xt extends Ee{constructor(e,t){super(e,t),this.compareFilterDeltasKernel=null,this.compareInputDeltasKernel=null,this.compareBiasesKernel=null,this.settings={...e},this.validate();const n=t.width*t.height*t.depth;this.biases=_t(this.height,this.bias),this.biasDeltas=B(this.height),this.filters=V(n,this.height),this.filterDeltas=Te(n,this.height),this.depth>0?(this.weights=j(this.width,this.height,this.depth),this.deltas=Ae(this.width,this.height,this.depth)):this.height>0&&(this.weights=V(this.width,this.height),this.deltas=Te(this.width,this.height))}get bias(){return this.settings.bias}get biases(){return this.settings.biases}set biases(e){this.settings.biases=e}get biasDeltas(){return this.settings.biases}set biasDeltas(e){this.settings.biasDeltas=e}validate(){if(super.validate(),this.depth>0)throw new Error("depth not supported")}setupKernels(){const{inputLayer:e}=this,t=e.width*e.height*e.depth;e.depth>0?(this.predictKernel=X(Wt,{output:[this.width,this.height],constants:{inputHeight:e.height,inputWidth:e.width,inputDepth:e.depth}}),this.compareFilterDeltasKernel=X(Yt,{output:[t,this.height],constants:{deltaX:0,deltaY:0,inputWidth:e.width,inputHeight:e.height},immutable:!0}),this.compareInputDeltasKernel=X(Kt,{output:[e.width,e.height,e.depth],constants:{filterCount:this.height},immutable:!0})):(this.predictKernel=X(Bt,{output:[this.width,this.height],constants:{inputHeight:e.height,inputWidth:e.width}}),this.compareFilterDeltasKernel=X(Gt,{output:[t,this.height],constants:{deltaX:0,deltaY:0,inputWidth:e.width,inputHeight:e.height}}),this.compareInputDeltasKernel=X(Ut,{output:[e.width,e.height],constants:{filterCount:this.height}})),this.compareBiasesKernel=X(Ht,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights,this.filters,this.biases)}compare(){const e=this.inputLayer.deltas;this.inputLayer.deltas=this.compareInputDeltasKernel(e,this.deltas,this.filters),J(e);const{biasDeltas:t,filterDeltas:n}=this;this.biasDeltas=this.compareBiasesKernel(this.biases,this.deltas),this.filterDeltas=this.compareFilterDeltasKernel(n,this.inputLayer.weights,this.deltas),J(t),J(n)}}function qt(e,t){return new Xt(e,t)}function Qt(e){return-e[this.thread.y][this.thread.x]}class Jt extends De{constructor(e,t){super(e,t),this.validate()}setupKernels(){this.predictKernel=X(Qt,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights)}}function Zt(e,t){return new Jt(e,t)}function en(e,t){return e[this.thread.y][this.thread.x]*t[this.thread.y][this.thread.x]}function tn(e,t){return e[this.thread.y][this.thread.x]*t[this.thread.y][this.thread.x]}class nn extends Me{get width(){return this.inputLayer1.width}get height(){return this.inputLayer1.height}get depth(){return this.inputLayer1.depth}validate(){super.validate(),st(this.inputLayer1,this.inputLayer2)}setupKernels(){this.predictKernel=X(en,{output:[this.width,this.height],immutable:!0}),this.compareKernel=X(tn,{output:[this.width,this.height],immutable:!0})}predict(){J(this.weights),this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){J(this.inputLayer1.deltas),J(this.inputLayer2.deltas),this.inputLayer1.deltas=this.compareKernel(this.inputLayer2.weights,this.deltas),this.inputLayer2.deltas=this.compareKernel(this.inputLayer1.weights,this.deltas)}}function rn(e,t,n){return new nn(e,t,n)}function sn(e){return new Float32Array(e).fill(1)}function on(e,t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=sn(e);return n}class an extends Ne{constructor(e){super(e),this.validate(),this.weights=on(this.width,this.height),this.deltas=Te(this.width,this.height)}}function ln(e){return new an(e)}function un(e){return l(e[this.thread.y][this.thread.x])}function cn(e){return l(e[this.thread.z][this.thread.y][this.thread.x])}function hn(e,t){return u(e[this.thread.y][this.thread.x],t[this.thread.y][this.thread.x])}function dn(e,t){return u(e[this.thread.z][this.thread.y][this.thread.x],t[this.thread.z][this.thread.y][this.thread.x])}class pn extends _e{setupKernels(){this.depth>0?(this.predictKernel=X(cn,{output:[this.width,this.height,this.depth],functions:[l],immutable:!0}),this.compareKernel=X(dn,{output:[this.width,this.height,this.depth],functions:[u],immutable:!0})):(this.predictKernel=X(un,{output:[this.width,this.height],functions:[l],immutable:!0}),this.compareKernel=X(hn,{output:[this.width,this.height],functions:[u],immutable:!0}))}predict(){J(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){J(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}}function fn(e,t){return new pn(e,t)}class mn extends Ne{constructor(e){super(e),this.validate(),this.weights=Te(this.width,this.height),this.deltas=Te(this.width,this.height)}predict(){}compare(){}}function gn(e){return new mn(e)}function yn(e,t,n){const{height:r}=e,i=ht({height:r,width:n.height}),s=ht({width:r,height:r}),o=gn({height:r}),a=St(lt(lt(gt(i,n),gt(s,t)),o)),l=ht({height:r,width:n.height}),u=ht({width:r,height:r}),c=gn({height:r}),h=St(lt(lt(gt(l,n),gt(u,t)),c)),d=ht({height:r,width:n.height}),p=ht({width:r,height:r}),f=gn({height:r}),m=fn(lt(lt(gt(d,n),gt(p,rn(h,t))),f));return lt(rn(lt(ln({width:a.width,height:a.height}),Zt(a)),m),rn(t,a))}const xn={weights:null};class bn extends $e{constructor(e){super({...xn,...e}),this.reshapeInput=null,this.validate(),this.reshapeInput=null,this.deltas=Te(this.width,this.height)}setupKernels(){1===this.width&&(this.predict=this.predict1D,this.reshapeInput=X(function(e){return e[this.thread.y]},{output:[1,this.height],immutable:!0}))}reuseKernels(e){this.reshapeInput=e.reshapeInput}predict(e){if((Array.isArray(e)||e instanceof Float32Array)&&"number"===typeof e[0]&&e.length===this.height*this.width)J(this.weights),this.weights=Q(e,[this.width,this.height]);else{if(!Array.isArray(e)||e.length!==this.height||!(Array.isArray(e[0])||e[0]instanceof Float32Array)||e[0].length!==this.width)throw new Error("Inputs are not of sized correctly");this.weights=ee(e)}}predict1D(e){this.weights&&J(this.weights),this.reshapeInput?this.weights=this.reshapeInput(e):this.weights=e}compare(){}learn(){}}function vn(e){return new bn(e)}function wn(e){return h(e[this.thread.y][this.thread.x])}function Sn(e){return h(e[this.thread.z][this.thread.y][this.thread.x])}function kn(e,t){return d(e[this.thread.y][this.thread.x],t[this.thread.y][this.thread.x])}function Tn(e,t){return d(e[this.thread.z][this.thread.y][this.thread.x],t[this.thread.z][this.thread.y][this.thread.x])}class An extends _e{setupKernels(){const{width:e,height:t,depth:n}=this.inputLayer;this.depth>0?(this.predictKernel=X(Sn,{output:[e,t,n],functions:[h],immutable:!0}),this.compareKernel=X(Tn,{output:[e,t,n],functions:[d],immutable:!0})):(this.predictKernel=X(wn,{output:[e,t],functions:[h],immutable:!0}),this.compareKernel=X(kn,{output:[e,t],functions:[d],immutable:!0}))}predict(){J(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){const{deltas:e}=this;this.deltas=this.compareKernel(this.weights,e),J(e)}}function _n(e,t){return new An(e,t)}function En(e,t,n){const{height:r}=e;if("number"!==typeof r)throw new Error("no settings.height given");n.setDimensions&&n.setDimensions(1,r);const i=ht({width:t.height,height:r,std:.08,id:"inputGateWeights"}),s=ht({width:r,height:r,std:.08,id:"inputGatePeepholes"}),o=gn({width:1,height:r,id:"inputGateBias"}),a=St(lt(lt(gt(i,t),gt(s,n)),o),{id:"inputGate"}),l=ht({width:t.height,height:r,std:.08,id:"forgetGateWeights"}),u=ht({width:r,height:r,std:.08,id:"forgetGatePeepholes"}),c=gn({width:1,height:r,id:"forgetGateBias"}),h=St(lt(lt(gt(l,t),gt(u,n)),c),{id:"forgetGate"}),d=ht({width:t.height,height:r,std:.08,id:"outputGateWeights"}),p=ht({width:r,height:r,std:.08,id:"outputGatePeepholes"}),f=gn({width:1,height:r,id:"outputGateBias"}),m=St(lt(lt(gt(d,t),gt(p,n)),f),{id:"outputGate"}),g=ht({width:t.height,height:r,std:.08,id:"memoryWeights"}),y=ht({width:r,height:r,std:.08,id:"memoryPeepholes"}),x=gn({width:1,height:r,id:"memoryBias"}),b=fn(lt(lt(gt(g,t),gt(y,n)),x),{id:"memory"}),v=rn(h,n,{id:"retainCell"}),w=rn(a,b,{id:"writeCell"});return rn(m,fn(lt(v,w,{id:"cell"})),{id:"activations"})}function Cn(e,t){const{height:n}=e,r=ht({height:n,width:t.height,id:"outputGate",std:.08}),i=ht({height:n,id:"output",std:.08}),s=gt(r,t,{id:"outputGateConnected"});return Oe({id:"target",...e},lt(s,i))}function Dn(e){return e}function Mn(e){return e}function Ln(e){const t=this.thread.x*this.constants.strideX-this.constants.paddingX,n=this.thread.y*this.constants.strideY-this.constants.paddingY,r=t+this.constants.filterWidth,i=n+this.constants.filterHeight,s=Math.max(t,0),o=Math.max(n,0),a=Math.min(r,this.constants.inputWidth),l=Math.min(i,this.constants.inputHeight);let u=e[this.thread.z][o][s];for(let c=o;c<l;c++)for(let t=s;t<a;t++){const n=e[this.thread.z][c][t];n>u&&(u=n)}return u}function In(e,t,n){const r=this.thread.x+.5,i=this.thread.y+.5,s=1/this.constants.strideX,o=1/this.constants.strideY,a=Math.max(0,Math.ceil((r-this.constants.filterWidth+this.constants.paddingX)*s)),l=Math.max(0,Math.ceil((i-this.constants.filterHeight+this.constants.paddingY)*o)),u=Math.min(Math.ceil((r+this.constants.paddingX)*s),this.constants.outputWidth),c=Math.min(Math.ceil((i+this.constants.paddingY)*o),this.constants.outputHeight);let h=0;for(let d=l;d<c;d++)for(let r=a;r<u;r++){const i=t[d][r],s=n[d][r];Math.abs(i-this.thread.x)<.1&&Math.abs(s-this.thread.y)<.1&&(h+=e[d][r])}return h}const Pn={padding:0,stride:0,filterWidth:0,filterHeight:0,filterCount:0};class On extends Ee{constructor(e,t){super(e,t),this.predictKernelMap=null,this.settings={...e,...Tt(e,Pn),...At(e,Pn)},this.weights=j(this.width,this.height,this.depth),this.deltas=Ae(this.width,this.height,this.depth),this.validate()}get strideX(){return this.settings.strideX}get strideY(){return this.settings.strideY}get paddingX(){return this.settings.paddingX}get paddingY(){return this.settings.paddingY}get width(){return Math.ceil((this.inputLayer.width+2*this.paddingX-this.filterWidth)/this.strideX+1)}get height(){return Math.floor((this.inputLayer.height+2*this.paddingY-this.filterHeight)/this.strideY+1)}get depth(){return this.settings.filterCount}get filterCount(){return this.settings.filterCount}get switchX(){return this.settings.switchX}set switchX(e){this.settings.switchX=e}get switchY(){return this.settings.switchY}set switchY(e){this.settings.switchY=e}setupKernels(){this.predictKernelMap=q({switchX:Mn,switchY:Dn},Ln,{output:[this.width,this.height,this.depth],constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,paddingX:this.paddingX,paddingY:this.paddingY,filterHeight:this.filterHeight,filterWidth:this.filterWidth,strideX:this.strideX,strideY:this.strideY}}),this.compareKernel=X(In,{output:[this.inputLayer.width,this.inputLayer.height,this.inputLayer.depth],constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,outputWidth:this.width,outputHeight:this.height,filterWidth:this.filterWidth,filterHeight:this.filterHeight,paddingX:this.paddingX,paddingY:this.paddingY,strideX:this.strideX,strideY:this.strideY}})}predict(){const{result:e,switchX:t,switchY:n}=this.predictKernelMap(this.inputLayer.weights);this.switchX=t,this.switchY=n,this.weights=e}compare(){const e=this.inputLayer.deltas;this.inputLayer.deltas=this.compareKernel(this.deltas,this.switchX,this.switchY),J(e)}}function Rn(e,t){return new On(e,t)}class $n extends Ce{constructor(e){super(),this.praxis=null,this.predictKernel=null,this.compareKernel=null,this.settings={},this.recurrentInput=e,this.validate()}get width(){return this.recurrentInput.width}get height(){return this.recurrentInput.height}get depth(){return this.recurrentInput.depth}get deltas(){return this.recurrentInput.deltas}set deltas(e){const t=this.recurrentInput.deltas;this.recurrentInput.deltas=e,J(t)}get weights(){return this.recurrentInput.weights}set weights(e){const t=this.recurrentInput.weights;this.recurrentInput.weights=e,J(t)}validate(){if(Se.prototype.validate.call(this),this.width!==this.recurrentInput.width)throw new Error(`${this.constructor.name} layer width ${this.width} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.width}) are not same`);if(this.height!==this.recurrentInput.height)throw new Error(`${this.constructor.name} layer height ${this.height} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.height}) are not same`)}setDimensions(e,t){this.recurrentInput.width=e,this.recurrentInput.height=t}predict(){}compare(){}learn(){}setupKernels(){}reuseKernels(){}}class Nn extends Ce{constructor(e){super(),this.praxis=null,this.settings={},this.predictKernel=null,this.compareKernel=null,e&&(this.settings={...e})}setDimensions(e,t){this.praxis=null,this.settings={...this.settings,width:e,height:t,weights:Te(e,t),deltas:Te(e,t)}}setupKernels(){}reuseKernels(){}predict(){}compare(){}learn(e){const{weights:t}=this;this.weights=this.praxis.run(this,e),J(t)}}function Fn(){return new Nn}function zn(e){return t(e[this.thread.y][this.thread.x])}function Vn(e,t){return r(e[this.thread.y][this.thread.x],t[this.thread.y][this.thread.x])}function jn(e){return t(e[this.thread.z][this.thread.y][this.thread.x])}function Bn(e,t){return r(e[this.thread.z][this.thread.y][this.thread.x],t[this.thread.z][this.thread.y][this.thread.x])}class Wn extends _e{setupKernels(){const{width:e,height:n,depth:i}=this.inputLayer;i>0?(this.predictKernel=X(jn,{output:[e,n,i],functions:[t],immutable:!0}),this.compareKernel=X(Bn,{output:[e,n,i],functions:[r],immutable:!0})):(this.predictKernel=X(zn,{output:[e,n],functions:[t],immutable:!0}),this.compareKernel=X(Vn,{output:[e,n],functions:[r],immutable:!0}))}predict(){J(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){J(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}}function Un(e,t){return new Wn(e,t)}function Kn(e,t,n){const{height:r}=e;if("number"!==typeof r)throw new Error("height not set");n.setDimensions&&n.setDimensions(1,r);const i=ht({id:"weight",height:r,width:t.height,std:.08}),s=ht({id:"transition",height:r,width:r,std:.08}),o=gn({id:"bias",height:r});return Un(lt(lt(gt(i,t),gt(s,n)),o))}class Hn extends Se{constructor(e,t){super(e),this.inputLayer=t,this.validate()}predict(){J(this.weights),this.weights=ee(this.inputLayer.weights)}learn(){}}function Gn(e,t){return new Hn(e,t)}function Yn(e){let t=-1/0;for(let n=0;n<this.constants.inputHeight;n++)for(let r=0;r<this.constants.inputWidth;r++){const i=e[n][r];i>t&&(t=i)}return t}function Xn(e){let t=-1/0;for(let n=0;n<this.constants.inputDepth;n++)for(let r=0;r<this.constants.inputHeight;r++)for(let i=0;i<this.constants.inputWidth;i++){const s=e[n][r][i];s>t&&(t=s)}return t}function qn(e){let t=0;for(let n=0;n<this.constants.inputHeight;n++)for(let r=0;r<this.constants.inputWidth;r++)t+=e[n][r];return t}function Qn(e){let t=0;for(let n=0;n<this.constants.inputDepth;n++)for(let r=0;r<this.constants.inputHeight;r++)for(let i=0;i<this.constants.inputWidth;i++)t+=e[n][r][i];return t}function Jn(e,t){return Math.exp(e[this.thread.x]-t[0])}function Zn(e,t){return Math.exp(e[this.thread.z][this.thread.y][this.thread.x]-t[0])}function er(e,t){return e[this.thread.y][this.thread.x]/t[0]}function tr(e,t){return e[this.thread.z][this.thread.y][this.thread.x]/t[0]}function nr(e,t){let n=0;return this.thread.x+this.thread.y*this.output.x===e&&(n=1),-(n-t[this.thread.y][this.thread.x])}function rr(e,t){let n=0;return this.thread.x+this.thread.y*this.output.x+this.thread.z*this.output.x*this.output.y===e&&(n=1),-(n-t[this.thread.z][this.thread.y][this.thread.x])}class ir extends De{constructor(e,t){super(e,t),this.errors=null,this.getExponentialsKernel=null,this.getMaxValueKernel=null,this.getSumKernel=null,this.validate(),this.depth>0?(this.weights=j(this.width,this.height,this.depth),this.deltas=Ae(this.width,this.height,this.depth)):this.height>0?(this.weights=V(this.width,this.height),this.deltas=Te(this.width,this.height)):(this.weights=z(this.width),this.deltas=B(this.width))}setupKernels(){const{width:e,height:t,depth:n}=this;n>0?(this.getExponentialsKernel=X(Zn,{output:[e,t,n]}),this.getMaxValueKernel=X(Xn,{output:[1,1,1],constants:{inputWidth:e,inputHeight:t,inputDepth:n}}),this.getSumKernel=X(Qn,{output:[1,1,1],constants:{inputWidth:e,inputHeight:t,inputDepth:n}}),this.predictKernel=X(tr,{output:[e,t,n]}),this.compareKernel=X(rr,{output:[e,t,n],immutable:!0})):(this.getExponentialsKernel=X(Jn,{output:[e,t]}),this.getMaxValueKernel=X(Yn,{output:[1,1],constants:{inputWidth:e,inputHeight:t}}),this.getSumKernel=X(qn,{output:[1,1],constants:{inputWidth:e,inputHeight:t}}),this.predictKernel=X(er,{output:[e,t]}),this.compareKernel=X(nr,{output:[e,t],immutable:!0}))}predict(){const e=this.getMaxValueKernel(this.inputLayer.weights),t=this.getExponentialsKernel(this.inputLayer.weights,e),n=this.getSumKernel(t);this.weights=this.predictKernel(t,n)}compare(e){const{deltas:t,errors:n}=this;this.errors=this.compareKernel(e[0],t),this.deltas=ee(this.errors),J(t),J(n);const r=this.inputLayer.deltas;this.inputLayer.deltas=ee(this.deltas),J(r)}}function sr(e,t){return new ir(e,t)}class or extends Se{constructor(e,t){super(t),this.inputLayer=e}predict(){J(this.weights),this.weights=ee(this.inputLayer.weights),this.validate()}learn(){}}function ar(e,t){return new or(e,t)}function lr(e){return e[this.thread.x][this.thread.y]}const ur=lr;class cr extends De{get width(){return this.inputLayer.height}get height(){return this.inputLayer.width}constructor(e){super(e),this.validate()}setupKernels(){this.predictKernel=X(lr,{output:[this.height,this.width]}),this.compareKernel=X(ur,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights)}compare(){this.inputLayer.deltas=this.compareKernel(this.deltas)}}function hr(e){return new cr(e)}const dr={Activation:_e,Internal:Ce,InternalModel:Re,EntryPoint:$e,Filter:Ee,Model:Ne,Modifier:De,Operator:Me,Target:Pe};var pr=Object.freeze({__proto__:null,layerTypes:dr,Add:at,add:lt,arthurFeedForward:kt,BaseLayer:Se,baseLayerDefaultSettings:we,Convolution:It,convolution:Pt,Dropout:zt,dropout:Vt,feedForward:jt,FullyConnected:Xt,fullyConnected:qt,gru:yn,Input:bn,input:vn,LeakyRelu:An,leakyRelu:_n,lstmCell:En,Multiply:mt,multiply:gt,MultiplyElement:nn,multiplyElement:rn,Negative:Jt,negative:Zt,Ones:an,ones:ln,output:Cn,Pool:On,pool:Rn,Random:ct,random:ht,RecurrentInput:$n,RecurrentZeros:Nn,rnnCell:Kn,Regression:Hn,regression:Gn,Relu:Wn,relu:Un,Sigmoid:wt,sigmoid:St,SoftMax:ir,softMax:sr,SVM:or,svm:ar,Tanh:pn,tanh:fn,Target:Pe,target:Oe,Transpose:cr,transpose:hr,Zeros:mn,zeros:gn});const fr=Object.keys(pr);function mr(e,t,n){if(!fr.find(t=>t===e.type))return null;const r=pr[e.type];if(r.prototype instanceof dr.Filter){if(!t)throw new Error("inputLayer missing");return new r(e,t)}if(r.prototype instanceof dr.Activation||r.prototype instanceof dr.Modifier){if(!t)throw new Error("inputLayer missing");return new r(t,e)}if(r.prototype instanceof dr.Internal)return new r(e);if(r.prototype instanceof dr.Operator){if(!t)throw new Error("inputLayer1 missing");if(!n)throw new Error("inputLayer2 missing");return new r(t,n,e)}if(r.prototype instanceof dr.InternalModel||r.prototype instanceof dr.EntryPoint||r.prototype instanceof dr.Model)return new r(e);if(r===Pe){if(!t)throw new Error("inputLayer missing");return new r(e,t)}return null}const gr={learningRate:.3,binaryThresh:.5,initPraxis:(e,t)=>{var n;return Ze(e,null!==(n=e.settings.praxisOpts)&&void 0!==n?n:t)}},yr={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.3,callbackPeriod:10,errorCheckInterval:100,timeout:1/0};class xr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.trainOpts={},this.layers=null,this._inputLayer=null,this._hiddenLayers=null,this._outputLayer=null,this._model=null,this.meanSquaredError=null,this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null,this.options={...gr,...e},this._updateTrainingOptions({...yr,...e})}static _validateTrainingOptions(e){const{iterations:t,errorThresh:n,log:r,logPeriod:i,learningRate:s,callback:o,callbackPeriod:a,timeout:l}=e,u={iterations:()=>"number"===typeof t&&t>0,errorThresh:()=>"number"===typeof n&&n>0&&n<1,log:()=>"function"===typeof r||"boolean"===typeof r,logPeriod:()=>"number"===typeof i&&i>0,learningRate:()=>"number"===typeof s&&s>0&&s<1,callback:()=>"function"===typeof o||null===o,callbackPeriod:()=>"number"===typeof a&&a>0,timeout:()=>"number"===typeof l&&l>0};Object.keys(yr).forEach(t=>{if(u.hasOwnProperty(t)&&!u[t]()){const n=e[t];throw new Error(`[${t}, ${(null!==n&&void 0!==n?n:"undefined").toString()}] is out of normal training range, your network will probably not train.`)}})}_setLogMethod(e){this.trainOpts.log="function"===typeof e?e:!!e&&console.log}_updateTrainingOptions(e){var t;this.trainOpts={...yr,...this.trainOpts,...e},xr._validateTrainingOptions(this.trainOpts),this._setLogMethod(null!==(t=e.log)&&void 0!==t?t:this.trainOpts.log);const{callback:n,callbackPeriod:r,errorCheckInterval:i}=this.trainOpts;n&&r!==i&&console.warn(`options.callbackPeriod with value of ${(null!==r&&void 0!==r?r:"undefined").toString()} does not match options.errorCheckInterval with value of ${(null!==i&&void 0!==i?i:"undefined").toString()}, if logging error, it will repeat.  These values may need to match`)}_connectOptionsLayers(){const{inputLayerIndex:e,outputLayerIndex:t,layers:n}=this.options;if(!n)throw new Error("this.options.layers in unexpected state");if("number"!==typeof e)throw new Error("inputLayerIndex not a number");if("number"!==typeof t)throw new Error("inputLayerIndex not a number");const r=n[e];if(!r)throw new Error("inputLayer not found in this.options.layers");const i=n[t];if(!i)throw new Error("outputLayer not found in this.options.layers");return this._inputLayer=r,this._hiddenLayers=n.slice(e,t-e),this._outputLayer=i,n}_connectNewLayers(){const{inputLayer:e,outputLayer:t}=this.options;if(!e)throw new Error("inputLayer not defined");const n=[];this._inputLayer=e();const r=this._connectHiddenLayers(this._inputLayer);if(!t)throw new Error("outputLayer not defined");return this._outputLayer=t(r[r.length-1],r.length),n.push(this._inputLayer),n.push(...r),n.push(this._outputLayer),it(n)}_connectHiddenLayers(e){this._hiddenLayers=[];const t=[],{hiddenLayers:n}=this.options;if(!n)throw new Error("hiddenLayers not defined");for(let r=0;r<n.length;r++){const i=n[r](e,r);t.push(i),this._hiddenLayers.push(i),e=i}return t}initialize(){this.layers=this.options.layers?this._connectOptionsLayers():this._connectNewLayers(),this.initializeLayers(this.layers),this._model=this.layers.filter(e=>e instanceof Ne)}initializeLayers(e){var t,n;for(let i=0;i<e.length;i++){const r=e[i];r.setupKernels(!0),r instanceof Ne&&null===r.praxis&&"function"===typeof this.options.initPraxis&&(r.praxis=this.options.initPraxis(r,null!==(n=null!==(t=r.settings.praxisOpts)&&void 0!==t?t:this.options.praxisOpts)&&void 0!==n?n:{}),r.praxis.setupKernels())}const r=e[e.length-1];this.meanSquaredError=new ve({width:r.width,height:r.height})}run(e){let t;if(Array.isArray(e)||e.buffer)t=e;else{if(!this.inputLookup)throw new Error("input is incompatible with net");t=b.toArray(this.inputLookup,e,this.inputLookupLength)}let n=this.runInput(t);return n instanceof x.Texture&&(n=n.toArray()),this.outputLookup?b.toObject(this.outputLookup,n):n}runInput(e){if(!this.layers)throw new Error("not initialized");this.layers[0].predict(e);for(let t=1;t<this.layers.length;t++)this.layers[t].predict();return this.layers[this.layers.length-1].weights}train(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this._prepTraining(e,t);let s=!0;const o=()=>this._calculateTrainingError(n),a=()=>this._trainPatterns(n);for(;s;)s=this._trainingTick(r,i,o,a);return r}async trainAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this._prepTraining(e,t);return await new Promise((e,t)=>{try{const t=()=>this._calculateTrainingError(n),s=()=>this._trainPatterns(n),o=new v.Thaw(new Array(this.trainOpts.iterations),{delay:!0,each:()=>this._trainingTick(r,i,t,s)||o.stop(),done:()=>e(r)});o.tick()}catch(s){t(s)}})}_trainingTick(e,t,n,r){const{trainOpts:i}=this;return!(e.iterations>=i.iterations||e.error<=i.errorThresh||Date.now()>=t)&&("function"===typeof i.log&&e.iterations%i.logPeriod===0?(e.error=n(),i.log(`iterations: ${e.iterations}, training error: ${e.error}`)):e.iterations%i.errorCheckInterval===0?e.error=n():r(),i.callback&&e.iterations%i.callbackPeriod===0&&i.callback(Object.assign(e)),e.iterations++,!0)}_prepTraining(e,t){this._updateTrainingOptions(t);const n=this.formatData(e),r=this.trainOpts.timeout?Date.now()+this.trainOpts.timeout:0,i={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:this.transferData(n),status:i,endTime:r}}verifyIsInitialized(){this._model||this.initialize()}_calculateTrainingError(e){let t=new Float32Array([0]);const n=this.meanSquaredError;for(let i=0;i<e.length;++i){const r=t,s=this._trainPattern(e[i].input,e[i].output,!0);t=n.add(t,s),J(s),J(r)}const r=n.divide(e.length,t);if(J(t),r instanceof x.Texture){const e=r.toArray();return J(r),e[0]}return r[0]}_trainPatterns(e){for(let t=0;t<e.length;++t)this._trainPattern(e[t].input,e[t].output,!1)}_trainPattern(e,t,n){var r;if(this.runInput(e),this._calculateDeltas(t),this.adjustWeights(),n){if(!(null===(r=this._outputLayer)||void 0===r?void 0:r.errors))throw new Error("outputLayer.errors not defined");return this.meanSquaredError.calculate(this._outputLayer.errors)}return null}_calculateDeltas(e){const t=this.layers;for(let n=t.length-1;n>-1;n--)t[n].compare(e)}adjustWeights(){const e=this._model;for(let t=0;t<e.length;t++)e[t].learn(this.trainOpts.learningRate)}formatData(e){if(!Array.isArray(e)){const t=[];t.push(e),e=t}const t=e[0].input;let n;if(!Array.isArray(e)||Array.isArray(t)||t instanceof Float32Array)n=e;else{if(!this.inputLookup){const t=new M(e,"input");this.inputLookup=t.table,this.inputLookupLength=t.length}n=e.map(e=>({input:b.toArray(this.inputLookup,e.input,this.inputLookupLength)}),this)}const r=e[0].output;if(!Array.isArray(r)&&!(r instanceof Float32Array)){if(!this.outputLookup){const t=new M(e,"output");this.outputLookup=t.table,this.outputLookupLength=t.length}n=e.map((e,t)=>{const r=b.toArray(this.outputLookup,e.output,this.inputLookupLength);return{input:n[t].input,output:r}},this)}return n}transferData(e){const t=new Array(e.length),n=X(function(e){return e[this.thread.x]},{output:[e[0].input.length],immutable:!0}),r=X(function(e){return e[this.thread.x]},{output:[e[0].output.length],immutable:!0});for(let i=0;i<e.length;i++){const s=e[i];t[i]={input:n(s.input),output:r(s.output)}}return t}test(){throw new Error(`${this.constructor.name}-test is not yet implemented`)}toJSON(){var e;if(this.layers||this.initialize(),!this._model||!this.layers||!this._inputLayer||!this._hiddenLayers||!this._outputLayer)throw new Error("network is not initialized");const t=[];for(let n=0;n<this.layers.length;n++){const e=this.layers[n],r=e.toJSON();e.hasOwnProperty("inputLayer")?r.inputLayerIndex=this.layers.indexOf(e.inputLayer):e.hasOwnProperty("inputLayer1")&&e.hasOwnProperty("inputLayer2")&&(r.inputLayer1Index=this.layers.indexOf(e.inputLayer1),r.inputLayer2Index=this.layers.indexOf(e.inputLayer2)),t.push(r)}return{type:this.constructor.name,sizes:null!==(e=this.options.sizes)&&void 0!==e?e:[this._inputLayer.height].concat(this._hiddenLayers.map(e=>e.height)).concat([this._outputLayer.height]),outputLayerIndex:this.layers.indexOf(this._outputLayer),layers:t,inputLayerIndex:this.layers.indexOf(this._inputLayer)}}static fromJSON(e,t){var n,r,i,s;const o=e.layers,a=[],l=t?null!==(n=mr(o[0]))&&void 0!==n?n:t(o[0]):mr(o[0]);if(!l)throw new Error("unable to find layer");a.push(l);for(let u=1;u<o.length;u++){const e=o[u];if("undefined"===typeof e.inputLayerIndex&&"undefined"===typeof e.inputLayer1Index&&"undefined"===typeof e.inputLayer2Index){const n=t?null!==(r=mr(e))&&void 0!==r?r:t(e):mr(e);if(!n)throw new Error("unable to find layer");a.push(n)}else if("number"===typeof e.inputLayerIndex){const n=a[e.inputLayerIndex];if(!n)throw new Error("inputLayer1 not found");const r=t?null!==(i=mr(e,n))&&void 0!==i?i:t(e,n):mr(e,n);if(!r)throw new Error("unable to find layer");a.push(r)}else{if("number"!==typeof e.inputLayer1Index)throw new Error("Cannot create network from provided JSON. inputLayer1Index not defined.");if("number"!==typeof e.inputLayer2Index)throw new Error("Cannot create network from provided JSON. inputLayer2Index not defined.");const n=a[e.inputLayer1Index],r=a[e.inputLayer2Index];if(void 0===n)throw new Error(`Cannot create network from provided JSON. layer of index ${e.inputLayer1Index} not found.`);if(void 0===r)throw new Error(`Cannot create network from provided JSON. layer of index ${e.inputLayer2Index} not found.`);const i=t?null!==(s=mr(e,n,r))&&void 0!==s?s:t(e,n,r):mr(e,n,r);if(!i)throw new Error("unable to find layer");a.push(i)}}return new this({...e,layers:a})}toFunction(){throw new Error(`${this.constructor.name}-toFunction is not yet implemented`)}}function br(e,t){if(!t)throw new TypeError(`Required parameter 'net' is of type ${typeof t}. Must be of type 'brain.NeuralNetwork'`);const n=t.run(e);let r=null,i=-1;return Object.entries(n).forEach(e=>{let[t,n]=e;"undefined"!==typeof n&&"number"===typeof n&&n>i&&(r=t,i=n)}),r}class vr extends Ce{constructor(){super(...arguments),this.settings={},this.layer=null}setLayer(e){this.layer=e}get width(){if(!this.layer)throw new Error("layer not set");return this.layer.width}set width(e){throw new Error(`${this.constructor.name}-width is not yet implemented`)}get height(){if(!this.layer)throw new Error("layer not set");return this.layer.height}set height(e){throw new Error(`${this.constructor.name}-height is not yet implemented`)}get deltas(){if(!this.layer)throw new Error("layer not set");return this.layer.deltas}set deltas(e){if(!this.layer)throw new Error("layer not set");J(this.layer.deltas),this.layer.deltas=e}get weights(){if(!this.layer)throw new Error("layer not set");return this.layer.weights}set weights(e){if(!this.layer)throw new Error("layer not set");J(this.layer.weights),this.layer.weights=e}predict(){}compare(){}learn(){throw new Error("no longer using")}setupKernels(){}reuseKernels(){}}class wr extends xr{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.trainOpts={},this._outputConnection=null,this._layerSets=[],this._hiddenLayerOutputIndices=[],this._model=null}_connectLayers(){if(!this.options.inputLayer)throw new Error("inputLayer not found");if(!this.options.outputLayer)throw new Error("outputLayer not found");const e=this.options.inputLayer(),t=this._connectHiddenLayers(e);return{inputLayer:e,hiddenLayers:t,outputLayer:this.options.outputLayer(t[t.length-1],-1)}}_connectLayersDeep(){const e=[],t=this._layerSets[this._layerSets.length-1];let n=0;function r(n){const r=t.indexOf(n);if(r<0)throw new Error("unable to find layer");return e[r]}function i(e){return{...e.settings,weights:null,deltas:null,praxis:null}}for(let s=0;s<t.length;s++){const o=t[s];let a;if(o instanceof _e)a=new o.constructor(r(o.inputLayer),i(o));else if(o instanceof $e)a=new o.constructor(i(o));else if(o instanceof Ee)a=new o.constructor(i(o.inputLayer),r(o.inputLayer));else if(o instanceof Ce){const e=t[this._hiddenLayerOutputIndices[n++]];if(o instanceof vr)throw new Error("unfinished");if(o instanceof $n)a=new $n(e);else{if(!(o instanceof Nn))throw new Error(`hidden layer ${o.constructor.name} extends unknown hidden layer`);a=new $n(e)}}else if(o instanceof Re||o instanceof Ne)a=o;else if(o instanceof De)a=new o.constructor(r(o.inputLayer),i(o.inputLayer));else if(o instanceof Me)a=new o.constructor(r(o.inputLayer1),r(o.inputLayer2),i(o));else{if(!(o instanceof Pe))throw new Error(`hidden layer ${o.constructor.name} extends unknown hidden layer`);a=new o.constructor(i(o),r(o.inputLayer))}e.push(a)}return e}_connectHiddenLayers(e){const t=[];if(!this.options.hiddenLayers)throw new Error("hiddenLayers not defined");for(let n=0;n<this.options.hiddenLayers.length;n++){const r=new Nn,i=this.options.hiddenLayers[n](e,r,n);e=i,t.push(i)}return t}initialize(){let e;if(this._outputConnection=new vr,this.options.layers)e=this._connectOptionsLayers();else{const{inputLayer:t,hiddenLayers:n,outputLayer:r}=this._connectLayers();e=it([t,...n,r]),this._hiddenLayerOutputIndices=n.map(t=>e.indexOf(t)),this._inputLayer=t,this._hiddenLayers=n,this._outputLayer=r}this.layers=e,this._layerSets=[e],this._model=e.filter(e=>e instanceof Ne||e instanceof Re),this.initializeLayers(e)}initializeDeep(){const e=this._connectLayersDeep();for(let t=0;t<e.length;t++){const n=e[t];n.setupKernels(!0),n.reuseKernels(this._layerSets[0][t])}this._layerSets.push(e)}run(e){for(;this._layerSets.length<=e.length;)this.initializeDeep();const t=this.runInputs(e);return t instanceof x.Texture?t.toArray():t}runInput(e){throw new Error("use .runInputs()")}runInputs(e){for(;this._layerSets.length<e.length;)this.initializeDeep();const t=e.length-1;for(let i=0;i<=t;i++){const t=this._layerSets[i];t[0].predict(e[i]);for(let e=1;e<t.length;e++)t[e].predict()}const n=this._layerSets[t],r=n[n.length-1].weights;return this.end(),r}train(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{preparedData:n,status:r,endTime:i}=this._prepTraining(e,t);let s=!0;const o=()=>this._calculateTrainingError(n),a=()=>this._trainPatterns(n);for(;s;)s=this._trainingTick(r,i,o,a);return r}end(){const e=this._layerSets.length-1,t=this._layerSets[e];t[0].predict([new Float32Array([0])]);for(let n=1;n<t.length;n++)t[n].predict()}transferData(e){return e}_prepTraining(e,t){this._updateTrainingOptions(t);const n=this.trainOpts.timeout?Date.now()+this.trainOpts.timeout:0,r={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:this.transferData(e),status:r,endTime:n}}_calculateTrainingError(e){if(!this.meanSquaredError)throw new Error("this.meanSquaredError not setup");let t=new Float32Array(1);for(let r=0;r<e.length;++r){const n=t,i=this._trainPattern(e[r],!0);t=this.meanSquaredError.add(t,i),J(i),J(n)}const n=this.meanSquaredError.divide(e.length,t);return J(t),n instanceof x.Texture?n.toArray()[0]:n[0]}formatData(e){return e}_calculateDeltas(e){const t=this._layerSets[this._layerSets.length-1];for(let n=t.length-2;n>=0;n--)t[n].compare();for(let n=e.length-2;n>=0;n--){const t=this._layerSets[n];t[t.length-1].compare(e[n+1]);for(let e=t.length-2;e>=0;e--)t[e].compare()}}adjustWeights(){var e;const t=this._model;for(let n=0;n<t.length;n++)t[n].learn(null!==(e=this.options.learningRate)&&void 0!==e?e:0)}_trainPatterns(e){for(let t=0;t<e.length;++t)this._trainPattern(e[t],!1)}_trainPattern(e,t){if(this.runInputs(e),this._calculateDeltas(e),this.adjustWeights(),t){if(!this.meanSquaredError)throw new Error("this.meanSquaredError not setup");let t=new Float32Array(1);for(let n=0,r=e.length-2;n<=r;n++){const e=this._layerSets[n],r=e[e.length-1],i=t;t=this.meanSquaredError.addAbsolute(i,r.errors),J(i)}return ee(this.meanSquaredError.divide(e.length,t))}return null}}class Sr{constructor(e,t){this.rows=0,this.columns=0,e&&(this.rows=e),t&&(this.columns=t),this.weights=B(this.rows*this.columns),this.deltas=B(this.rows*this.columns)}getWeight(e,t){const n=this.columns*e+t;if(n<0||n>=this.weights.length)throw new Error("get accessor is skewed");return this.weights[n]}setWeight(e,t,n){const r=this.columns*e+t;if(r<0||r>=this.weights.length)throw new Error("set accessor is skewed");return this.weights[r]=n,this}getDelta(e,t){const n=this.columns*e+t;if(n<0||n>=this.deltas.length)throw new Error("get accessor is skewed");return this.deltas[n]}setDelta(e,t,n){const r=this.columns*e+t;if(r<0||r>=this.weights.length)throw new Error("set accessor is skewed");return this.deltas[r]=n,this}toJSON(){return{rows:this.rows,columns:this.columns,weights:Array.from(this.weights.slice(0))}}static fromJSON(e){const t=new Sr(e.rows,e.columns);for(let n=0,r=e.rows*e.columns;n<r;n++)t.weights[n]=e.weights[n];return t}static fromArray(e){const t=new Sr(e.length,e[0].length);return t.fromArray(e),t}deltasToArray(){return this.toArray("deltas")}weightsToArray(){return this.toArray("weights")}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"weights";const t=new Array(this.rows);return this.iterate({row:e=>{t[e]=new Array(this.columns)},column:(n,r)=>{"weights"===e?t[n][r]=this.getWeight(n,r):"deltas"===e&&(t[n][r]=this.getDelta(n,r))}}),t}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"weights";if(e.length!==this.rows)throw new Error("rows do not match");if(e[0].length!==this.columns)throw new Error("columns do not match");return this.iterate({column:(n,r)=>{const i=e[n][r];if("number"!==typeof i)throw new Error("value not number");"weights"===t?this.setWeight(n,r,i):"deltas"===t&&this.setDelta(n,r,i)}}),this}iterate(e){const t=this.rows,n=this.columns;for(let r=0;r<t;r++){e.row&&e.row(r);for(let t=0;t<n;t++)e.column&&e.column(r,t)}return this}}class kr extends Sr{constructor(e,t,n){super(e,t),this.std=n;for(let r=0,i=this.weights.length;r<i;r++)this.weights[r]=O(-n,n)}}class Tr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.values=e,this.indexTable={},this.characterTable={},this.characters=[],this.specialIndexes=[],this.isSetup=!1,void 0!==e&&this.setup(e,t)}setup(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isSetup)throw new Error("DataFormatter is already setup");this.values=e,this.buildCharactersFromIterable(e),this.buildTables(t),e[0].input&&this.addInputOutput(),this.addUnrecognized(),this.isSetup=!0}buildCharactersFromIterable(e){const t={};for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.hasOwnProperty("length")){const e=r;for(let n=0,r=e.length;n<r;n++){const r=e[n];t.hasOwnProperty(r)||(t[r]=!0,this.characters.push(r))}}else if("number"===typeof r){if(t.hasOwnProperty(r))continue;t[r]=!0,this.characters.push(r)}else if("boolean"===typeof r){const e=r.toString();if(t.hasOwnProperty(e))continue;t[e]=!0,this.characters.push(e)}else if(Array.isArray(r)&&"string"===typeof r[0])for(let e=0;e<r.length;e++){const n=r[e];t.hasOwnProperty(n)||(t[n]=!0,this.characters.push(n))}else if(!Array.isArray(r)||"number"!==typeof r[0]&&"boolean"!==typeof r[0]){if(!r.hasOwnProperty("input")||!r.hasOwnProperty("output"))throw new Error("Unhandled value");{const{input:e,output:n}=r;Array.isArray(e)?this.addCharacters(e,t):this.addCharacters(e.toString(),t),Array.isArray(n)?this.addCharacters(n,t):this.addCharacters(n.toString(),t)}}else for(let e=0;e<r.length;e++){const i=r[e].toString();t.hasOwnProperty(n)||(t[i]=!0,this.characters.push(i))}}}addCharacters(e,t){for(let n=0;n<e.length;n++){const r=e[n].toString();t.hasOwnProperty(r)||(t[r]=!0,this.characters.push(r))}}buildTables(e){const t=this.characters.length;for(let n=0;n<t;n++){const t=this.characters[n];n>=e&&(this.indexTable[t]=n,this.characterTable[n]=t)}}toIndexes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[],{indexTable:r}=this;switch(typeof e){case"number":case"boolean":e=e.toString()}for(let i=0,s=e.length;i<s;i++){const s=e[i].toString();let o=r[s];if(void 0===o){if(!r.unrecognized)throw new Error(`unrecognized character "${s}"`);o=r.unrecognized}o<t||n.push(o)}return n}toIndexesInputOutput(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.toIndexesValue(e,n,!0);return"undefined"===typeof t?r:r.concat(this.toIndexesValue(t,n,!1))}toIndexesValue(e,t,n){if("string"===typeof e)e=e.split("");else if("number"===typeof e||"boolean"===typeof e)e=e.toString().split("");else{if(!Array.isArray(e)||"number"!==typeof e[0]&&"boolean"!==typeof e[0]&&"string"!==typeof e[0])throw new Error("unrecognized value");e=e.map(e=>e.toString())}return n&&(e=e.concat(["stop-input","start-output"])),this.toIndexes(e,t)}toCharacters(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[],{indexTable:r,characterTable:i}=this;for(let s=0,o=e.length;s<o;s++){const o=e[s];if(o<t)continue;let a=i[o];if(void 0===a){if(!r.unrecognized)throw new Error(`unrecognized index "${o}"`);a=i[r.unrecognized]}else null!==a&&n.push(a.toString())}return n}toString(e,t){return this.toCharacters(e,t).join("")}addInputOutput(){this.addSpecial("stop-input"),this.addSpecial("start-output")}addUnrecognized(){this.addSpecial("unrecognized")}static fromAllPrintable(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["\n"];for(let n=32;n<=126;n++)t.push(String.fromCharCode(n));return new Tr(t,e)}static fromAllPrintableInputOutput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["\n"];const n=Tr.fromAllPrintable(e,t);return n.addInputOutput(),n.addUnrecognized(),n}static fromStringInputOutput(e,t){const n=Array.from(new Set(e)).join(""),r=new Tr(n.split(""),t);return r.addInputOutput(),r.addUnrecognized(),r.isSetup=!0,r}static fromArrayInputOutput(e,t){const n=[];for(let s=0;s<e.length;s++){const t=e[s];n.push(Ar(t.input),Ar(t.output))}const r=Array.isArray(n)?n.flat():n,i=new Tr(Array.from(new Set(r)),t);return i.addInputOutput(),i.addUnrecognized(),i.isSetup=!0,i}static fromString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Array.from(new Set(e)).join("");return new Tr(n.split(""),t)}toJSON(){return{indexTable:this.indexTable,characterTable:this.characterTable,values:this.values,characters:this.characters,specialIndexes:this.specialIndexes}}static fromJSON(e){const t=new Tr;return t.indexTable=e.indexTable,t.characterTable=e.characterTable,t.values=e.values,t.characters=e.characters,t.specialIndexes=e.specialIndexes,t.isSetup=!0,t}addSpecial(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.indexTable[e]=this.characters.length;this.characterTable[n]=t,this.specialIndexes.push(this.characters.length),this.characters.push(e)}toFunctionString(){return`\nvar characterTable = ${JSON.stringify(this.characterTable)};\nvar indexTable = ${JSON.stringify(this.indexTable)};\nvar characters = ${JSON.stringify(this.characters)};\nvar dataFormatter = {\n  toIndexes: function ${this.toIndexes.toString()},\n  toIndexesInputOutput: function ${this.toIndexesInputOutput.toString()},\n  toCharacters: function ${this.toCharacters.toString()},\n  toIndexesValue: function ${this.toIndexesValue.toString()},\n};`}formatDataIn(e,t){var n;return void 0===e?[]:Array.isArray(e)&&"number"===typeof e[0]?e:(null===(n=this.indexTable)||void 0===n?void 0:n.hasOwnProperty("stop-input"))?this.toIndexesInputOutput(e,t):this.toIndexes(e)}formatDataOut(e,t){return this.toCharacters(t).join("")}format(e){if("number"===typeof e[0]&&!Array.isArray(e[0])&&(!e[0].hasOwnProperty("input")||!e[0].hasOwnProperty("output")))return e;const t=[];if("string"===typeof e[0]||"number"===typeof e[0]||Array.isArray(e[0]))if(this.isSetup)for(let n=0,r=e.length;n<r;n++)t.push(this.formatDataIn(e[n]));else{this.setup(e);for(let n=0;n<e.length;n++)t.push(this.formatDataIn(Ar(e[n])))}else{if(!e[0].input||!e[0].output)throw new Error("unrecognized data");this.isSetup||this.setup(e);for(let n=0,r=e.length;n<r;n++)t.push(this.formatDataIn(Ar(e[n].input),Ar(e[n].output)))}return t}}function Ar(e){if("string"===typeof e)return e;if("number"===typeof e)return e.toString();if("boolean"===typeof e)return e.toString();if(Array.isArray(e)&&"string"===typeof e[0])return e;if("boolean"===typeof e[0])return e.map(e=>e.toString());if("number"===typeof e[0])return e.map(e=>e.toString());throw new Error("unrecognized value, expected string[], string, number[], number, boolean[], or boolean")}function _r(e,t){e.rows=t.rows,e.columns=t.columns,e.weights=t.weights.slice(0),e.deltas=t.deltas.slice(0)}function Er(e,t,n){for(let r=0;r<t.weights.length;r++)e.weights[r]=t.weights[r]+n.weights[r],e.deltas[r]=0}function Cr(e,t,n){for(let r=0;r<e.deltas.length;r++)t.deltas[r]=e.deltas[r],n.deltas[r]=e.deltas[r]}function Dr(e){for(let t=0;t<e.weights.length;t++)e.weights[t]=1,e.deltas[t]=0}function Mr(e,t){e.rows=t.rows,e.columns=t.columns,e.weights=t.weights.slice(0),e.deltas=t.deltas.slice(0);for(let n=0;n<t.weights.length;n++)e.weights[n]=-t.weights[n],e.deltas[n]=0}function Lr(e,t,n){const r=t.rows,i=t.columns,s=n.columns;for(let o=0;o<r;o++){const r=i*o,a=s*o;for(let o=0;o<s;o++){let l=0;for(let e=0;e<i;e++){const i=r+e,a=s*e+o;l+=t.weights[i]*n.weights[a],t.deltas[i]=0,n.deltas[a]=0}e.weights[a+o]=l}}}function Ir(e,t,n){const r=t.rows,i=t.columns,s=n.columns;for(let o=0;o<r;o++){const r=i*o,a=s*o;for(let o=0;o<s;o++)for(let l=0;l<i;l++){const i=r+l,u=s*l+o,c=e.deltas[a+o];t.deltas[i]+=n.weights[u]*c,n.deltas[u]+=t.weights[i]*c}}}function Pr(e,t,n){const{weights:r}=t;for(let i=0;i<r.length;i++)e.weights[i]=t.weights[i]*n.weights[i],e.deltas[i]=0}function Or(e,t,n){for(let r=0;r<t.weights.length;r++)t.deltas[r]=n.weights[r]*e.deltas[r],n.deltas[r]=t.weights[r]*e.deltas[r]}function Rr(e,t){for(let n=0;n<t.weights.length;n++)e.weights[n]=Math.max(0,t.weights[n]),e.deltas[n]=0}function $r(e,t){for(let n=0;n<e.deltas.length;n++)t.deltas[n]=t.weights[n]>0?e.deltas[n]:0}function Nr(e,t,n){const{columns:r}=t,i=r*n;for(let s=0;s<r;s++)e.weights[s]=t.weights[i+s],e.deltas[s]=0}function Fr(e,t,n){const{columns:r}=t,i=r*n;for(let s=0;s<r;s++)t.deltas[i+s]=e.deltas[s]}function zr(e,t){for(let n=0;n<t.weights.length;n++)e.weights[n]=1/(1+Math.exp(-t.weights[n])),e.deltas[n]=0}function Vr(e,t){for(let n=0;n<e.deltas.length;n++){const r=e.weights[n];t.deltas[n]=r*(1-r)*e.deltas[n]}}function jr(e){const t=new Sr(e.rows,e.columns);let n=-999999;for(let i=0;i<e.weights.length;i++)e.weights[i]>n&&(n=e.weights[i]);let r=0;for(let i=0;i<e.weights.length;i++)t.weights[i]=Math.exp(e.weights[i]-n),r+=t.weights[i];for(let i=0;i<e.weights.length;i++)t.weights[i]/=r;return t}function Br(e,t){for(let n=0;n<t.weights.length;n++)e.weights[n]=Math.tanh(t.weights[n]),e.deltas[n]=0}function Wr(e,t){for(let n=0;n<e.deltas.length;n++){const r=e.weights[n];t.deltas[n]=(1-r*r)*e.deltas[n]}}class Ur{constructor(){this.states=[],this.inputRow=0}add(e,t){if(e.weights.length!==t.weights.length)throw new Error("misaligned matrices");const n=new Sr(e.rows,e.columns);return this.states.push({name:"add",product:n,left:e,right:t,forwardFn:Er,backpropagationFn:Cr}),n}allOnes(e,t){const n=new Sr(e,t);return this.states.push({name:"allOnes",product:n,left:n,forwardFn:Dr,backpropagationFn:()=>{}}),n}cloneNegative(e){const t=new Sr(e.rows,e.columns);return this.states.push({name:"cloneNegative",product:t,left:e,forwardFn:Mr,backpropagationFn:()=>{}}),t}subtract(e,t){if(e.weights.length!==t.weights.length)throw new Error("misaligned matrices");return this.add(this.add(this.allOnes(e.rows,e.columns),this.cloneNegative(e)),t)}multiply(e,t){if(e.columns!==t.rows)throw new Error("misaligned matrices");const n=new Sr(e.rows,t.columns);return this.states.push({name:"multiply",product:n,left:e,right:t,forwardFn:Lr,backpropagationFn:Ir}),n}multiplyElement(e,t){if(e.weights.length!==t.weights.length)throw new Error("misaligned matrices");const n=new Sr(e.rows,e.columns);return this.states.push({name:"multiplyElement",product:n,left:e,right:t,forwardFn:Pr,backpropagationFn:Or}),n}relu(e){const t=new Sr(e.rows,e.columns);return this.states.push({name:"relu",product:t,left:e,forwardFn:Rr,backpropagationFn:$r}),t}input(e){return this.states.push({name:"input",product:e,forwardFn:t=>{if(this.inputValue){if(this.inputValue.length!==t.weights.length)throw new Error("this.inputValue is of wrong dimensions");t.weights=e.weights=this.inputValue}},backpropagationFn:()=>{}}),e}inputMatrixToRow(e){const t=this,n=new Sr(e.columns,1);return this.states.push({name:"inputMatrixToRow",product:n,left:e,get right(){return t.inputRow},forwardFn:Nr,backpropagationFn:Fr}),n}sigmoid(e){const t=new Sr(e.rows,e.columns);return this.states.push({name:"sigmoid",product:t,left:e,forwardFn:zr,backpropagationFn:Vr}),t}tanh(e){const t=new Sr(e.rows,e.columns);return this.states.push({name:"tanh",product:t,left:e,forwardFn:Br,backpropagationFn:Wr}),t}observe(e){return this.states.push({name:"observe",product:new Sr,forwardFn:()=>{},backpropagationFn:()=>{}}),e}runIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.inputRow=e;let t=this.states[0];for(let n=0,r=this.states.length;n<r;n++)t=this.states[n],t.hasOwnProperty("forwardFn")&&t.forwardFn(t.product,t.left,t.right);return t.product}runInput(e){this.inputValue=e;let t=this.states[0];for(let n=0,r=this.states.length;n<r;n++)t=this.states[n],t.hasOwnProperty("forwardFn")&&t.forwardFn(t.product,t.left,t.right);return t.product}backpropagate(){let e=this.states.length,t=this.states[0];for(;e-- >0;)t=this.states[e],t.hasOwnProperty("backpropagationFn")&&t.backpropagationFn(t.product,t.left,t.right);return t.product}backpropagateIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.inputRow=e;let t=this.states.length,n=this.states[0];for(;t-- >0;)n=this.states[t],n.hasOwnProperty("backpropagationFn")&&n.backpropagationFn(n.product,n.left,n.right);return n.product}predictTarget(e,t){let n=0;const r=this.runInput(e);for(let i=0;i<r.weights.length;i++){const e=r.weights[i]-t[i];n+=Math.abs(e),r.deltas[i]=e}return n}predictTargetIndex(e,t){const n=this.runIndex(e),r=n,i=jr(n);return r.deltas=i.weights.slice(0),r.deltas[t]-=1,-Math.log2(i.weights[t])}}function Kr(e){const{weights:t}=e;let n=t[0],r=0;for(let i=1;i<t.length;i++){const e=t[i];e<n||(r=i,n=e)}return r}function Hr(e){const t=O(0,1),n=e.weights;let r=0,i=0;for(;;){if(r+=n[i],r>t)return i;i++}}const Gr={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.01,callbackPeriod:10,timeout:1/0},Yr=()=>({inputSize:20,inputRange:20,hiddenLayers:[20,20],outputSize:20,decayRate:.999,smoothEps:1e-8,regc:1e-6,clipval:5,maxPredictionLength:100,dataFormatter:new Tr});class Xr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...Yr()},this.trainOpts={...Gr},this.stepCache={},this.runs=0,this.ratioClipped=0,this.model=Object.seal({isInitialized:!1,input:new Sr(0,0),hiddenLayers:[],output:new Sr(0,0),equations:[],allMatrices:[],equationConnections:[],outputConnector:new kr(0,0,.08)}),this.initialLayerInputs=[],this.options={...this.options,...e},this.updateTrainingOptions({...Gr}),e.json&&this.fromJSON(e.json)}initialize(){const{dataFormatter:e}=this.options;(null===e||void 0===e?void 0:e.characters.length)&&(this.options.inputSize=this.options.inputRange=this.options.outputSize=e.characters.length),this.model=this.mapModel()}createHiddenLayers(){const{hiddenLayers:e,inputSize:t}=this.options,n=[];n.push(this.getHiddenLayer(e[0],t));let r=e[0];for(let i=1;i<e.length;i++){const t=e[i];n.push(this.getHiddenLayer(t,r)),r=t}return n}getHiddenLayer(e,t){return{weight:new kr(e,t,.08),transition:new kr(e,e,.08),bias:new Sr(e,1)}}getEquation(e,t,n,r){if(!r.weight||!r.transition||!r.bias)throw new Error("hiddenLayer does not have expected properties");const i=e.relu.bind(e),s=e.add.bind(e),o=e.multiply.bind(e);return i(s(s(o(r.weight,t),o(r.transition,n)),r.bias))}createInputMatrix(){const{inputRange:e,inputSize:t}=this.options;if(e<1)throw new Error("this.options.inputRange not an expected number");if(t<1)throw new Error("this.options.inputSize not an expected number");return new kr(e+1,t,.08)}createOutputMatrices(){const{outputSize:e,hiddenLayers:t}=this.options,n=qr(t);return{outputConnector:new kr(e+1,n,.08),output:new Sr(e+1,1)}}bindEquation(){const{model:e}=this,{hiddenLayers:t}=this.options,n=new Ur,r=[],i=e.equationConnections.length>0?qr(e.equationConnections):this.initialLayerInputs;let s=this.getEquation(n,n.inputMatrixToRow(e.input),i[0],e.hiddenLayers[0]);r.push(s);for(let o=1,a=t.length;o<a;o++){if(!i[o])throw new Error(`Cannot find equation at index ${o}`);s=this.getEquation(n,s,i[o],e.hiddenLayers[o]),r.push(s)}e.equationConnections.push(r),n.add(n.multiply(e.outputConnector,s),e.output),e.equations.push(n)}mapModel(){const e=[];this.initialLayerInputs=this.options.hiddenLayers.map(e=>new Sr(e,1));const t=this.createInputMatrix();e.push(t);const n=this.createHiddenLayers();if(!n.length)throw new Error("net.hiddenLayers not set");for(let s=0,o=n.length;s<o;s++){const t=n[s];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n])}const{output:r,outputConnector:i}=this.createOutputMatrices();return e.push(i),e.push(r),Object.seal({isInitialized:!0,input:t,hiddenLayers:n,output:r,equations:[],allMatrices:e,equationConnections:[],outputConnector:i})}trainInput(e){this.runs++;const{model:t}=this,n=e.length;let r,i=0;for(;t.equations.length<=e.length+1;)this.bindEquation();for(let s=-1,o=e.length;s<o;s++){const o=s+1;r=t.equations[o];const a=-1===s?0:e[s]+1,l=s===n-1?0:e[s+1]+1;i+=r.predictTargetIndex(a,l)}return Math.pow(2,i/(n-1))/100}backpropagate(e){let t=e.length;const{model:n}=this,{equations:r}=n;for(;t>0;)r[t].backpropagateIndex(e[t-1]+1),t--;r[0].backpropagateIndex(0)}adjustWeights(){const{regc:e,clipval:t,decayRate:n,smoothEps:r}=this.options,{trainOpts:i,model:s,stepCache:o}=this,{learningRate:a}=i,{allMatrices:l}=s;let u=0,c=0;for(let h=0;h<l.length;h++){const i=l[h],{weights:s,deltas:d}=i;h in o||(o[h]=B(i.rows*i.columns));const p=o[h];for(let o=0;o<s.length;o++){let i=d[o];const l=s[o];p[o]=p[o]*n+(1-n)*i*i,i>t?(i=t,u++):i<-t&&(i=-t,u++),c++,s[o]=l+-a*i/Math.sqrt(p[o]+r)-e*l}}this.ratioClipped=u/c}get isRunnable(){return!this.model||0!==this.model.equations.length||(console.error("No equations bound, did you run train()?"),!1)}checkRunnable(){if(!this.isRunnable)throw new Error("Network not runnable")}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=this.options.maxPredictionLength+(null!==e?e.length:0)+(this.options.dataFormatter?this.options.dataFormatter.specialIndexes.length:0);this.checkRunnable();const i=this.options.dataFormatter&&e.length>0?this.options.dataFormatter.formatDataIn(e):e,{model:s}=this,o=[];let a=0;for(;;){const e=0===a?0:a<i.length?i[a-1]+1:o[a-1];for(;s.equations.length<=a;)this.bindEquation();const l=s.equations[a].runIndex(e),u=new Sr(s.output.rows,s.output.columns);if(_r(u,l),1!==n&&t)for(let t=0,r=u.weights.length;t<r;t++)u.weights[t]/=n;const c=jr(u),h=t?Hr(c):Kr(c);if(a++,0===h)break;if(a>=r)break;o.push(h)}return this.options.dataFormatter.formatDataOut(i,o.slice(i.length).map(e=>e-1))}verifyIsInitialized(){this.model.isInitialized||this.initialize()}updateTrainingOptions(e){var t;this.trainOpts={...Gr,...e},this.validateTrainingOptions(this.trainOpts),this.setLogMethod(null!==(t=e.log)&&void 0!==t?t:this.trainOpts.log)}validateTrainingOptions(e){const t={iterations:()=>{const t=e.iterations;return"number"===typeof t&&t>0},errorThresh:()=>{const t=e.errorThresh;return"number"===typeof t&&t>0&&t<1},log:()=>{const t=e.log;return"function"===typeof t||"boolean"===typeof t},logPeriod:()=>{const t=e.logPeriod;return"number"===typeof t&&t>0},learningRate:()=>{const t=e.learningRate;return"number"===typeof t&&t>0&&t<1},callback:()=>{const t=e.callback;return"function"===typeof t||void 0===t},callbackPeriod:()=>{const t=e.callbackPeriod;return"number"===typeof t&&t>0},timeout:()=>{const t=e.timeout;return"number"===typeof t&&t>0}};for(const n in t){const r=e;if(!t[n]())throw new Error(`[${n}, ${r[n]}] is out of normal training range, your network will probably not train.`)}}setLogMethod(e){this.trainOpts.log="function"===typeof e?e:!!e&&console.log}prepTraining(e,t){var n;this.updateTrainingOptions(t);const r=this.options.dataFormatter.format(e),i=Date.now()+(null!==(n=this.trainOpts.timeout)&&void 0!==n?n:0),s={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:r,status:s,endTime:i}}train(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.trainOpts=t={...Gr,...t};const{iterations:r,errorThresh:i,logPeriod:s,callback:o,callbackPeriod:a}=this.trainOpts,l=!0===t.log?console.log:t.log;let u,c,h=1/0;if(null===(n=this.options)||void 0===n?void 0:n.dataFormatter)c=this.options.dataFormatter.format(e);else{if(!Array.isArray(e)||!Array.isArray(e[0])||"number"!==typeof e[0][0])throw new Error("training not in expected format of number[][]");c=e}for(this.verifyIsInitialized(),u=0;u<r&&h>i;u++){let t=0;for(let e=0;e<c.length;e++)t+=this.trainPattern(c[e],!0);if(h=t/e.length,isNaN(h))throw new Error("Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. ");l&&u%s===0&&l(`iterations: ${u}, training error: ${h}`),o&&u%a===0&&o({error:h,iterations:u})}return{error:h,iterations:u}}addFormat(e){}formatData(e){const t=[];for(let n=0;n<e.length;n++)t.push(this.options.dataFormatter.formatDataIn(e[n]));return t}toJSON(){this.model.isInitialized||this.initialize();const{model:e,options:t}=this;return{type:this.constructor.name,options:{...t,dataFormatter:t.dataFormatter.toJSON()},trainOpts:{...this.trainOpts,timeout:this.trainOpts.timeout===1/0?"Infinity":this.trainOpts.timeout},input:e.input.toJSON(),hiddenLayers:e.hiddenLayers.map(e=>{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n].toJSON());return t}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}fromJSON(e){const{options:t}=e,n=[],r=Sr.fromJSON(e.input);n.push(r);const i=[];e.hiddenLayers.forEach(e=>{const t={};for(const r in e)t[r]=Sr.fromJSON(e[r]),n.push(t[r]);i.push(t)});const s=Sr.fromJSON(e.outputConnector);n.push(s);const o=Sr.fromJSON(e.output);return n.push(o),t.dataFormatter?this.options={...Yr(),...t,dataFormatter:Tr.fromJSON(t.dataFormatter)}:this.options={...Yr(),...t,dataFormatter:new Tr},this.model=Object.seal({isInitialized:!0,input:r,hiddenLayers:i,output:o,allMatrices:n,outputConnector:s,equations:[],equationConnections:[]}),this.initialLayerInputs=this.options.hiddenLayers.map(e=>new Sr(e,1)),this.bindEquation(),this}toFunction(e){const{model:t}=this,{equations:n}=this.model,r=n[1],{states:i}=r,s=JSON.stringify(this.toJSON());function o(e){const r=t.equationConnections[0],{states:i}=n[0];for(let t=0,n=i.length;t<n;t++)if(i[t].product===e)return t;return r.indexOf(e)}function a(e,t){for(let n=0,r=i.length;n<r;n++){const r=i[n];if(n===t){const t=o(e);return t>-1&&(e===r.left||e===r.right)?`typeof prevStates[${t}] === 'object' ? prevStates[${t}].product : new Matrix(${e.rows}, ${e.columns})`:`new Matrix(${e.rows}, ${e.columns})`}if(e===r.product)return`states[${n}].product`;if(e===r.right)return`states[${n}].right`;if(e===r.left)return`states[${n}].left`}return""}function l(e,n){if(!e||!e.rows||!e.columns)return"null";if(e===t.input)return"json.input";if(e===t.outputConnector)return"json.outputConnector";if(e===t.output)return"json.output";for(let r=0,i=t.hiddenLayers.length;r<i;r++){const n=t.hiddenLayers[r];for(const t in n)if(n.hasOwnProperty(t)&&n[t]===e)return`json.hiddenLayers[${r}].${t}`}return a(e,n)}function u(e){const t=e.toString().split("{");t.shift();const n=t.join("{").split("}");return n.pop(),n.join("}").split("\n").join("\n        ").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function c(e){return`src/recurrent/matrix/${e.replace(/[A-Z]/g,function(e){return`-${e.toLowerCase()}`})}.js`}const h=[],d={},p=[];for(let m=0,g=i.length;m<g;m++){const e=i[m];h.push(`states[${m}] = {\n      name: '${e.forwardFn.name}',\n      left: ${e.left?l(e.left,m):"undefined"},\n      right: ${e.right?l(e.right,m):"undefined"},\n      product: ${l(e.product,m)}\n    }`);const t=e.forwardFn.name;d[t]||(d[t]=!0,p.push(`        case '${t}': //compiled from ${c(t)}\n          ${u(e.forwardFn.toString())}\n          break;`))}const f=`\n  if (typeof rawInput === 'undefined') rawInput = [];\n  if (typeof isSampleI === 'undefined') isSampleI = false;\n  if (typeof temperature === 'undefined') temperature = 1;\n  var json = ${s};\n  ${this.options.dataFormatter?`${this.options.dataFormatter.toFunctionString()};\n  Object.assign(dataFormatter, json.options.dataFormatter);`:""}\n  ${this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataIn?`const formatDataIn = function (input, output) { ${u(this.options.dataFormatter.formatDataIn.toString())} }.bind(dataFormatter);`:""}\n  ${null!==this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataOut?`const formatDataOut = function formatDataOut(input, output) { ${u(this.options.dataFormatter.formatDataOut.toString())} }.bind(dataFormatter);`:""}\n  var maxPredictionLength =\n    ${this.options.maxPredictionLength} +\n    rawInput.length +\n    ${this.options.dataFormatter?this.options.dataFormatter.specialIndexes.length:0};\n  var input = ${this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataIn?"formatDataIn(rawInput)":"rawInput"};\n  var _i = 0;\n  var output = [];\n  var states = [];\n  var prevStates;\n  while (true) {\n    var previousIndex = (_i === 0\n        ? 0\n        : _i < input.length\n          ? input[_i - 1] + 1\n          : output[_i - 1])\n          ;\n    var rowPluckIndex = previousIndex;\n    prevStates = states;\n    states = [];\n    ${h.join(";\n    ")};\n    for (var stateIndex = 0, stateMax = ${h.length}; stateIndex < stateMax; stateIndex++) {\n      var state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n      switch (state.name) {\n${p.join("\n")}\n      }\n    }\n\n    var logProbabilities = state.product;\n    if (temperature !== 1 && isSampleI) {\n      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {\n        logProbabilities.weights[q] /= temperature;\n      }\n    }\n\n    var probs = softmax(logProbabilities);\n    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n    _i++;\n    if (nextIndex === 0) {\n      break;\n    }\n    if (_i >= maxPredictionLength) {\n      break;\n    }\n\n    output.push(nextIndex);\n  }\n  ${this.options.dataFormatter&&"function"===typeof this.options.dataFormatter.formatDataOut?"return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))":"return output.slice(input.length).map(function(value) { return value - 1; })"};\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${B.toString()}\n  ${jr.toString().replace("_1.Matrix","Matrix")}\n  ${O.toString()}\n  ${Hr.toString()}\n  ${Kr.toString()}`;return new Function("rawInput","isSampleI","temperature",e?e(f):f)}trainPattern(e,t){const n=this.trainInput(e);return this.backpropagate(e),this.adjustWeights(),t?n:0}}function qr(e){return e[e.length-1]}class Qr extends Xr{getHiddenLayer(e,t){return Jr(e,t)}getEquation(e,t,n,r){return Zr(e,t,n,r)}}function Jr(e,t){return{updateGateInputMatrix:new kr(e,t,.08),updateGateHiddenMatrix:new kr(e,e,.08),updateGateBias:new Sr(e,1),resetGateInputMatrix:new kr(e,t,.08),resetGateHiddenMatrix:new kr(e,e,.08),resetGateBias:new Sr(e,1),cellWriteInputMatrix:new kr(e,t,.08),cellWriteHiddenMatrix:new kr(e,e,.08),cellWriteBias:new Sr(e,1)}}function Zr(e,t,n,r){if(!r.updateGateInputMatrix||!r.updateGateHiddenMatrix||!r.updateGateBias||!r.resetGateInputMatrix||!r.resetGateHiddenMatrix||!r.resetGateBias||!r.cellWriteInputMatrix||!r.cellWriteHiddenMatrix||!r.cellWriteBias)throw new Error("hiddenLayer does not have expected properties");const i=e.sigmoid.bind(e),s=e.add.bind(e),o=e.multiply.bind(e),a=e.multiplyElement.bind(e),l=e.tanh.bind(e),u=e.allOnes.bind(e),c=e.cloneNegative.bind(e),h=i(s(s(o(r.updateGateInputMatrix,t),o(r.updateGateHiddenMatrix,n)),r.updateGateBias)),d=i(s(s(o(r.resetGateInputMatrix,t),o(r.resetGateHiddenMatrix,n)),r.resetGateBias)),p=l(s(s(o(r.cellWriteInputMatrix,t),o(r.cellWriteHiddenMatrix,a(d,n))),r.cellWriteBias));return s(a(s(u(h.rows,h.columns),c(h)),p),a(n,h))}class ei{constructor(e,t){this.prop=t,this.length=0,this.table={};for(let n=0;n<e.length;n++){const r=e[n][t];for(let e=0;e<r.length;e++){const t=r[e];for(const e in t)t.hasOwnProperty(e)&&(this.table.hasOwnProperty(e)||(this.table[e]=this.length++))}}}}const ti=()=>({...Yr(),inputSize:1,hiddenLayers:[20],outputSize:1,inputRange:0});class ni extends Xr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.inputLookupLength=0,this.inputLookup=null,this.outputLookup=null,this.outputLookupLength=0,this.model=Object.seal({isInitialized:!1,hiddenLayers:[],output:new Sr(0,0),equations:[],allMatrices:[],equationConnections:[],outputConnector:new kr(0,0,.08)}),this.options=ti(),this.options={...this.options,...e},this.updateTrainingOptions({...ri,...e}),e.json&&this.fromJSON(e.json)}createInputMatrix(){throw new Error("Input Matrices do not exist on RNNTimeStep")}createOutputMatrices(){const{outputSize:e}=this.options,t=qr(this.options.hiddenLayers),n=new kr(e,t,.08);return{output:new kr(e,1,.08),outputConnector:n}}bindEquation(){const{model:e,options:t}=this,{hiddenLayers:n,inputSize:r}=t,i=e.hiddenLayers,s=new Ur,o=[],a=e.equationConnections.length>0?e.equationConnections[e.equationConnections.length-1]:this.initialLayerInputs;let l=this.getEquation(s,s.input(new Sr(r,1)),a[0],i[0]);o.push(l);for(let u=1,c=n.length;u<c;u++)l=this.getEquation(s,l,a[u],i[u]),o.push(l);e.equationConnections.push(o),s.add(s.multiply(e.outputConnector,l),e.output),e.equations.push(s)}initialize(){this.model=this.mapModel()}mapModel(){const e=[];this.initialLayerInputs=this.options.hiddenLayers.map(e=>new Sr(e,1));const t=this.createHiddenLayers();for(let i=0,s=t.length;i<s;i++){const n=t[i];for(const t in n)n.hasOwnProperty(t)&&e.push(n[t])}const{outputConnector:n,output:r}=this.createOutputMatrices();return e.push(n),e.push(r),Object.seal({isInitialized:!0,hiddenLayers:t,output:r,equations:[],allMatrices:e,equationConnections:[],outputConnector:n})}backpropagate(){for(let e=this.model.equations.length-1;e>-1;e--)this.model.equations[e].backpropagate()}run(e){const t=b.dataShape(e).join(",");switch(t){case"array,number":return this.runArray(e);case"array,array,number":return this.runArrayOfArray(e);case"object,number":return this.runObject(e);case"array,object,number":return this.runArrayOfObject(e);default:throw new Error(`Unrecognized data shape ${t}`)}}forecast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=b.dataShape(e).join(",");switch(n){case"array,number":return this.forecastArray(e,t);case"array,array,number":return this.forecastArrayOfArray(e,t);case"object,number":return this.runObject(e);case"array,object,number":return this.forecastArrayOfObject(e,t);default:throw new Error(`Unrecognized data shape ${n}`)}}forecastArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.checkRunnable();const{model:n}=this,{equations:r}=n,i=e.length+t;for(;r.length<=i;)this.bindEquation();let s,o=0;if(1===this.options.inputSize)for(let l=0;l<e.length;l++)s=r[o++].runInput(Float32Array.from([e[l]]));else for(let l=0;l<e.length;l++)s=r[o++].runInput(Float32Array.from([]));if(!s)throw new Error("lastOutput not set");const a=[s.weights[0]];for(let l=0,u=t-1;l<u;l++)s=r[o++].runInput(s.weights),a.push(s.weights[0]);return this.end(),Float32Array.from(a)}forecastArrayOfArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.checkRunnable();const{model:n}=this,{equations:r}=n,i=e.length+t;for(;r.length<=i;)this.bindEquation();let s,o=0;for(let l=0;l<e.length;l++)s=r[o++].runInput(e[l]);if(!s)throw new Error("lastOutput not set");const a=[Float32Array.from(s.weights)];for(let l=0,u=t-1;l<u;l++)s=r[o++].runInput(s.weights),a.push(Float32Array.from(s.weights.slice(0)));return this.end(),a}forecastArrayOfObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");const n=e.map(e=>b.toArray(this.inputLookup,e,this.inputLookupLength));return this.forecastArrayOfArray(n,t).map(e=>b.toObject(this.outputLookup,e))}train(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.trainOpts=t={...Gr,...t},1===this.options.inputSize&&1===this.options.outputSize&&this.setSize(e),this.verifySize();const n=this.formatData(e);let r,i=1/0;this.verifyIsInitialized();const{iterations:s,errorThresh:o,logPeriod:a,callback:l,callbackPeriod:u}=this.trainOpts,c=!0===t.log?console.log:t.log;for(r=0;r<s&&i>o;r++){let e=0;for(let t=0;t<n.length;t++)e+=this.trainPattern(n[t],!0);if(i=e/n.length,isNaN(i))throw new Error("Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. ");c&&r%a===0&&c(`iterations: ${r}, training error: ${i}`),l&&r%u===0&&l({error:i,iterations:r})}return{error:i,iterations:r}}trainArrayOfArray(e){if(e.length<2)throw new Error("input must be an array of 2 or more");const{equations:t}=this.model;for(;t.length<e.length;)this.bindEquation();let n=0;for(let r=0,i=e.length-1;r<i;r++)n+=t[r].predictTarget(e[r],e[r+1]);return this.end(),n/e.length}trainPattern(e,t){const n=this.trainArrayOfArray(e);return this.backpropagate(),this.adjustWeights(),t?n:0}setSize(e){let t=0;switch(b.dataShape(e).join(",")){case"array,array,number":case"array,object,number":case"array,datum,array,number":case"array,datum,object,number":t=1;break;case"array,array,array,number":t=e[0][0].length;break;case"array,array,object,number":t=Object.keys(b.toTable2D(e)).length;break;case"array,datum,array,array,number":t=e[0].input[0].length;break;case"array,datum,array,object,number":t=Object.keys(b.toInputTable2D(e)).length;break;default:throw new Error("unknown data shape or configuration")}this.options=Object.seal({...this.options,inputSize:t,outputSize:t})}verifySize(){if((this.options.inputSize||this.options.outputSize)&&this.options.inputSize!==this.options.outputSize)throw new Error("manually set inputSize and outputSize mismatch")}runArray(e){this.checkRunnable();const{equations:t}=this.model;for(;t.length<=e.length;)this.bindEquation();let n;for(let r=0;r<e.length;r++)n=t[r].runInput(new Float32Array([e[r]]));return this.end(),n.weights[0]}runArrayOfArray(e){this.checkRunnable();const{model:t}=this,{equations:n}=t;for(;n.length<=e.length;)this.bindEquation();let r;for(let i=0;i<e.length;i++)r=n[i].runInput(e[i]).weights;return this.end(),null!==r&&void 0!==r?r:Float32Array.from([])}runObject(e){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");if(!this.outputLookupLength)throw new Error("this.outputLookupLength not set");if(this.inputLookup===this.outputLookup){const t=b.toArrayShort(this.inputLookup,e);return b.toObjectPartial(this.outputLookup,this.forecastArray(t,this.outputLookupLength-t.length),t.length)}return b.toObject(this.outputLookup,this.forecastArray(b.toArray(this.inputLookup,e,this.inputLookupLength),this.outputLookupLength))}runArrayOfObject(e){if(null===this.inputLookup)throw new Error("this.inputLookup not set");if(null===this.outputLookup)throw new Error("this.outputLookup not set");const t=e.map(e=>b.toArray(this.inputLookup,e,this.inputLookupLength));return this.forecastArrayOfArray(t,1).map(e=>b.toObject(this.outputLookup,e))[0]}runArrayOfObjectOfArray(e){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");return b.toObject(this.outputLookup,this.runArrayOfArray(b.toArrays(this.inputLookup,e,this.inputLookupLength)))}end(){this.model.equations[this.model.equations.length-1].runInput(new Float32Array(this.options.outputSize))}requireInputOutputOfOne(){if(1!==this.options.inputSize)throw new Error("inputSize must be 1 for this data size");if(1!==this.options.outputSize)throw new Error("outputSize must be 1 for this data size")}formatArray(e){const t=[];this.requireInputOutputOfOne();for(let n=0;n<e.length;n++)t.push(Float32Array.from([e[n]]));return[t]}formatArrayOfArray(e){const t=[],{inputSize:n,outputSize:r}=this.options;if(1===n&&1===r){for(let n=0;n<e.length;n++)t.push(k(e[n]));return t}if(n!==e[0].length)throw new Error("inputSize must match data input size");if(r!==e[0].length)throw new Error("outputSize must match data output size");for(let i=0;i<e.length;i++)t.push(Float32Array.from(e[i]));return[t]}formatArrayOfObject(e){if(this.requireInputOutputOfOne(),!this.inputLookup){const t=new M(e);this.inputLookup=this.outputLookup=t.table,this.inputLookupLength=this.outputLookupLength=t.length}const t=[];for(let n=0;n<e.length;n++)t.push(E(e[n]));return t}formatArrayOfObjectMulti(e){if(!this.inputLookup){const t=new M(e);this.inputLookup=this.outputLookup=t.table,this.inputLookupLength=this.outputLookupLength=t.length}const t=[];for(let n=0;n<e.length;n++)t.push([D(e[n],this.inputLookup,this.inputLookupLength)]);return t}formatArrayOfDatumOfArray(e){const t=[];this.requireInputOutputOfOne();for(let n=0;n<e.length;n++){const r=e[n];t.push(T(r.input,r.output))}return t}formatArrayOfDatumOfObject(e){if(this.requireInputOutputOfOne(),!this.inputLookup){const t=new M(e,"input");this.inputLookup=t.table,this.inputLookupLength=t.length}if(!this.outputLookup){const t=new M(e,"output");this.outputLookup=t.table,this.outputLookupLength=t.length}const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(C(r.input,r.output))}return t}formatArrayOfArrayOfArray(e){const t=[];for(let n=0;n<e.length;n++)t.push(w(e[n]));return t}formatArrayOfArrayOfObject(e){if(!this.inputLookup){const t=new M(e);this.inputLookup=this.outputLookup=t.table,this.inputLookupLength=this.outputLookupLength=t.length}const t=[];for(let n=0;n<e.length;n++){const r=[];for(let t=0;t<e[n].length;t++)r.push(D(e[n][t],this.inputLookup,this.inputLookupLength));t.push(r)}return t}formatArrayOfDatumOfArrayOfArray(e){const t=[],{inputSize:n,outputSize:r}=this.options;if(n!==e[0].input[0].length)throw new Error("inputSize must match data input size");if(r!==e[0].output[0].length)throw new Error("outputSize must match data output size");for(let i=0;i<e.length;i++){const n=e[i];t.push(S(n.input,n.output))}return t}formatArrayOfDatumOfArrayOfObject(e){if(!this.inputLookup){const t=new ei(e,"input");this.inputLookup=t.table,this.inputLookupLength=t.length}if(!this.outputLookup){const t=new ei(e,"output");this.outputLookup=t.table,this.outputLookupLength=t.length}if(!this.outputLookupLength)throw new Error("this.outputLookupLength not set to usable number");const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(_(r.input,r.output,this.inputLookup,this.outputLookup,this.inputLookupLength,this.outputLookupLength))}return t}formatData(e){switch(b.dataShape(e).join(",")){case"array,number":return this.formatArray(e);case"array,array,number":return this.formatArrayOfArray(e);case"array,object,number":return 1===this.options.inputSize?this.formatArrayOfObject(e):this.formatArrayOfObjectMulti(e);case"array,datum,array,number":return this.formatArrayOfDatumOfArray(e);case"array,datum,object,number":return this.formatArrayOfDatumOfObject(e);case"array,array,array,number":return this.formatArrayOfArrayOfArray(e);case"array,array,object,number":return this.formatArrayOfArrayOfObject(e);case"array,datum,array,array,number":return this.formatArrayOfDatumOfArrayOfArray(e);case"array,datum,array,object,number":return this.formatArrayOfDatumOfArrayOfObject(e);default:throw new Error("unknown data shape or configuration")}}test(e){const t=[];let n=0;const r=this.formatData(e);for(let i=0;i<r.length;i++){const s=r[i],o=this.run(s.splice(0,s.length-1)),a=s[s.length-1];let l=0,u=0;for(let e=0;e<o.length;e++){u++;const t=a[e]-o[e];l+=t*t}if(n+=l/u,Math.abs(l)>this.trainOpts.errorThresh){const n=e[i];t.push({value:n,actual:o})}}return{error:n/r.length,misclasses:t,total:r.length}}addFormat(e){var t,n,r,i,s,o;switch(b.dataShape(e).join(",")){case"array,array,number":case"datum,array,array,number":case"array,number":case"datum,array,number":return;case"datum,object,number":this.inputLookup=b.addKeys(e.input,null!==(t=this.inputLookup)&&void 0!==t?t:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=b.addKeys(e.output,null!==(n=this.outputLookup)&&void 0!==n?n:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break;case"object,number":this.inputLookup=this.outputLookup=b.addKeys(e,null!==(r=this.inputLookup)&&void 0!==r?r:{}),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break;case"array,object,number":{const t=e;for(let e=0;e<t.length;e++)this.inputLookup=this.outputLookup=b.addKeys(t[e],null!==(i=this.inputLookup)&&void 0!==i?i:{}),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"datum,array,object,number":{const t=e,n=t.input;for(let e=0;e<n.length;e++)this.inputLookup=b.addKeys(n[e],null!==(s=this.inputLookup)&&void 0!==s?s:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length);const r=t.output;for(let e=0;e<r.length;e++)this.outputLookup=b.addKeys(r[e],null!==(o=this.outputLookup)&&void 0!==o?o:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}default:throw new Error("unknown data shape or configuration")}}toJSON(){this.model||this.initialize();const{model:e}=this,t={...this.options,...Yr};return{type:this.constructor.name,options:t,hiddenLayers:e.hiddenLayers.map(e=>{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n].toJSON());return t}),outputConnector:e.outputConnector.toJSON(),output:e.output.toJSON(),inputLookup:this.inputLookup,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup,outputLookupLength:this.outputLookupLength}}fromJSON(e){const{options:t}=e,n=[],r=[];e.hiddenLayers.forEach(e=>{const t={};for(const r in e)t[r]=Sr.fromJSON(e[r]),n.push(t[r]);r.push(t)});const i=Sr.fromJSON(e.outputConnector);n.push(i);const s=Sr.fromJSON(e.output);return n.push(s),this.options={...ti(),...t},this.inputLookup=e.inputLookup,this.inputLookupLength=e.inputLookupLength,this.outputLookup=e.outputLookup,this.outputLookupLength=e.outputLookupLength,this.model=Object.seal({isInitialized:!0,hiddenLayers:r,output:s,allMatrices:n,outputConnector:i,equations:[],equationConnections:[]}),this.initialLayerInputs=t.hiddenLayers.map(e=>new Sr(e,1)),this.bindEquation(),this}toFunction(e){const{model:t,inputLookup:n,inputLookupLength:r,outputLookup:i,outputLookupLength:s}=this,{inputSize:o}=this.options,{equations:a}=t,l=a[1],{states:u}=l,c=JSON.stringify(this.toJSON());function h(e){const n=t.equationConnections[0],{states:r}=a[0];for(let t=0,i=r.length;t<i;t++)if(r[t].product===e)return t;return n.indexOf(e)}function d(e,t){for(let n=0,r=u.length;n<r;n++){const r=u[n];if(n===t){const t=h(e);switch(e){case r.left:if(t>-1)return`typeof prevStates[${t}] === 'object' ? prevStates[${t}].product : new Matrix(${e.rows}, ${e.columns})`;case r.right:if(t>-1)return`typeof prevStates[${t}] === 'object' ? prevStates[${t}].product : new Matrix(${e.rows}, ${e.columns})`;case r.product:return`new Matrix(${e.rows}, ${e.columns})`;default:throw Error("unknown state")}}if(e===r.product)return`states[${n}].product`;if(e===r.right)return`states[${n}].right`;if(e===r.left)return`states[${n}].left`}return""}function p(e,n){if(!e||!e.rows||!e.columns)return"null";if(e===t.outputConnector)return"json.outputConnector";if(e===t.output)return"json.output";for(let r=0,i=t.hiddenLayers.length;r<i;r++){const n=t.hiddenLayers[r];for(const t in n)if(n.hasOwnProperty(t)&&n[t]===e)return`json.hiddenLayers[${r}].${t}`}return d(e,n)}function f(){return n?1===o?n===i?`function lookupInput(input) {\n            var table = ${JSON.stringify(n)};\n            var result = [];\n            for (var p in table) {\n              if (!input.hasOwnProperty(p)) break;\n              result.push(Float32Array.from([input[p]]));\n            }\n            return result;\n          }`:`function lookupInput(input) {\n          var table = ${JSON.stringify(n)};\n          var result = [];\n          for (var p in table) {\n            result.push(Float32Array.from([input[p]]));\n          }\n          return result;\n        }`:`function lookupInput(rawInputs) {\n        var table = ${JSON.stringify(n)};\n        var result = [];\n        for (var i = 0; i < rawInputs.length; i++) {\n          var rawInput = rawInputs[i];\n          var input = new Float32Array(${r});\n          for (var p in table) {\n            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;\n          }\n          result.push(input);\n        }\n        return result;\n      }`:""}function m(){return i?1===o?n===i?`function lookupOutputPartial(output, input) {\n            var table = ${JSON.stringify(i)};\n            var offset = input.length;\n            var result = {};\n            var i = 0;\n            for (var p in table) {\n              if (i++ < offset) continue;\n              result[p] = output[table[p] - offset][0];\n            }\n            return result;\n          }`:`function lookupOutput(output) {\n          var table = ${JSON.stringify(i)};\n          var result = {};\n          for (var p in table) {\n            result[p] = output[table[p]][0];\n          }\n          return result;\n        }`:`function lookupOutput(output) {\n        var table = ${JSON.stringify(i)};\n        var result = {};\n        for (var p in table) {\n          result[p] = output[table[p]];\n        }\n        return result;\n      }`:""}function g(e){const t=e.toString().split("{");t.shift();const n=t.join("{").split("}");return n.pop(),n.join("}").split("\n").join("\n        ").replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function y(e){return`src/recurrent/matrix/${e.replace(/[A-Z]/g,function(e){return`-${e.toLowerCase()}`})}.js`}const x=[],b={},v=[];for(let k=0,T=u.length;k<T;k++){const e=u[k];x.push(`states[${k}] = {\n      name: '${e.forwardFn.name}',\n      left: ${e.left?p(e.left,k):"undefined"},\n      right: ${e.right?p(e.right,k):"undefined"},\n      product: ${p(e.product,k)}\n    }`);const t=e.forwardFn.name;b[t]||(b[t]=!0,"input"===e.name?(v.push(`case '${t}':`),v.push(n&&1===o?"product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;":1===o?"product.weights = [input[_i]];":"product.weights = input[_i];"),v.push("break;")):v.push(`        case '${t}':${"forwardFn"!==t?` //compiled from ${y(t)}`:""}\n          ${g(e.forwardFn.toString())}\n          break;`))}const w=1===o&&this.outputLookup,S=`\n  var input = ${this.inputLookup?"lookupInput(rawInput)":"rawInput"};\n  var json = ${c};\n  var output = [];\n  var states = [];\n  var prevStates;\n  var state;\n  var max = ${w?n===i?r:"input.length + "+(s-1):"input.length"};\n  for (var _i = 0; _i < max; _i++) {\n    prevStates = states;\n    states = [];\n    ${x.join(";\n    ")};\n    for (var stateIndex = 0, stateMax = ${x.length}; stateIndex < stateMax; stateIndex++) {\n      state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n\n      switch (state.name) {\n${v.join("\n")}\n      }\n    }\n    ${1===o&&n?"if (_i >= input.length - 1) { output.push(state.product.weights); }":"output = state.product.weights;"}\n  }\n  ${i?i===n?"return lookupOutputPartial(output, input)":"return lookupOutput(output)":1===o?"return output[0]":"return output"};\n  ${f()}\n  ${m()}\n\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = new Float32Array(rows * columns);\n  }\n  ${jr.toString().replace("_2.default","Matrix")}\n  ${O.toString()}\n  ${Hr.toString()}\n  ${Kr.toString()}`;return new Function("rawInput",e?e(S):S)}}const ri={...Gr};class ii extends ni{getHiddenLayer(e,t){return Jr(e,t)}getEquation(e,t,n,r){return Zr(e,t,n,r)}}class si extends Xr{getHiddenLayer(e,t){return oi(e,t)}getEquation(e,t,n,r){return ai(e,t,n,r)}}function oi(e,t){return{inputMatrix:new kr(e,t,.08),inputHidden:new kr(e,e,.08),inputBias:new Sr(e,1),forgetMatrix:new kr(e,t,.08),forgetHidden:new kr(e,e,.08),forgetBias:new Sr(e,1),outputMatrix:new kr(e,t,.08),outputHidden:new kr(e,e,.08),outputBias:new Sr(e,1),cellActivationMatrix:new kr(e,t,.08),cellActivationHidden:new kr(e,e,.08),cellActivationBias:new Sr(e,1)}}function ai(e,t,n,r){if(!r.inputMatrix||!r.inputHidden||!r.inputBias||!r.forgetMatrix||!r.forgetHidden||!r.forgetBias||!r.outputMatrix||!r.outputHidden||!r.outputBias||!r.cellActivationMatrix||!r.cellActivationHidden||!r.cellActivationBias)throw new Error("hiddenLayer does not have expected properties");const i=e.sigmoid.bind(e),s=e.add.bind(e),o=e.multiply.bind(e),a=e.multiplyElement.bind(e),l=e.tanh.bind(e),u=i(s(s(o(r.inputMatrix,t),o(r.inputHidden,n)),r.inputBias)),c=i(s(s(o(r.forgetMatrix,t),o(r.forgetHidden,n)),r.forgetBias)),h=i(s(s(o(r.outputMatrix,t),o(r.outputHidden,n)),r.outputBias)),d=l(s(s(o(r.cellActivationMatrix,t),o(r.cellActivationHidden,n)),r.cellActivationBias)),p=a(c,n),f=a(u,d);return a(h,l(s(p,f)))}class li extends ni{getHiddenLayer(e,t){return oi(e,t)}getEquation(e,t,n,r){return ai(e,t,n,r)}}function ui(e,t){const n=[];for(;e<t;e++)n.push(e);return n}function ci(e){return Array.isArray(e)?Float32Array.from(e):Float32Array.from(Object.values(e))}function hi(e){let{pixelX:t,pixelY:n,radius:r,inputs:i,row:s,line:o,fontSize:a,fontClassName:l}=e,u=`<rect\n              x="${t/2-r}"\n              y="${n/2+s*n-r}"\n              width="${2*r}"\n              height="${2*r}"\n              stroke="black"\n              stroke-width="1"\n              fill="${i.color}"\n              class="${i.className}" />\n            <line\n              x1="${t/4}"\n              y1="${n/2+s*n}"\n              x2="${t/2-r}"\n              y2="${n/2+s*n}"\n              style="stroke:${o.color};stroke-width:${o.width}"\n              class="${o.className}" />`;return i.labels&&(u+=`<text\n              x="${t/8}"\n              y="${n/2+s*n-5}"\n              fill="black"\n              font-size="${a}"\n              class="${l}">${i.labels[s]}</text>`),u}function di(e){let{pixelX:t,pixelY:n,row:r,column:i,radius:s,hidden:o}=e;return`<circle\n            cx="${t/2+i*t}"\n            cy="${n/2+r*n}"\n            r="${s}"\n            stroke="black"\n            stroke-width="1"\n            fill="${o.color}"\n            class="${o.className}" />`}function pi(e){let{pixelX:t,pixelY:n,row:r,column:i,line:s,outputs:o,radius:a}=e;return`<circle\n            cx="${t/2+i*t}"\n            cy="${n/2+r*n}"\n            r="${a}"\n            stroke="black"\n            stroke-width="1"\n            fill="${o.color}"\n            class="${o.className}" />\n          <line\n            x1="${t/2+i*t+a}"\n            y1="${n/2+r*n}"\n            x2="${t/2+i*t+t/4}"\n            y2="${n/2+r*n}"\n            style="stroke:${s.color};stroke-width:${s.width}"\n            class="${s.className}" />`}function fi(e){let{pixelX:t,pixelY:n,row:r,column:i,radius:s,lineY:o,line:a,previousConnectionIndex:l}=e;return`<line\n            x1="${t/2+(i-1)*t+s}"\n            y1="${o/2+l*o}"\n            x2="${t/2+i*t-s}"\n            y2="${n/2+r*n}"\n            style="stroke:${a.color};stroke-width:${a.width}"\n            class="${a.className}" />`}function mi(e){const{sizes:t,height:n,width:r}=e;let i="";const s=r/t.length;for(let o=0;o<t.length;o++){const r=t[o],a=n/r;for(let l=0;l<r;l++)if(0===o)i+=hi({pixelX:s,pixelY:a,row:l,column:o,...e});else{o===t.length-1?i+=pi({pixelX:s,pixelY:a,row:l,column:o,...e}):i+=di({pixelX:s,pixelY:a,row:l,column:o,...e});const r=t[o-1],u=n/r;for(let t=0;t<r;t++)i+=fi({pixelX:s,pixelY:a,row:l,column:o,lineY:u,previousConnectionIndex:t,...e})}}return i}function gi(e){let{pixelX:t,pixelY:n,row:r,column:i,radius:s,recurrentLine:o}=e;const a=t/2+i*t+s+1,l=n/2+r*n,u=a-2*s-2;return`<path\n              d="M ${a} ${l} C ${u+100} ${l+50}, ${a-100} ${l+50}, ${u} ${l}"\n              stroke="${o.color}"\n              stroke-width="${o.width}"\n              fill="transparent"\n              stroke-linecap="round"\n              marker-end="url(#arrow)"\n              class="${o.className}" />`}function yi(e){const{width:t,height:n,recurrentLine:r,sizes:i,radius:s}=e,o=t/i.length;let a=`<defs>\n              <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">\n                <path d="M0,0 L0,6 L9,3 z" fill="${r.color}" />\n              </marker>\n            </defs>`;a+=mi(e);for(let l=1;l<i.length;l++){const e=i[l],t=n/e;for(let n=0;n<e;n++)a+=gi({pixelX:o,pixelY:t,row:n,column:l,radius:s,recurrentLine:r})}return a}function xi(e){const{options:t}=e;if(!t)throw new Error("options not defined");if(!t.inputLayer)throw new Error("options.inputLater not defined");if(!t.hiddenLayers)throw new Error("options.hiddenLayers not defined");if(t.hiddenLayers.length<1)throw new Error("options.hiddenLayers is empty");if(!t.outputLayer)throw new Error("options.outputLayer not defined");const n=t.inputLayer(),r=[];r.push(t.hiddenLayers[0](n,0));for(let s=1;s<t.hiddenLayers.length;s++)r.push(t.hiddenLayers[s](r[s-1],s));const i=t.outputLayer(r[r.length-1],r.length);return{inputSize:n.height,hiddenLayers:r.map(e=>e.height),outputSize:i.height}}function bi(e){const t=[],{options:n}=e;if(!n.inputLayer)throw new Error("inputLayer not defined");if(!n.outputLayer)throw new Error("outputLayer not defined");const r=n.inputLayer();t.push(n.hiddenLayers[0](r,Fn(),0));for(let s=1;s<n.hiddenLayers.length;s++)t.push(n.hiddenLayers[s](t[s-1],Fn(),s));const i=n.outputLayer(t[t.length-1],-1);return{inputSize:r.height,hiddenLayers:t.map(e=>e.height),outputSize:i.height}}function vi(e,t,n){return`<svg\n            xmlns="http://www.w3.org/2000/svg"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            version="1.1"\n            width="${t}"\n            height="${n}">${e}</svg>`}function wi(e){return e.sizes}function Si(e){const{options:t,sizes:n}=e,{inputSize:r,outputSize:i,hiddenLayers:s}=t;if(!n){if("number"===typeof r&&r<1)throw new Error("inputSize not set");if("number"===typeof i&&i<1)throw new Error("outputSize not set");if(null===s||void 0===s?void 0:s.some(e=>e<1))throw new Error("hiddenLayers not set")}return"number"===typeof r&&Array.isArray(s)&&"number"===typeof i?[r].concat(s).concat([i]):n}function ki(e){const{options:t}=e,{inputSize:n,outputSize:r,hiddenLayers:i}=t;return[n].concat(i).concat([r])}function Ti(){return{line:{width:.5,color:"black",className:"connection"},recurrentLine:{width:1,color:"red",className:"recurrence"},inputs:{color:"rgba(0, 128, 0, 0.5)",labels:null,className:"input"},outputs:{color:"rgba(100, 149, 237, 0.5)",className:"output"},hidden:{color:"rgba(255, 127, 80, 0.5)",className:"hidden-neuron"},fontSize:"14px",fontClassName:"label",radius:8,width:400,height:250,sizes:[]}}function Ai(e,t){const n={...Ti(),...t},{width:r,height:i,inputs:s}=n;let o=[];if(e instanceof H||e instanceof me)o=Si(e);else if(e instanceof wr){const{inputSize:t,hiddenLayers:n,outputSize:r}=bi(e);o=[t].concat(n).concat([r])}else if(e instanceof xr){const{inputSize:t,hiddenLayers:n,outputSize:r}=xi(e);o=[t].concat(n).concat([r])}else{if(e instanceof Xr||e instanceof si||e instanceof Qr||e instanceof ni||e instanceof li||e instanceof ii)return vi(yi({...n,sizes:_i(ki(e),s.labels)}),r,i);if(e.hasOwnProperty("type"))switch(e.type){case"NeuralNetwork":case"NeuralNetworkGPU":return vi(mi({...n,sizes:_i(wi(e),s.labels)}),r,i);case"RNN":case"GRU":case"LSTM":case"RNNTimeStep":case"GRUTimeStep":case"LSTMTimeStep":return vi(yi({...n,sizes:_i(ki(e),s.labels)}),r,i);default:throw new Error("unrecognized network")}else if(e.hasOwnProperty("inputSize")&&e.hasOwnProperty("hiddenLayers")&&e.hasOwnProperty("outputSize")){const{inputSize:t,hiddenLayers:n,outputSize:r}=e;o=[t,...n,r]}else{if(!e.hasOwnProperty("sizes"))throw new Error("unrecognized network");o=e.sizes}}return vi(mi({...n,sizes:_i(o,s.labels)}),r,i)}function _i(e,t){if(!e)throw new Error("sizes not set");if(e.some(e=>e<1))throw new Error("sizes not set correctly");if(t&&t.length!==e[0])throw new Error("not enough labels for inputs");return e}const Ei={RNNTimeStep:ni,LSTMTimeStep:li,GRUTimeStep:ii,RNN:Xr,LSTM:si,GRU:Qr},Ci={max:L,mse:I,ones:sn,ones2D:on,random:F,randomWeight:P,randos:z,range:ui,toArray:ci,DataFormatter:Tr,zeros:B,toSVG:Ai};e.AE=ye,e.CrossValidate=xe,e.FeedForward=xr,e.NeuralNetwork=H,e.NeuralNetworkGPU=me,e.Recurrent=wr,e.activation=f,e.layer=pr,e.layerTypes=dr,e.likely=br,e.lookup=b,e.praxis=nt,e.recurrent=Ei,e.utilities=Ci,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,v(e),!m)if(null!==r(u))m=!0,P(S);else{var t=r(c);null!==t&&O(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,x(_),_=-1),f=!0;var s=p;try{for(v(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!D());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),v(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(w,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,T=!1,A=null,_=-1,E=5,C=-1;function D(){return!(t.unstable_now()-C<E)}function M(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?k():(T=!1,A=null)}}else T=!1}if("function"===typeof b)k=function(){b(M)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,I=L.port2;L.port1.onmessage=M,k=function(){I.postMessage(null)}}else k=function(){y(M,0)};function P(e){A=e,T||(T=!0,k())}function O(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(x(_),_=-1):g=!0,O(w,s-o))):(e.sortIndex=a,n(u,e),m||f||(m=!0,P(S))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},1783:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>s});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},s=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do{e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next}while(void 0!==s)}}},1942:(e,t,n)=>{e.exports=n(3488)()},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var v=b.prototype=new x;v.constructor=b,m(v,y.prototype),v.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),D(o,t,i,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var u=0;u<e.length;u++){var c=s+C(a=e[u],u);l+=D(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=D(a=a.value,t,i,c=s+C(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",function(e){return t.call(n,e,i++)}),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},O={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},2138:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case s:case a:case o:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===a||e===o||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===x||e.$$typeof===b||e.$$typeof===v||e.$$typeof===y)},t.typeOf=w},2654:(e,t,n)=>{"use strict";var r=n(9950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},2703:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>o,Yn:()=>s});var r=n(5501),i=n(8286);function s(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function o(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:s(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,u=e=>{if(null==e[t])return null;const u=e[t],c=s(e.theme,a)||{};return(0,i.NI)(e,u,e=>{let i=o(c,l,e);return e===i&&"string"===typeof e&&(i=o(c,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?i:{[n]:i}})};return u.propTypes={},u.filterProps=[t],u}},2860:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),i=n(8587),s=n(7483),o=n(3628);const a={borderRadius:4};var l=n(7937);var u=n(505),c=n(8076),h=n(86);const d=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,i.A)(e,d),g=(0,o.A)(t),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?`${n}px`:n}).join(" ")};return n.mui=!0,n}(p);let x=(0,s.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:y,shape:(0,r.A)({},a,f)},m);x.applyStyles=h.A;for(var b=arguments.length,v=new Array(b>1?b-1:0),w=1;w<b;w++)v[w-1]=arguments[w];return x=v.reduce((e,t)=>(0,s.A)(e,t),x),x.unstable_sxConfig=(0,r.A)({},c.A,null==m?void 0:m.unstable_sxConfig),x.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},x}},3158:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(9950);var r=n(8283),i=n(4414);function s(e){const{styles:t,defaultTheme:n={}}=e,s="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,i.jsx)(r.mL,{styles:s})}},3488:(e,t,n)=>{"use strict";var r=n(3959);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},3628:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const s=["values","unit","step"],o=e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,i.A)({},e,{[t.key]:t.val}),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,s),u=o(t),c=Object.keys(u);function h(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function d(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function p(e,r){const i=c.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==i&&"number"===typeof t[c[i]]?t[c[i]]:r)-a/100}${n})`}return(0,i.A)({keys:c,values:u,up:h,down:d,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):h(e)},not:function(e){const t=c.indexOf(e);return 0===t?h(c[1]):t===c.length-1?d(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},3876:(e,t,n)=>{"use strict";var r=n(630),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var y=o[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var x=d(n,y);try{u(t,y,x)}catch(b){}}}}return t}},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},i={p:r,P:function(e,t){var i,s=e.match(/(P+)(p+)?/)||[],o=s[1],a=s[2];if(!a)return n(e,t);switch(o){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(o,t)).replace("{{time}}",r(a,t))}};t.default=i,e.exports=t.default},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5329:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(9950)),i=n(116);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5501:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8099);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},6206:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7483);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},6477:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>o});var i=n(9950),s=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=s||function(e){return e()},a=s||i.useLayoutEffect},6747:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},6879:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case s:case c:case h:case f:return e;default:switch(e=e&&e.$$typeof){case l:case u:case p:case d:case a:return e;default:return t}}case r:return t}}}t.vM=u,t.lD=d},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7295:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=g,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,c=e=>(0,u.default)((0,i.default)({},e,{theme:x((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:h,slot:p,skipVariantsResolver:m,skipSx:g,overridesResolver:w=b(y(p))}=u,S=(0,s.default)(u,d),k=h&&h.startsWith("Mui")||p?"components":"custom",T=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,A=g||!1;let _=f;"Root"===p||"root"===p?_=r:p?_=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(_=void 0);const E=(0,o.default)(e,(0,i.default)({shouldForwardProp:_,label:undefined},S)),C=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>{const s=x({theme:r.theme,defaultTheme:n,themeId:t});return v(e,(0,i.default)({},r,{theme:s}),s.modularCssLayers?k:void 0)}:e,D=function(r){let s=C(r);for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const u=a?a.map(C):[];h&&w&&u.push(e=>{const r=x((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[h]||!r.components[h].styleOverrides)return null;const s=r.components[h].styleOverrides,o={};return Object.entries(s).forEach(t=>{let[n,s]=t;o[n]=v(s,(0,i.default)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),w(e,o)}),h&&!T&&u.push(e=>{var r;const s=x((0,i.default)({},e,{defaultTheme:n,themeId:t}));return v({variants:null==s||null==(r=s.components)||null==(r=r[h])?void 0:r.variants},(0,i.default)({},e,{theme:s}),s.modularCssLayers?"theme":void 0)}),A||u.push(c);const d=u.length-a.length;if(Array.isArray(r)&&d>0){const e=new Array(d).fill("");s=[...r,...e],s.raw=[...r.raw,...e]}const p=E(s,...u);return e.muiName&&(p.muiName=e.muiName),p};return E.withConfig&&(D.withConfig=E.withConfig),D}};var i=r(n(4634)),s=r(n(4893)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(116)),a=n(7785),l=(r(n(304)),r(n(8399)),r(n(9904))),u=r(n(8807));const c=["ownerState"],h=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function m(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const g=(0,l.default)(),y=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function x(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function b(e){return e?(t,n)=>n[e]:null}function v(e,t,n){let{ownerState:r}=t,a=(0,s.default)(t,c);const l="function"===typeof e?e((0,i.default)({ownerState:r},a)):e;if(Array.isArray(l))return l.flatMap(e=>v(e,(0,i.default)({ownerState:r},a),n));if(l&&"object"===typeof l&&Array.isArray(l.variants)){const{variants:e=[]}=l;let t=(0,s.default)(l,h);return e.forEach(e=>{let s=!0;if("function"===typeof e.props?s=e.props((0,i.default)({ownerState:r},a,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&a[t]!==e.props[t]&&(s=!1)}),s){Array.isArray(t)||(t=[t]);const s="function"===typeof e.style?e.style((0,i.default)({ownerState:r},a,r)):e.style;t.push(n?m((0,o.internal_serializeStyles)(s),n):s)}}),t}return n?m((0,o.internal_serializeStyles)(l),n):l}},7370:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,E:()=>g,T:()=>h,c:()=>f,h:()=>d,w:()=>c});var r=n(9950),i=n(8603),s=n(1783),o=n(9015),a=n(6477),l=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null),u=l.Provider,c=function(e){return(0,r.forwardRef)(function(t,n){var i=(0,r.useContext)(l);return e(t,i,n)})},h=r.createContext({});var d={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)d.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,s.SF)(t,n,r),(0,a.s)(function(){return(0,s.sk)(t,n,r)}),null},g=c(function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[p],l=[i],u="";"string"===typeof e.className?u=(0,s.Rk)(t.registered,l,e.className):null!=e.className&&(u=e.className+" ");var c=(0,o.J)(l,void 0,r.useContext(h));u+=t.key+"-"+c.name;var f={};for(var g in e)d.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=u,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:c,isStringTag:"string"===typeof a}),r.createElement(a,f))})},7483:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>s});var r=n(8168),i=n(9950);function s(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(i.isValidElement(e)||!s(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=o(e[n])}),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return s(e)&&s(t)&&Object.keys(t).forEach(r=>{i.isValidElement(t[r])?l[r]=t[r]:s(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&s(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=s(t[r])?o(t[r]):t[r]:l[r]=t[r]}),l}},7785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(7483)},7923:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},7937:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>x,Ms:()=>b});var r=n(8286),i=n(2703),s=n(6206);const o={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=o[t],i=a[n]||"";return Array.isArray(i)?i.map(e=>r+e):[r+i]}),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[...c,...h];function p(e,t,n,r){var s;const o=null!=(s=(0,i.Yn)(e,t,!1))?s:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const s=function(e,t){return n=>e.reduce((e,r)=>(e[r]=m(t,n),e),{})}(u(n),i),o=e[n];return(0,r.NI)(e,o,s)}function y(e,t){const n=f(e.theme);return Object.keys(e).map(r=>g(e,t,r,n)).reduce(s.A,{})}function x(e){return y(e,c)}function b(e){return y(e,h)}function v(e){return y(e,d)}x.propTypes={},x.filterProps=c,b.propTypes={},b.filterProps=h,v.propTypes={},v.filterProps=d},8076:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(7937),i=n(2703),s=n(6206);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),i=e=>Object.keys(e).reduce((t,n)=>r[n]?(0,s.A)(t,r[n](e)):t,{});return i.propTypes={},i.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),i};var a=n(8286);function l(e){return"number"!==typeof e?e:`${e}px solid`}function u(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const c=u("border",l),h=u("borderTop",l),d=u("borderRight",l),p=u("borderBottom",l),f=u("borderLeft",l),m=u("borderColor"),g=u("borderTopColor"),y=u("borderRightColor"),x=u("borderBottomColor"),b=u("borderLeftColor"),v=u("outline",l),w=u("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];o(c,h,d,p,f,m,g,y,x,b,S,v,w);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const T=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};T.propTypes={},T.filterProps=["columnGap"];const A=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};A.propTypes={},A.filterProps=["rowGap"];o(k,T,A,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function _(e,t){return"grey"===t?t:e}o((0,i.Ay)({prop:"color",themeKey:"palette",transform:_}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:_}));function E(e){return e<=1&&0!==e?100*e+"%":e}const C=(0,i.Ay)({prop:"width",transform:E}),D=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:E(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};D.filterProps=["maxWidth"];const M=(0,i.Ay)({prop:"minWidth",transform:E}),L=(0,i.Ay)({prop:"height",transform:E}),I=(0,i.Ay)({prop:"maxHeight",transform:E}),P=(0,i.Ay)({prop:"minHeight",transform:E}),O=((0,i.Ay)({prop:"size",cssProperty:"width",transform:E}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:E}),o(C,D,M,L,I,P,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_},backgroundColor:{themeKey:"palette",transform:_},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:A},columnGap:{style:T},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:E},maxWidth:{style:D},minWidth:{transform:E},height:{transform:E},maxHeight:{transform:E},minHeight:{transform:E},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8099:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8283:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>h,mL:()=>u});var r=n(7370),i=n(9950),s=n(1783),o=n(6477),a=n(9015),l=(n(8603),n(3876),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return i.createElement.apply(void 0,n);var s=n.length,o=new Array(s);o[0]=r.E,o[1]=(0,r.c)(e,t);for(var a=2;a<s;a++)o[a]=n[a];return i.createElement.apply(null,o)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var u=(0,r.w)(function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T)),u=i.useRef();return(0,o.i)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),u.current=[n,r],function(){n.flush()}},[t]),(0,o.i)(function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,s.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}},[t,l.name]),null});function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function h(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},8286:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>o,iZ:()=>u,kW:()=>c,vf:()=>l,zu:()=>i});var r=n(7483);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},s={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${i[e]}px)`};function o(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||s;return t.reduce((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r),{})}if("object"===typeof t){const e=r.breakpoints||s;return Object.keys(t).reduce((r,s)=>{if(-1!==Object.keys(e.values||i).indexOf(s)){r[e.up(s)]=n(t[s],s)}else{const e=s;r[e]=t[e]}return r},{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>(t[e.up(n)]={},t),{}))||{}}function l(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function u(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];const o=[t,...i].reduce((e,t)=>(0,r.A)(e,t),{});return l(Object.keys(t),o)}function c(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),s=Object.keys(i);if(0===s.length)return t;let o;return s.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[o],o=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[o],o=n):e[n]=t,e),{})}},8345:(e,t,n)=>{"use strict";var r=n(9950),i=n(5340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,x);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var $,N=Object.assign;function F(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case A:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function se(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Te=null;function Ae(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function _e(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Te;if(Te=ke=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function De(){}var Me=!1;function Le(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ce(e,t,n)}finally{Me=!1,(null!==ke||null!==Te)&&(De(),Ee())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Pe=!1}function Re(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $e=!1,Ne=null,Fe=!1,ze=null,Ve={onError:function(e){$e=!0,Ne=e}};function je(e,t,n,r,i,s,o,a,l){$e=!1,Ne=null,Re.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ue(i),e;if(o===r)return Ue(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,qe=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Tt,At,_t=!1,Et=[],Ct=null,Dt=null,Mt=null,Lt=new Map,It=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function $t(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=xi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void At(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){_t=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Dt&&Ft(Dt)&&(Dt=null),null!==Mt&&Ft(Mt)&&(Mt=null),Lt.forEach(zt),It.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==Dt&&jt(Dt,e),null!==Mt&&jt(Mt,e),Lt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Pt.shift()}var Wt=v.ReactCurrentBatchConfig,Ut=!0;function Kt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Ht(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Gt(e,t,n,r){if(Ut){var i=Xt(e,t,n,r);if(null===i)Ur(e,t,r,Yt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=$t(Ct,e,t,n,r,i),!0;case"dragenter":return Dt=$t(Dt,e,t,n,r,i),!0;case"mouseover":return Mt=$t(Mt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lt.set(s,$t(Lt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,It.set(s,$t(It.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Xt(e,t,n,r))&&Ur(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=xi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=N({},un,{view:0,detail:0}),dn=sn(hn),pn=N({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),mn=sn(N({},pn,{dataTransfer:0})),gn=sn(N({},hn,{relatedTarget:0})),yn=sn(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(xn),vn=sn(N({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function An(){return Tn}var _n=N({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(_n),Cn=sn(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(N({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Mn=sn(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=sn(Ln),Pn=[9,13,27,32],On=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var $n=c&&"TextEvent"in window&&!Rn,Nn=c&&(!On||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Yn(e){Fr(e,0)}function Xn(e){if(G(vi(e)))return e}function qn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Le(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function sr(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,xr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Tr={};function Ar(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return kr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=Ar("animationend"),Er=Ar("animationiteration"),Cr=Ar("animationstart"),Dr=Ar("transitionend"),Mr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Mr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Lr.length;Pr++){var Or=Lr[Pr];Ir(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ir(_r,"onAnimationEnd"),Ir(Er,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Dr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(je.apply(this,arguments),$e){if(!$e)throw Error(s(198));var c=Ne;$e=!1,Ne=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,a,u),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach(function(t){"selectionchange"!==t&&($r.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(qt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=xi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Le(function(){var r=s,i=we(n),o=[];e:{var a=Mr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case _r:case Er:case Cr:l=yn;break;case Dr:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Ie(f,d))&&c.push(Kr(f,m,p)))),h)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!xi(u)&&!u[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?xi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:vi(l),p=null==u?a:vi(u),(a=new c(m,f+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,xi(i)===r&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,f=0,p=c=l;p;p=Gr(p))f++;for(p=0,m=d;m;m=Gr(m))p++;for(;0<f-p;)c=Gr(c),f--;for(;0<p-f;)d=Gr(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Yr(o,a,l,c,!1),null!==u&&null!==h&&Yr(o,h,u,c,!0)}if("select"===(l=(a=r?vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=qn;else if(Un(a))if(Qn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?vi(r):window,e){case"focusin":(Un(y)||"true"===y.contentEditable)&&(gr=y,yr=r,xr=null);break;case"focusout":xr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(o,n,i)}var x;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(x=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new vn(b,e,null,n,i),o.push({event:b,listeners:y}),x?b.data=x:null!==(x=jn(n))&&(b.data=x))),(x=$n?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=x))}Fr(o,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ie(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Ie(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ie(n,s))&&o.unshift(Kr(n,l,a)):i||null!=(l=Ie(n,s))&&o.push(Kr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(qr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function xi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[pi]||null}var Si=[],ki=-1;function Ti(e){return{current:e}}function Ai(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function _i(e,t){ki++,Si[ki]=e.current,e.current=t}var Ei={},Ci=Ti(Ei),Di=Ti(!1),Mi=Ei;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ai(Di),Ai(Ci)}function Oi(e,t,n){if(Ci.current!==Ei)throw Error(s(168));_i(Ci,t),_i(Di,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,W(e)||"Unknown",i));return N({},n,r)}function $i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Mi=Ci.current,_i(Ci,e),_i(Di,Di.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Ai(Di),Ai(Ci),_i(Ci,e)):Ai(Di),_i(Di,n)}var Fi=null,zi=!1,Vi=!1;function ji(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var Wi=[],Ui=0,Ki=null,Hi=0,Gi=[],Yi=0,Xi=null,qi=1,Qi="";function Ji(e,t){Wi[Ui++]=Hi,Wi[Ui++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Yi++]=qi,Gi[Yi++]=Qi,Gi[Yi++]=Xi,Xi=e;var r=qi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qi=1<<32-ot(t)+i|n<<i|r,Qi=s+e}else qi=1<<s|n<<i|r,Qi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=Wi[--Ui],Wi[Ui]=null,Hi=Wi[--Ui],Wi[Ui]=null;for(;e===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null,qi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:qi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=v.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&xs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Fu(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case I:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=f(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),u}function g(i,a,l,u){var c=R(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,x=l.next();null!==m&&!x.done;g++,x=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,x.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(x.done)return n(i,m),is&&Ji(i,g),c;if(null===m){for(;!x.done;g++,x=l.next())null!==(x=d(i,x.value,u))&&(a=o(x,a,g),null===h?c=x:h.sibling=x,h=x);return is&&Ji(i,g),c}for(m=r(i,m);!x.done;g++,x=l.next())null!==(x=f(m,i,g,x.value,u))&&(e&&null!==x.alternate&&m.delete(null===x.key?g:x.key),a=o(x,a,g),null===h?c=x:h.sibling=x,h=x);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&xs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((s=Ru(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Ou(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fu(o,r.mode,l)).return=r,r=s}return a(r);case I:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(R(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Nu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var vs=bs(!0),ws=bs(!1),Ss=Ti(null),ks=null,Ts=null,As=null;function _s(){As=Ts=ks=null}function Es(e){var t=Ss.current;Ai(Ss),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ds(e,t){ks=e,As=Ts=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},null===Ts){if(null===ks)throw Error(s(308));Ts=e,ks.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Ls=null;function Is(e){null===Ls?Ls=[e]:Ls.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,p=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=N({},h,d);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);$l|=o,e.lanes=o,e.memoizedState=h}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us={},Ks=Ti(Us),Hs=Ti(Us),Gs=Ti(Us);function Ys(e){if(e===Us)throw Error(s(174));return e}function Xs(e,t){switch(_i(Gs,t),_i(Hs,e),_i(Ks,Us),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Ks),_i(Ks,t)}function qs(){Ai(Ks),Ai(Hs),Ai(Gs)}function Qs(e){Ys(Gs.current);var t=Ys(Ks.current),n=le(t,e.type);t!==n&&(_i(Hs,e),_i(Ks,n))}function Js(e){Hs.current===e&&(Ai(Ks),Ai(Hs))}var Zs=Ti(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=v.ReactCurrentDispatcher,io=v.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,po=0;function fo(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function vo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,$l|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,$l|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function To(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,$o(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Lo(9,_o.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&so)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Do(e)}function Eo(e,t,n){return n(function(){Co(t)&&Do(e)})}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Do(e){var t=Os(e,1);null!==t&&nu(t,e,1,-1)}function Mo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return bo().memoizedState}function Po(e,t,n,r){var i=xo();oo.flags|=e,i.memoizedState=Lo(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Lo(t,n,s,r))}oo.flags|=e,i.memoizedState=Lo(1|t,n,s,r)}function Ro(e,t){return Po(8390656,8,e,t)}function $o(e,t){return Oo(2048,8,e,t)}function No(e,t){return Oo(4,2,e,t)}function Fo(e,t){return Oo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,zo.bind(null,t,e),n)}function jo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,$l|=n,e.baseState=!0),t)}function Ko(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ho(){return bo().memoizedState}function Go(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))qo(t,n);else if(null!==(n=Ps(e,t,n,r))){nu(n,e,r,eu()),Qo(n,t,r)}}function Yo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ps(e,t,i,r))&&(nu(n,e,r,i=eu()),Qo(n,t,r))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function qo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Jo={readContext:Ms,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ms,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Mo,useDebugValue:jo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Ko.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=xo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&so)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Lo(9,_o.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Dl.identifierPrefix;if(is){var n=Qi;t=":"+t+"R"+(n=(qi&~(1<<32-ot(qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ms,useCallback:Bo,useContext:Ms,useEffect:$o,useImperativeHandle:Vo,useInsertionEffect:No,useLayoutEffect:Fo,useMemo:Wo,useReducer:wo,useRef:Io,useState:function(){return wo(vo)},useDebugValue:jo,useDeferredValue:function(e){return Uo(bo(),ao.memoizedState,e)},useTransition:function(){return[wo(vo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Ho,unstable_isNewReconciler:!1},ta={readContext:Ms,useCallback:Bo,useContext:Ms,useEffect:$o,useImperativeHandle:Vo,useInsertionEffect:No,useLayoutEffect:Fo,useMemo:Wo,useReducer:So,useRef:Io,useState:function(){return So(vo)},useDebugValue:jo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Uo(t,ao.memoizedState,e)},useTransition:function(){return[So(vo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Ho,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(nu(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ei,s=t.contextType;return"object"===typeof s&&null!==s?s=Ms(s):(i=Ii(t)?Mi:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Ei),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$s(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ms(s):(s=Ii(t)?Mi:Ci.current,i.context=Li(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,Kl=r),ha(0,t)},n}function fa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=v.ReactCurrentOwner,ba=!1;function va(e,t,n,r){t.child=null===e?ws(t,null,n,r):vs(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var s=t.ref;return Ds(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||ba?(is&&n&&es(t),t.flags|=1,va(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Iu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ka(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,(e=Pu(s,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ua(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return _a(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_i(Pl,Il),Il|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_i(Pl,Il),Il|=r;return va(e,t,i,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,r,i){var s=Ii(n)?Mi:Ci.current;return s=Li(t,s),Ds(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||ba?(is&&r&&es(t),t.flags|=1,va(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function Ea(e,t,n,r,i){if(Ii(n)){var s=!0;$i(t)}else s=!1;if(Ds(t,i),null===t.stateNode)Wa(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ms(u):u=Li(t,u=Ii(n)?Mi:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Rs=!1;var d=t.memoizedState;o.state=d,Bs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Di.current||Rs?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Rs||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ns(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ms(l):l=Li(t,l=Ii(n)?Mi:Ci.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Rs=!1,d=t.memoizedState,o.state=d,Bs(t,r,o,i);var f=t.memoizedState;a!==h||d!==f||Di.current||Rs?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(u=Rs||sa(t,n,u,r,d,f,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,s,i)}function Ca(e,t,n,r,i,s){Aa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ni(t,n,!1),Ua(e,t,s);r=t.stateNode,xa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,a,s)):va(e,t,a,s),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Da(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xs(e,t.containerInfo)}function Ma(e,t,n,r,i){return ps(),fs(i),t.flags|=256,va(e,t,n,r),t.child}var La,Ia,Pa,Oa,Ra={dehydrated:null,treeContext:null,retryLane:0};function $a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=$u(l,i,0,null),e=Ru(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=$a(n),t.memoizedState=Ra,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$u({mode:"visible",children:r.children},i,0,null),(o=Ru(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&vs(t,e.child,null,a),t.child.memoizedState=$a(a),t.memoizedState=Ra,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Dl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),nu(r,e,i,-1))}return mu(),za(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Yi++]=qi,Gi[Yi++]=Qi,Gi[Yi++]=Xi,qi=e.id,Qi=e.overflow,Xi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Pu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Pu(r,a):(a=Ru(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?$a(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Pu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=$u({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&fs(r),vs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function ja(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(va(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,s);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ii(t.type)&&Pi(),Ha(t),null;case 3:return r=t.stateNode,qs(),Ai(Di),Ai(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Ia(e,t),Ha(t),null;case 5:Js(t);var i=Ys(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=Ys(Ks.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":q(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in xe(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,La(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":q(e,r),i=X(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in xe(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(Ks.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ai(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return qs(),Ia(e,t),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return Es(t.type._context),Ha(t),null;case 19:if(Ai(Zs),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Bl&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*Qe()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=Zs.current,_i(Zs,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qs(),Ai(Di),Ai(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ai(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Zs),null;case 4:return qs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}La=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Ks.current);var s,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in xe(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,qa=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:qa||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tu(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(qa=(r=qa)||null!==n.memoizedState,dl(e,t,n),qa=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach(function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));pl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Tu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Tu(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),be(l,a);var c=be(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Tu(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tu(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tu(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Qe())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(qa=(c=qa)||h,ml(t,e),qa=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tu(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Ja=f):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Tu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Tu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Tu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||qa;a=Xa;var u=qa;if(Xa=o,(qa=l)&&!u)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Ja=l):Sl(i);for(;null!==s;)Ja=s,bl(s,t,n),s=s.sibling;Ja=i,Xa=a,qa=u}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):vl(e)}}function vl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ws(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}qa||512&t.flags&&il(t)}catch(p){Tu(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Tu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Tu(t,o,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,Tl=Math.ceil,Al=v.ReactCurrentDispatcher,_l=v.ReactCurrentOwner,El=v.ReactCurrentBatchConfig,Cl=0,Dl=null,Ml=null,Ll=0,Il=0,Pl=Ti(0),Ol=0,Rl=null,$l=0,Nl=0,Fl=0,zl=null,Vl=null,jl=0,Bl=1/0,Wl=null,Ul=!1,Kl=null,Hl=null,Gl=!1,Yl=null,Xl=0,ql=0,Ql=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Cl)?Qe():-1!==Jl?Jl:Jl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ll?Ll&-Ll:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function nu(e,t,n,r){if(50<ql)throw ql=0,Ql=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Dl||(e===Dl&&(0===(2&Cl)&&(Nl|=n),4===Ol&&au(e,Ll)),ru(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Qe()+500,zi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Dl?Ll:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(lu.bind(null,e)):ji(lu.bind(null,e)),oi(function(){0===(6&Cl)&&Bi()}),n=null;else{switch(vt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Du(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Cl;Cl|=2;var o=fu();for(Dl===e&&Ll===t||(Wl=null,Bl=Qe()+500,du(e,t));;)try{xu();break}catch(l){pu(e,l)}_s(),Al.current=o,Cl=i,null!==Ml?t=0:(Dl=null,Ll=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=su(e,i))),1===t)throw n=Rl,du(e,0),au(e,r),ru(e,Qe()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=ft(e))&&(r=o,t=su(e,o))),1===t))throw n=Rl,du(e,0),au(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wu(e,Vl,Wl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=jl+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Vl,Wl),t);break}wu(e,Vl,Wl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Vl,Wl),r);break}wu(e,Vl,Wl);break;default:throw Error(s(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Vl,Vl=n,null!==t&&ou(t)),e}function ou(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function au(e,t){for(t&=~Fl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Cl))throw Error(s(327));Su();var t=dt(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Rl,du(e,0),au(e,t),ru(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Vl,Wl),ru(e,Qe()),null}function uu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Qe()+500,zi&&Bi())}}function cu(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&Su();var t=Cl;Cl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Cl=t))&&Bi()}}function hu(){Il=Pl.current,Ai(Pl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:qs(),Ai(Di),Ai(Ci),no();break;case 5:Js(r);break;case 4:qs();break;case 13:case 19:Ai(Zs);break;case 10:Es(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Dl=e,Ml=e=Pu(e.current,null),Ll=Il=t,Ol=0,Rl=null,Fl=Nl=$l=0,Vl=zl=null,null!==Ls){for(t=0;t<Ls.length;t++)if(null!==(r=(n=Ls[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ls=null}return e}function pu(e,t){for(;;){var n=Ml;try{if(_s(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,_l.current=null,null===n||null===n.return){Ol=1,Rl=t,Ml=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ll,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ma(o,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),fs(ua(u,l));break e}}o=u=ua(u,l),4!==Ol&&(Ol=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,pa(0,u,t));break e;case 1:l=u;var x=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}vu(n)}catch(v){t=v,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function fu(){var e=Al.current;return Al.current=Jo,null===e?Jo:e}function mu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Dl||0===(268435455&$l)&&0===(268435455&Nl)||au(Dl,Ll)}function gu(e,t){var n=Cl;Cl|=2;var r=fu();for(Dl===e&&Ll===t||(Wl=null,du(e,t));;)try{yu();break}catch(i){pu(e,i)}if(_s(),Cl=n,Al.current=r,null!==Ml)throw Error(s(261));return Dl=null,Ll=0,Ol}function yu(){for(;null!==Ml;)bu(Ml)}function xu(){for(;null!==Ml&&!Xe();)bu(Ml)}function bu(e){var t=kl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?vu(e):Ml=t,_l.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Il)))return void(Ml=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Ol=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Ol&&(Ol=5)}function wu(e,t,n){var r=bt,i=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Yl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Dl&&(Ml=Dl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Du(tt,function(){return Su(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var a=bt;bt=1;var l=Cl;Cl|=4,_l.current=null,function(e,t){if(ei=Ut,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++c===i&&(l=a),p===o&&++h===r&&(u=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(w){Tu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Ut=!!ei,ti=ei=null,e.current=n,xl(n,e,i),qe(),Cl=l,bt=a,El.transition=o}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Su(),o=e.pendingLanes,0!==(1&o)?e===Ql?ql++:(ql=0,Ql=e):ql=0,Bi()}(e,t,n,r)}finally{El.transition=i,bt=r}return null}function Su(){if(null!==Yl){var e=vt(Xl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var p=(h=Ja).sibling,f=h.return;if(sl(h),h===c){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var x=o.sibling;if(null!==x){x.return=o.return,Ja=x;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var v=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==v)v.return=a,Ja=v;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Tu(l,l.return,S)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Cl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function ku(e,t,n){e=zs(e,t=pa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Tu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=zs(t,e=fa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Ll&n)===n&&(4===Ol||3===Ol&&(130023424&Ll)===Ll&&500>Qe()-jl?du(e,0):Fl|=n),ru(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Os(e,t))&&(yt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_u(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_u(e,n)}function Du(e,t){return Ge(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,r){return new Mu(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Iu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Ru(n.children,i,o,t);case T:a=8,i|=8;break;case A:return(e=Lu(12,n,t,2|i)).elementType=A,e.lanes=o,e;case D:return(e=Lu(13,n,t,i)).elementType=D,e.lanes=o,e;case M:return(e=Lu(19,n,t,i)).elementType=M,e.lanes=o,e;case P:return $u(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case E:a=9;break e;case C:a=11;break e;case L:a=14;break e;case I:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ru(e,t,n,r){return(e=Lu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Lu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,s,o,a,l){return e=new zu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(s),e}function ju(e){if(!e)return Ei;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ri(e,n,t)}return t}function Bu(e,t,n,r,i,s,o,a,l){return(e=Vu(n,r,!0,e,0,s,0,a,l)).context=ju(null),n=e.current,(s=Fs(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,o))&&(nu(e,i,o,s),Vs(e,i,o)),o}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Da(t),ps();break;case 5:Qs(t);break;case 1:Ii(t.type)&&$i(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Na(e,t,n):(_i(Zs,1&Zs.current),null!==(e=Ua(e,t,n))?e.sibling:null);_i(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ua(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Li(t,Ci.current);Ds(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,$i(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$s(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),va(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===L)return 14}return 2}(r),e=na(r,e),i){case 0:t=_a(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Da(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ns(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ma(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ma(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Ua(e,t,n);break e}va(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Aa(e,t),va(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Na(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vs(t,null,r,n):va(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return va(e,t,t.pendingProps,n),t.child;case 8:case 12:return va(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,_i(Ss,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Di.current){t=Ua(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Fs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}va(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ds(t,n),r=r(i=Ms(i)),t.flags|=1,va(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Wa(e,t),t.tag=1,Ii(r)?(e=!0,$i(t)):e=!1,Ds(t,n),oa(t,r,i),la(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Uu(o);a.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Uu(o);s.call(e)}}var o=Bu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Uu(l);a.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu(function(){Wu(t,l,n,r)}),l}(n,t,e,i,r);return Uu(o)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wu(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Wu(null,e,null,null)}),t[fi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(xt(t,1|n),ru(t,Qe()),0===(6&Cl)&&(Bl=Qe()+500,Bi()))}break;case 13:cu(function(){var t=Os(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Hu(e,1)}},St=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Os(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Tt=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,De=cu;var ec={usingClientEntryPoint:!1,Events:[bi,vi,wi,_e,Ee,uu]},tc={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!qu(e))throw Error(s(299));var n=!1,r="",i=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!qu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,o,a),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>s});var r=n(6879);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function s(e){const t=`${e}`.match(i);return t&&t[1]||""}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||s(e)||t}function a(e,t,n){const r=o(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return o(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8603:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),i=Math.abs,s=String.fromCharCode,o=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function d(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,y=0,x=0,b=0,v="";function w(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:m,column:g,length:o,return:""}}function S(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=x>0?c(v,--x):0,g--,10===b&&(g=1,m--),b}function T(){return b=x<y?c(v,x++):0,g++,10===b&&(g=1,m++),b}function A(){return c(v,x)}function _(){return x}function E(e,t){return h(v,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(e){return m=g=1,y=d(v=e),x=0,[]}function M(e){return v="",e}function L(e){return a(E(x-1,O(91===e?e+2:40===e?e+1:e)))}function I(e){for(;(b=A())&&b<33;)T();return C(e)>2||C(b)>3?"":" "}function P(e,t){for(;--t&&T()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return E(e,_()+(t<6&&32==A()&&32==T()))}function O(e){for(;T();)switch(b){case e:return x;case 34:case 39:34!==e&&39!==e&&O(b);break;case 40:41===e&&O(e);break;case 92:T()}return x}function R(e,t){for(;T()&&e+b!==57&&(e+b!==84||47!==A()););return"/*"+E(t,x-1)+"*"+s(47===e?e:T())}function $(e){for(;!C(A());)T();return E(e,x)}var N="-ms-",F="-moz-",z="-webkit-",V="comm",j="rule",B="decl",W="@keyframes";function U(e,t){for(var n="",r=p(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case V:return"";case W:return e.return=e.value+"{"+U(e.children,r)+"}";case j:e.value=e.props.join(",")}return d(n=U(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return M(G("",null,null,null,[""],e=D(e),0,[0],e))}function G(e,t,n,r,i,o,a,h,p){for(var m=0,g=0,y=a,x=0,b=0,v=0,w=1,S=1,E=1,C=0,D="",M=i,O=o,N=r,F=D;S;)switch(v=C,C=T()){case 40:if(108!=v&&58==c(F,y-1)){-1!=u(F+=l(L(C),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:F+=L(C);break;case 9:case 10:case 13:case 32:F+=I(v);break;case 92:F+=P(_()-1,7);continue;case 47:switch(A()){case 42:case 47:f(X(R(T(),_()),t,n),p);break;default:F+="/"}break;case 123*w:h[m++]=d(F)*E;case 125*w:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==E&&(F=l(F,/\f/g,"")),b>0&&d(F)-y&&f(b>32?q(F+";",r,n,y-1):q(l(F," ","")+";",r,n,y-2),p);break;case 59:F+=";";default:if(f(N=Y(F,t,n,m,g,i,h,D,M=[],O=[],y),o),123===C)if(0===g)G(F,t,N,N,M,o,y,h,O);else switch(99===x&&110===c(F,3)?100:x){case 100:case 108:case 109:case 115:G(e,N,N,r&&f(Y(e,N,N,0,0,i,h,D,i,M=[],y),O),i,O,y,h,r?M:O);break;default:G(F,N,N,N,[""],O,0,h,O)}}m=g=b=0,w=E=1,D=F="",y=a;break;case 58:y=1+d(F),b=v;default:if(w<1)if(123==C)--w;else if(125==C&&0==w++&&125==k())continue;switch(F+=s(C),C*w){case 38:E=g>0?1:(F+="\f",-1);break;case 44:h[m++]=(d(F)-1)*E,E=1;break;case 64:45===A()&&(F+=L(T())),x=A(),g=y=d(D=F+=$(_())),C++;break;case 45:45===v&&2==d(F)&&(w=0)}}return o}function Y(e,t,n,r,s,o,u,c,d,f,m){for(var g=s-1,y=0===s?o:[""],x=p(y),b=0,v=0,S=0;b<r;++b)for(var k=0,T=h(e,g+1,g=i(v=u[b])),A=e;k<x;++k)(A=a(v>0?y[k]+" "+T:l(T,/&\f/g,y[k])))&&(d[S++]=A);return w(e,t,n,0===s?j:c,d,f,m)}function X(e,t,n){return w(e,t,n,V,s(b),h(e,2,-2),0)}function q(e,t,n,r){return w(e,t,n,B,h(e,0,r),h(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,i=0;r=i,i=A(),38===r&&12===i&&(t[n]=1),!C(i);)T();return E(e,x)},J=function(e,t){return M(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===A()&&(t[n]=1),e[n]+=Q(x-1,t,n);break;case 2:e[n]+=L(r);break;case 4:if(44===r){e[++n]=58===A()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=s(r)}}while(r=T());return e}(D(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],s=J(t,i),o=n.props,a=0,l=0;a<s.length;a++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[a]?s[a].replace(/&\f/g,o[u]):o[u]+" "+s[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+N+e+e;case 6828:case 4268:return z+e+N+e+e;case 6165:return z+e+N+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+N+"flex-$1$2")+e;case 5443:return z+e+N+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+N+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+N+l(e,"shrink","negative")+e;case 5292:return z+e+N+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+N+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+N+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,d(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===c(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+N+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return z+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+N+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+N+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case W:return U([S(e,{value:l(e.value,"@","@"+z)})],r);case j:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return U([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,N+"input-$1")]})],r)}return""})}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i,s,o=e.stylisPlugins||re,a={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)});var u,c,h=[K,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=p(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}([ee,te].concat(o,h));s=function(e,t,n,r){u=n,U(H(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return f.sheet.hydrate(l),f}},8807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>s.A});var r=n(505),i=n(237),s=n(8076)},9015:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(7923),s=!1,o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)(function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()}),h=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,function(e,t,n){return f={name:t,styles:n,next:f},t})}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},d="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return f={name:i.name,styles:i.styles,next:f},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=p(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=o+"{"+t[l]+"}":u(l)&&(r+=c(o)+":"+h(o,l)+";")}else{if("NO_COMPONENT_SELECTOR"===o&&s)throw new Error(d);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+f+";";break;default:r+=o+"{"+f+"}"}}else for(var m=0;m<a.length;m++)u(a[m])&&(r+=c(o)+":"+h(o,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var y=t[g];return void 0!==y?y:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";f=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=p(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++){if(i+=p(n,t,e[o]),r)i+=s[o]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(i));)l+="-"+a[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:f}}},9234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8099)},9269:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=d(e),r=d(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(9234)),s=r(n(9344));function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,s.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),r=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else s=s.split(",");return s=s.map(e=>parseFloat(e)),{type:n,values:s,colorSpace:r}}const u=e=>{const t=l(e);return t.values.slice(0,3).map((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e).join(" ")};function c(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function h(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",u.push(t[3])),c({type:a,values:u})}function d(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(h(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function f(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function m(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return d(e)>.5?f(e,t):m(e,t)}},9344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6747)},9904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>s.A});var r=n(2860),i=n(3628),s=n(86)},9950:(e,t,n)=>{"use strict";e.exports=n(2049)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(9950),t=n.t(e,2),r=n(1352),i=n(8587),s=n(8168);function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const a=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r},l=e=>e,u=(()=>{let e=l;return{configure(t){e=t},generate:t=>e(t),reset(){e=l}}})(),c={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function h(e,t){const n=c[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${u.generate(e)}-${t}`}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}var p=n(5501);function f(e,t){const n=(0,s.A)({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,s.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=(0,s.A)({},o),Object.keys(i).forEach(e=>{n[r][e]=f(i[e],o[e])})):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])}),n}function m(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?f(t.components[n].defaultProps,r):r}var g=n(2860),y=n(7370);const x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=e.useContext(y.T);return n&&(r=n,0!==Object.keys(r).length)?n:t;var r},b=(0,g.A)();const v=function(){return x(arguments.length>0&&void 0!==arguments[0]?arguments[0]:b)};function w(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,s=v(r);i&&(s=s[i]||s);return m({theme:s,name:n,props:t})}var S=n(116),k=n(7483),T=n(505);const A=["ownerState"],_=["variants"],E=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function C(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function D(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const M=(0,g.A)(),L=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function I(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function P(e){return e?(t,n)=>n[e]:null}function O(e,t,n){let{ownerState:r}=t,o=(0,i.A)(t,A);const a="function"===typeof e?e((0,s.A)({ownerState:r},o)):e;if(Array.isArray(a))return a.flatMap(e=>O(e,(0,s.A)({ownerState:r},o),n));if(a&&"object"===typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,i.A)(a,_);return e.forEach(e=>{let i=!0;if("function"===typeof e.props?i=e.props((0,s.A)({ownerState:r},o,r)):Object.keys(e.props).forEach(t=>{(null==r?void 0:r[t])!==e.props[t]&&o[t]!==e.props[t]&&(i=!1)}),i){Array.isArray(t)||(t=[t]);const i="function"===typeof e.style?e.style((0,s.A)({ownerState:r},o,r)):e.style;t.push(n?D((0,S.internal_serializeStyles)(i),n):i)}}),t}return n?D((0,S.internal_serializeStyles)(a),n):a}const R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=M,rootShouldForwardProp:r=C,slotShouldForwardProp:o=C}=e,a=e=>(0,T.A)((0,s.A)({},e,{theme:I((0,s.A)({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,S.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:h,skipSx:d,overridesResolver:p=P(L(c))}=l,f=(0,i.A)(l,E),m=u&&u.startsWith("Mui")||c?"components":"custom",g=void 0!==h?h:c&&"Root"!==c&&"root"!==c||!1,y=d||!1;let x=C;"Root"===c||"root"===c?x=r:c?x=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(x=void 0);const b=(0,S.default)(e,(0,s.A)({shouldForwardProp:x,label:undefined},f)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,k.Q)(e)?r=>{const i=I({theme:r.theme,defaultTheme:n,themeId:t});return O(e,(0,s.A)({},r,{theme:i}),i.modularCssLayers?m:void 0)}:e,w=function(r){let i=v(r);for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];const h=l?l.map(v):[];u&&p&&h.push(e=>{const r=I((0,s.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[u]||!r.components[u].styleOverrides)return null;const i=r.components[u].styleOverrides,o={};return Object.entries(i).forEach(t=>{let[n,i]=t;o[n]=O(i,(0,s.A)({},e,{theme:r}),r.modularCssLayers?"theme":void 0)}),p(e,o)}),u&&!g&&h.push(e=>{var r;const i=I((0,s.A)({},e,{defaultTheme:n,themeId:t}));return O({variants:null==i||null==(r=i.components)||null==(r=r[u])?void 0:r.variants},(0,s.A)({},e,{theme:i}),i.modularCssLayers?"theme":void 0)}),y||h.push(a);const d=h.length-l.length;if(Array.isArray(r)&&d>0){const e=new Array(d).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const f=b(i,...h);return e.muiName&&(f.muiName=e.muiName),f};return b.withConfig&&(w.withConfig=b.withConfig),w}}(),$=R;var N=n(4414);const F=["className","component","disableGutters","fixed","maxWidth","classes"],z=(0,g.A)(),V=$("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,p.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),j=e=>w({props:e,name:"MuiContainer",defaultTheme:z});const B=p.A;var W=n(7295),U=n(8099),K=n(8076);function H(e,t){return(0,s.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var G=n(9269);const Y={black:"#000",white:"#fff"},X={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},q={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Q={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},J={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Z={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ee={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},te={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ne=["mode","contrastThreshold","tonalOffset"],re={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Y.white,default:Y.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ie={text:{primary:Y.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Y.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function se(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,G.a)(e.main,i):"dark"===t&&(e.dark=(0,G.e$)(e.main,s)))}function oe(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=(0,i.A)(e,ne),a=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Z[200],light:Z[50],dark:Z[400]}:{main:Z[700],light:Z[400],dark:Z[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:q[200],light:q[50],dark:q[400]}:{main:q[500],light:q[300],dark:q[700]}}(t),u=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Q[500],light:Q[300],dark:Q[700]}:{main:Q[700],light:Q[400],dark:Q[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ee[400],light:ee[300],dark:ee[700]}:{main:ee[700],light:ee[500],dark:ee[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:te[400],light:te[300],dark:te[700]}:{main:te[800],light:te[500],dark:te[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:J[400],light:J[300],dark:J[700]}:{main:"#ed6c02",light:J[500],dark:J[900]}}(t);function p(e){return(0,G.eM)(e,ie.text.primary)>=n?ie.text.primary:re.text.primary}const f=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t=(0,s.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,U.A)(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error((0,U.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return se(t,"light",o,r),se(t,"dark",a,r),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:ie,light:re};return(0,k.A)((0,s.A)({common:(0,s.A)({},Y),mode:t,primary:f({color:a,name:"primary"}),secondary:f({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:u,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:h,name:"success"}),grey:X,contrastThreshold:n,getContrastText:p,augmentColor:f,tonalOffset:r},m[t]),o)}const ae=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function le(e){return Math.round(1e5*e)/1e5}const ue={textTransform:"uppercase"},ce='"Roboto", "Helvetica", "Arial", sans-serif';function he(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=ce,fontSize:o=14,fontWeightLight:a=300,fontWeightRegular:l=400,fontWeightMedium:u=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:d,pxToRem:p}=n,f=(0,i.A)(n,ae);const m=o/14,g=p||(e=>e/h*m+"rem"),y=(e,t,n,i,o)=>(0,s.A)({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===ce?{letterSpacing:`${le(i/t)}em`}:{},o,d),x={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(l,48,1.167,0),h4:y(l,34,1.235,.25),h5:y(l,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(l,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(l,16,1.5,.15),body2:y(l,14,1.43,.15),button:y(u,14,1.75,.4,ue),caption:y(l,12,1.66,.4),overline:y(l,12,2.66,1,ue),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,k.A)((0,s.A)({htmlFontSize:h,pxToRem:g,fontFamily:r,fontSize:o,fontWeightLight:a,fontWeightRegular:l,fontWeightMedium:u,fontWeightBold:c},x),f,{clone:!1})}function de(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const pe=["none",de(0,2,1,-1,0,1,1,0,0,1,3,0),de(0,3,1,-2,0,2,2,0,0,1,5,0),de(0,3,3,-2,0,3,4,0,0,1,8,0),de(0,2,4,-1,0,4,5,0,0,1,10,0),de(0,3,5,-1,0,5,8,0,0,1,14,0),de(0,3,5,-1,0,6,10,0,0,1,18,0),de(0,4,5,-2,0,7,10,1,0,2,16,1),de(0,5,5,-3,0,8,10,1,0,3,14,2),de(0,5,6,-3,0,9,12,1,0,3,16,2),de(0,6,6,-3,0,10,14,1,0,4,18,3),de(0,6,7,-4,0,11,15,1,0,4,20,3),de(0,7,8,-4,0,12,17,2,0,5,22,4),de(0,7,8,-4,0,13,19,2,0,5,24,4),de(0,7,9,-4,0,14,21,2,0,5,26,4),de(0,8,9,-5,0,15,22,2,0,6,28,5),de(0,8,10,-5,0,16,24,2,0,6,30,5),de(0,8,11,-5,0,17,26,2,0,6,32,5),de(0,9,11,-5,0,18,28,2,0,7,34,6),de(0,9,12,-6,0,19,29,2,0,7,36,6),de(0,10,13,-6,0,20,31,3,0,8,38,7),de(0,10,13,-6,0,21,33,3,0,8,40,7),de(0,10,14,-6,0,22,35,3,0,8,42,7),de(0,11,14,-7,0,23,36,3,0,9,44,8),de(0,11,15,-7,0,24,38,3,0,9,46,8)],fe=["duration","easing","delay"],me={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ge={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ye(e){return`${Math.round(e)}ms`}function xe(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function be(e){const t=(0,s.A)({},me,e.easing),n=(0,s.A)({},ge,e.duration);return(0,s.A)({getAutoHeightDuration:xe,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:s=n.standard,easing:o=t.easeInOut,delay:a=0}=r;(0,i.A)(r,fe);return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"===typeof s?s:ye(s)} ${o} ${"string"===typeof a?a:ye(a)}`).join(",")}},e,{easing:t,duration:n})}const ve={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},we=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:o={}}=e,a=(0,i.A)(e,we);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,U.A)(18));const l=oe(n),u=(0,g.A)(e);let c=(0,k.A)(u,{mixins:H(u.breakpoints,t),palette:l,shadows:pe.slice(),typography:he(l,o),transitions:be(r),zIndex:(0,s.A)({},ve)});c=(0,k.A)(c,a);for(var h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return c=d.reduce((e,t)=>(0,k.A)(e,t),c),c.unstable_sxConfig=(0,s.A)({},K.A,null==a?void 0:a.unstable_sxConfig),c.unstable_sx=function(e){return(0,T.A)({sx:e,theme:this})},c}const ke=Se,Te=ke(),Ae="$$material";const _e=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ee=e=>_e(e)&&"classes"!==e,Ce=(0,W.Ay)({themeId:Ae,defaultTheme:Te,rootShouldForwardProp:Ee}),De=e.createContext(void 0);function Me(t){let{props:n,name:r}=t;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?f(i.defaultProps,r):i.styleOverrides||i.variants?r:f(i,r)}({props:n,name:r,theme:{components:e.useContext(De)}})}const Le=function(e){let{value:t,children:n}=e;return(0,N.jsx)(De.Provider,{value:t,children:n})};function Ie(e){return Me(e)}const Pe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=V,useThemeProps:r=j,componentName:o="MuiContainer"}=t,l=n(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),e},{})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})}),u=e.forwardRef(function(e,t){const n=r(e),{className:u,component:c="div",disableGutters:f=!1,fixed:m=!1,maxWidth:g="lg"}=n,y=(0,i.A)(n,F),x=(0,s.A)({},n,{component:c,disableGutters:f,fixed:m,maxWidth:g}),b=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:s}=e;return d({root:["root",s&&`maxWidth${(0,p.A)(String(s))}`,r&&"fixed",i&&"disableGutters"]},e=>h(t,e),n)})(x,o);return(0,N.jsx)(l,(0,s.A)({as:c,ownerState:x,className:a(b.root,u),ref:t},y))});return u}({createStyledComponent:Ce("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${B(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ie({props:e,name:"MuiContainer"})}),Oe=Pe;var Re=n(237);const $e=["className","component"];function Ne(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=h(e,t,n)}),r}const Fe=Ne("MuiBox",["root"]),ze=ke(),Ve=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:l}=t,u=(0,S.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(T.A),c=e.forwardRef(function(e,t){const c=v(r),h=(0,Re.A)(e),{className:d,component:p="div"}=h,f=(0,i.A)(h,$e);return(0,N.jsx)(u,(0,s.A)({as:p,ref:t,className:a(d,l?l(o):o),theme:n&&c[n]||c},f))});return c}({themeId:Ae,defaultTheme:ze,defaultClassName:Fe.root,generateClassName:u.generate}),je=Ve;function Be(e){return h("MuiTypography",e)}Ne("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const We=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ue=Ce("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${B(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),Ke={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},He={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ge=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiTypography"}),r=(e=>He[e]||e)(n.color),o=(0,Re.A)((0,s.A)({},n,{color:r})),{align:l="inherit",className:u,component:c,gutterBottom:h=!1,noWrap:p=!1,paragraph:f=!1,variant:m="body1",variantMapping:g=Ke}=o,y=(0,i.A)(o,We),x=(0,s.A)({},o,{align:l,color:r,className:u,component:c,gutterBottom:h,noWrap:p,paragraph:f,variant:m,variantMapping:g}),b=c||(f?"p":g[m]||Ke[m])||"span",v=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=e;return d({root:["root",s,"inherit"!==e.align&&`align${B(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Be,o)})(x);return(0,N.jsx)(Ue,(0,s.A)({as:b,ref:t,ownerState:x,className:a(v.root,u)},y))}),Ye=Ge;function Xe(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function qe(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo(()=>n.every(e=>null==e)?null:e=>{n.forEach(t=>{Xe(t,e)})},n)}const Qe=function(e){return"string"===typeof e};const Je=function(e,t,n){return void 0===e||Qe(e)?t:(0,s.A)({},t,{ownerState:(0,s.A)({},t.ownerState,n)})};const Ze=function(e,t,n){return"function"===typeof e?e(t,n):e};const et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const tt=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const nt=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=a(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,s.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),l=(0,s.A)({},n,i,r);return e.length>0&&(l.className=e),Object.keys(t).length>0&&(l.style=t),{props:l,internalRef:void 0}}const l=et((0,s.A)({},i,r)),u=tt(r),c=tt(i),h=t(l),d=a(null==h?void 0:h.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),p=(0,s.A)({},null==h?void 0:h.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),f=(0,s.A)({},h,n,c,u);return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:h.ref}},rt=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],it=["component","slots","slotProps"],st=["component"];function ot(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:a,getSlotOwnerState:l,internalForwardedProps:u}=t,c=(0,i.A)(t,rt),{component:h,slots:d={[e]:void 0},slotProps:p={[e]:void 0}}=a,f=(0,i.A)(a,it),m=d[e]||r,g=Ze(p[e],o),y=nt((0,s.A)({className:n},c,{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:x},internalRef:b}=y,v=(0,i.A)(y.props,st),w=qe(b,null==g?void 0:g.ref,t.ref),S=l?l(v):{},k=(0,s.A)({},o,S),T="root"===e?x||h:x,A=Je(m,(0,s.A)({},"root"===e&&!h&&!d[e]&&u,"root"!==e&&!d[e]&&u,v,T&&{as:T},{ref:w}),k);return Object.keys(S).forEach(e=>{delete A[e]}),[m,A]}const at=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function lt(e){return h("MuiPaper",e)}Ne("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ut=["className","component","elevation","square","variant"],ct=Ce("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(e=>{let{theme:t,ownerState:n}=e;var r;return(0,s.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,s.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,G.X4)("#fff",at(n.elevation))}, ${(0,G.X4)("#fff",at(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))}),ht=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:l=1,square:u=!1,variant:c="elevation"}=n,h=(0,i.A)(n,ut),p=(0,s.A)({},n,{component:o,elevation:l,square:u,variant:c}),f=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return d({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},lt,i)})(p);return(0,N.jsx)(ct,(0,s.A)({as:o,ownerState:p,className:a(f.root,r),ref:t},h))});function dt(e){return h("MuiAlert",e)}const pt=Ne("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),ft=qe,mt="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;const gt=function(t){const n=e.useRef(t);return mt(()=>{n.current=t}),e.useRef(function(){return(0,n.current)(...arguments)}).current},yt=gt,xt={};const bt=[];class vt{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new vt}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function wt(){const t=function(t,n){const r=e.useRef(xt);return r.current===xt&&(r.current=t(n)),r}(vt.create).current;var n;return n=t.disposeEffect,e.useEffect(n,bt),t}let St=!0,kt=!1;const Tt=new vt,At={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function _t(e){e.metaKey||e.altKey||e.ctrlKey||(St=!0)}function Et(){St=!1}function Ct(){"hidden"===this.visibilityState&&kt&&(St=!0)}function Dt(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return St||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!At[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const Mt=function(){const t=e.useCallback(e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",_t,!0),t.addEventListener("mousedown",Et,!0),t.addEventListener("pointerdown",Et,!0),t.addEventListener("touchstart",Et,!0),t.addEventListener("visibilitychange",Ct,!0))},[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Dt(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(kt=!0,Tt.start(100,()=>{kt=!1}),n.current=!1,!0)},ref:t}};function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e,t){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},It(e,t)}function Pt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,It(e,t)}const Ot=e.createContext(null);function Rt(t,n){var r=Object.create(null);return t&&e.Children.map(t,function(e){return e}).forEach(function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)}),r}function $t(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Nt(t,n,r){var i=Rt(t.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var o in e)o in t?s.length&&(i[o]=s,s=[]):s.push(o);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];a[i[l][r]]=n(u)}a[l]=n(l)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(n,i);return Object.keys(s).forEach(function(o){var a=s[o];if((0,e.isValidElement)(a)){var l=o in n,u=o in i,c=n[o],h=(0,e.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,e.isValidElement)(c)&&(s[o]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:c.props.in,exit:$t(a,"exit",t),enter:$t(a,"enter",t)})):s[o]=(0,e.cloneElement)(a,{in:!1}):s[o]=(0,e.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:$t(a,"exit",t),enter:$t(a,"enter",t)})}}),s}var Ft=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},zt=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(Lt(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Pt(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,s=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,Rt(r.children,function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:$t(t,"appear",r),enter:$t(t,"enter",r),exit:$t(t,"exit",r)})})):Nt(t,s,o),firstRender:!1}},r.handleExited=function(e,t){var n=Rt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,s.A)({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,s=(0,i.A)(t,["component","childFactory"]),o=this.state.contextValue,a=Ft(this.state.children).map(r);return delete s.appear,delete s.enter,delete s.exit,null===n?e.createElement(Ot.Provider,{value:o},a):e.createElement(Ot.Provider,{value:o},e.createElement(n,s,a))},n}(e.Component);zt.propTypes={},zt.defaultProps={component:"div",childFactory:function(e){return e}};const Vt=zt;var jt=n(8283);const Bt=function(t){const{className:n,classes:r,pulsate:i=!1,rippleX:s,rippleY:o,rippleSize:l,in:u,onExited:c,timeout:h}=t,[d,p]=e.useState(!1),f=a(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),m={width:l,height:l,top:-l/2+o,left:-l/2+s},g=a(r.child,d&&r.childLeaving,i&&r.childPulsate);return u||d||p(!0),e.useEffect(()=>{if(!u&&null!=c){const e=setTimeout(c,h);return()=>{clearTimeout(e)}}},[c,u,h]),(0,N.jsx)("span",{className:f,style:m,children:(0,N.jsx)("span",{className:g})})};const Wt=Ne("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ut=["center","classes","className"];let Kt,Ht,Gt,Yt,Xt=e=>e;const qt=(0,jt.i7)(Kt||(Kt=Xt`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Qt=(0,jt.i7)(Ht||(Ht=Xt`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Jt=(0,jt.i7)(Gt||(Gt=Xt`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Zt=Ce("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),en=Ce(Bt,{name:"MuiTouchRipple",slot:"Ripple"})(Yt||(Yt=Xt`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Wt.rippleVisible,qt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Wt.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},Wt.child,Wt.childLeaving,Qt,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},Wt.childPulsate,Jt,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),tn=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:l={},className:u}=r,c=(0,i.A)(r,Ut),[h,d]=e.useState([]),p=e.useRef(0),f=e.useRef(null);e.useEffect(()=>{f.current&&(f.current(),f.current=null)},[h]);const m=e.useRef(!1),g=wt(),y=e.useRef(null),x=e.useRef(null),b=e.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;d(e=>[...e,(0,N.jsx)(en,{classes:{ripple:a(l.ripple,Wt.ripple),rippleVisible:a(l.rippleVisible,Wt.rippleVisible),ripplePulsate:a(l.ripplePulsate,Wt.ripplePulsate),child:a(l.child,Wt.child),childLeaving:a(l.childLeaving,Wt.childLeaving),childPulsate:a(l.childPulsate,Wt.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)]),p.current+=1,f.current=s},[l]),v=e.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const a=s?null:x.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,h;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(i)h=Math.sqrt((2*l.width**2+l.height**2)/3),h%2===0&&(h+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-c),c)+2;h=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===y.current&&(y.current=()=>{b({pulsate:r,rippleX:u,rippleY:c,rippleSize:h,cb:n})},g.start(80,()=>{y.current&&(y.current(),y.current=null)})):b({pulsate:r,rippleX:u,rippleY:c,rippleSize:h,cb:n})},[o,b,g]),w=e.useCallback(()=>{v({},{pulsate:!0})},[v]),S=e.useCallback((e,t)=>{if(g.clear(),"touchend"===(null==e?void 0:e.type)&&y.current)return y.current(),y.current=null,void g.start(0,()=>{S(e,t)});y.current=null,d(e=>e.length>0?e.slice(1):e),f.current=t},[g]);return e.useImperativeHandle(n,()=>({pulsate:w,start:v,stop:S}),[w,v,S]),(0,N.jsx)(Zt,(0,s.A)({className:a(Wt.root,l.root,u),ref:x},c,{children:(0,N.jsx)(Vt,{component:null,exit:!0,children:h})}))}),nn=tn;function rn(e){return h("MuiButtonBase",e)}const sn=Ne("MuiButtonBase",["root","disabled","focusVisible"]),on=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],an=Ce("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${sn.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ln=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:l=!1,children:u,className:c,component:h="button",disabled:p=!1,disableRipple:f=!1,disableTouchRipple:m=!1,focusRipple:g=!1,LinkComponent:y="a",onBlur:x,onClick:b,onContextMenu:v,onDragLeave:w,onFocus:S,onFocusVisible:k,onKeyDown:T,onKeyUp:A,onMouseDown:_,onMouseLeave:E,onMouseUp:C,onTouchEnd:D,onTouchMove:M,onTouchStart:L,tabIndex:I=0,TouchRippleProps:P,touchRippleRef:O,type:R}=r,$=(0,i.A)(r,on),F=e.useRef(null),z=e.useRef(null),V=ft(z,O),{isFocusVisibleRef:j,onFocus:B,onBlur:W,ref:U}=Mt(),[K,H]=e.useState(!1);p&&K&&H(!1),e.useImperativeHandle(o,()=>({focusVisible:()=>{H(!0),F.current.focus()}}),[]);const[G,Y]=e.useState(!1);e.useEffect(()=>{Y(!0)},[]);const X=G&&!f&&!p;function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return yt(r=>{t&&t(r);return!n&&z.current&&z.current[e](r),!0})}e.useEffect(()=>{K&&g&&!f&&G&&z.current.pulsate()},[f,g,K,G]);const Q=q("start",_),J=q("stop",v),Z=q("stop",w),ee=q("stop",C),te=q("stop",e=>{K&&e.preventDefault(),E&&E(e)}),ne=q("start",L),re=q("stop",D),ie=q("stop",M),se=q("stop",e=>{W(e),!1===j.current&&H(!1),x&&x(e)},!1),oe=yt(e=>{F.current||(F.current=e.currentTarget),B(e),!0===j.current&&(H(!0),k&&k(e)),S&&S(e)}),ae=()=>{const e=F.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},le=e.useRef(!1),ue=yt(e=>{g&&!le.current&&K&&z.current&&" "===e.key&&(le.current=!0,z.current.stop(e,()=>{z.current.start(e)})),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!p&&(e.preventDefault(),b&&b(e))}),ce=yt(e=>{g&&" "===e.key&&z.current&&K&&!e.defaultPrevented&&(le.current=!1,z.current.stop(e,()=>{z.current.pulsate(e)})),A&&A(e),b&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&b(e)});let he=h;"button"===he&&($.href||$.to)&&(he=y);const de={};"button"===he?(de.type=void 0===R?"button":R,de.disabled=p):($.href||$.to||(de.role="button"),p&&(de["aria-disabled"]=p));const pe=ft(n,U,F);const fe=(0,s.A)({},r,{centerRipple:l,component:h,disabled:p,disableRipple:f,disableTouchRipple:m,focusRipple:g,tabIndex:I,focusVisible:K}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=d({root:["root",t&&"disabled",n&&"focusVisible"]},rn,i);return n&&r&&(s.root+=` ${r}`),s})(fe);return(0,N.jsxs)(an,(0,s.A)({as:he,className:a(me.root,c),ownerState:fe,onBlur:se,onClick:b,onContextMenu:J,onFocus:oe,onKeyDown:ue,onKeyUp:ce,onMouseDown:Q,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:pe,tabIndex:p?-1:I,type:R},de,$,{children:[u,X?(0,N.jsx)(nn,(0,s.A)({ref:V,center:l},P)):null]}))}),un=ln;function cn(e){return h("MuiIconButton",e)}const hn=Ne("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),dn=["edge","children","className","color","disabled","disableFocusRipple","size"],pn=Ce(un,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${B(n.color)}`],n.edge&&t[`edge${B(n.edge)}`],t[`size${B(n.size)}`]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,G.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})},e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,s.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,s.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,s.A)({},i&&{backgroundColor:t.vars?`rgba(${i.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,G.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${hn.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),fn=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:l,color:u="default",disabled:c=!1,disableFocusRipple:h=!1,size:p="medium"}=n,f=(0,i.A)(n,dn),m=(0,s.A)({},n,{edge:r,color:u,disabled:c,disableFocusRipple:h,size:p}),g=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e;return d({root:["root",n&&"disabled","default"!==r&&`color${B(r)}`,i&&`edge${B(i)}`,`size${B(s)}`]},cn,t)})(m);return(0,N.jsx)(pn,(0,s.A)({className:a(g.root,l),centerRipple:!0,focusRipple:!h,disabled:c,ref:t},f,{ownerState:m,children:o}))}),mn=fn;function gn(e){return h("MuiSvgIcon",e)}Ne("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const yn=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],xn=Ce("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${B(n.color)}`],t[`fontSize${B(n.fontSize)}`]]}})(e=>{let{theme:t,ownerState:n}=e;var r,i,s,o,a,l,u,c,h,d,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(s=t.transitions)||null==(s=s.duration)?void 0:s.shorter}),fontSize:{inherit:"inherit",small:(null==(o=t.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(l=t.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(h=c.pxToRem)?void 0:h.call(c,35))||"2.1875rem"}[n.fontSize],color:null!=(d=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?d:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}}),bn=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiSvgIcon"}),{children:o,className:l,color:u="inherit",component:c="svg",fontSize:h="medium",htmlColor:p,inheritViewBox:f=!1,titleAccess:m,viewBox:g="0 0 24 24"}=r,y=(0,i.A)(r,yn),x=e.isValidElement(o)&&"svg"===o.type,b=(0,s.A)({},r,{color:u,component:c,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:f,viewBox:g,hasSvgAsChild:x}),v={};f||(v.viewBox=g);const w=(e=>{const{color:t,fontSize:n,classes:r}=e;return d({root:["root","inherit"!==t&&`color${B(t)}`,`fontSize${B(n)}`]},gn,r)})(b);return(0,N.jsxs)(xn,(0,s.A)({as:c,className:a(w.root,l),focusable:"false",color:p,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:n},v,y,x&&o.props,{ownerState:b,children:[x?o.props.children:o,m?(0,N.jsx)("title",{children:m}):null]}))});bn.muiName="SvgIcon";const vn=bn;function wn(t,n){function r(e,r){return(0,N.jsx)(vn,(0,s.A)({"data-testid":`${n}Icon`,ref:r},e,{children:t}))}return r.muiName=vn.muiName,e.memo(e.forwardRef(r))}const Sn=wn((0,N.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),kn=wn((0,N.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Tn=wn((0,N.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),An=wn((0,N.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),_n=wn((0,N.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),En=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Cn=Ce(ht,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${B(n.color||n.severity)}`]]}})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?G.e$:G.a,r="light"===t.palette.mode?G.a:G.e$;return(0,s.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${pt.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${pt.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,s.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})}),Dn=Ce("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Mn=Ce("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ln=Ce("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),In={success:(0,N.jsx)(Sn,{fontSize:"inherit"}),warning:(0,N.jsx)(kn,{fontSize:"inherit"}),error:(0,N.jsx)(Tn,{fontSize:"inherit"}),info:(0,N.jsx)(An,{fontSize:"inherit"})},Pn=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiAlert"}),{action:r,children:o,className:l,closeText:u="Close",color:c,components:h={},componentsProps:p={},icon:f,iconMapping:m=In,onClose:g,role:y="alert",severity:x="success",slotProps:b={},slots:v={},variant:w="standard"}=n,S=(0,i.A)(n,En),k=(0,s.A)({},n,{color:c,severity:x,variant:w,colorSeverity:c||x}),T=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return d({root:["root",`color${B(n||r)}`,`${t}${B(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},dt,i)})(k),A={slots:(0,s.A)({closeButton:h.CloseButton,closeIcon:h.CloseIcon},v),slotProps:(0,s.A)({},p,b)},[_,E]=ot("closeButton",{elementType:mn,externalForwardedProps:A,ownerState:k}),[C,D]=ot("closeIcon",{elementType:_n,externalForwardedProps:A,ownerState:k});return(0,N.jsxs)(Cn,(0,s.A)({role:y,elevation:0,ownerState:k,className:a(T.root,l),ref:t},S,{children:[!1!==f?(0,N.jsx)(Dn,{ownerState:k,className:T.icon,children:f||m[x]||In[x]}):null,(0,N.jsx)(Mn,{ownerState:k,className:T.message,children:o}),null!=r?(0,N.jsx)(Ln,{ownerState:k,className:T.action,children:r}):null,null==r&&g?(0,N.jsx)(Ln,{ownerState:k,className:T.action,children:(0,N.jsx)(_,(0,s.A)({size:"small","aria-label":u,title:u,color:"inherit",onClick:g},E,{children:(0,N.jsx)(C,(0,s.A)({fontSize:"small"},D))}))}):null]}))}),On=Pn;var Rn=n(7119);const $n=!1;var Nn=function(e){return e.scrollTop},Fn="unmounted",zn="exited",Vn="entering",jn="entered",Bn="exiting",Wn=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,s=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?s?(i=zn,r.appearStatus=Vn):i=jn:i=e.unmountOnExit||e.mountOnEnter?Fn:zn,r.state={status:i},r.nextCallback=null,r}Pt(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Fn?{status:zn}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Vn&&n!==jn&&(t=Vn):n!==Vn&&n!==jn||(t=Bn)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Vn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Rn.findDOMNode(this);n&&Nn(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zn&&this.setState({status:Fn})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Rn.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||$n?this.safeSetState({status:jn},function(){t.props.onEntered(s)}):(this.props.onEnter(s,o),this.safeSetState({status:Vn},function(){t.props.onEntering(s,o),t.onTransitionEnd(l,function(){t.safeSetState({status:jn},function(){t.props.onEntered(s,o)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Rn.findDOMNode(this);t&&!$n?(this.props.onExit(r),this.safeSetState({status:Bn},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:zn},function(){e.props.onExited(r)})})})):this.safeSetState({status:zn},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Rn.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Fn)return null;var n=this.props,r=n.children,s=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,i.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Ot.Provider,{value:null},"function"===typeof r?r(t,s):e.cloneElement(e.Children.only(r),s))},n}(e.Component);function Un(){}Wn.contextType=Ot,Wn.propTypes={},Wn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Un,onEntering:Un,onEntered:Un,onExit:Un,onExiting:Un,onExited:Un},Wn.UNMOUNTED=Fn,Wn.EXITED=zn,Wn.ENTERING=Vn,Wn.ENTERED=jn,Wn.EXITING=Bn;const Kn=Wn;function Hn(t){var n;return parseInt(e.version,10)>=19?(null==t||null==(n=t.props)?void 0:n.ref)||null:(null==t?void 0:t.ref)||null}function Gn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(t),t=setTimeout(()=>{e.apply(this,i)},n)}return r.clear=()=>{clearTimeout(t)},r}const Yn=Gn;function Xn(){const e=v(Te);return e[Ae]||e}const qn=e=>e.scrollTop;function Qn(e,t){var n,r;const{timeout:i,easing:s,style:o={}}=e;return{duration:null!=(n=o.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=o.transitionTimingFunction)?r:"object"===typeof s?s[t.mode]:s,delay:o.transitionDelay}}function Jn(e){return e&&e.ownerDocument||document}function Zn(e){return Jn(e).defaultView||window}const er=Zn,tr=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function nr(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=er(t);let o;if(t.fakeTransform)o=t.fakeTransform;else{const e=s.getComputedStyle(t);o=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(o&&"none"!==o&&"string"===typeof o){const e=o.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:"right"===e?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:"up"===e?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const rr=e.forwardRef(function(t,n){const r=Xn(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:u=!0,children:c,container:h,direction:d="down",easing:p=o,in:f,onEnter:m,onEntered:g,onEntering:y,onExit:x,onExited:b,onExiting:v,style:w,timeout:S=a,TransitionComponent:k=Kn}=t,T=(0,i.A)(t,tr),A=e.useRef(null),_=ft(Hn(c),A,n),E=e=>t=>{e&&(void 0===t?e(A.current):e(A.current,t))},C=E((e,t)=>{nr(d,e,h),qn(e),m&&m(e,t)}),D=E((e,t)=>{const n=Qn({timeout:S,style:w,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,s.A)({},n)),e.style.transition=r.transitions.create("transform",(0,s.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",y&&y(e,t)}),M=E(g),L=E(v),I=E(e=>{const t=Qn({timeout:S,style:w,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),nr(d,e,h),x&&x(e)}),P=E(e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)}),O=e.useCallback(()=>{A.current&&nr(d,A.current,h)},[d,h]);return e.useEffect(()=>{if(f||"down"===d||"right"===d)return;const e=Yn(()=>{A.current&&nr(d,A.current,h)}),t=er(A.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[d,f,h]),e.useEffect(()=>{f||O()},[f,O]),(0,N.jsx)(k,(0,s.A)({nodeRef:A,onEnter:C,onEntered:M,onEntering:D,onExit:I,onExited:P,onExiting:L,addEndListener:e=>{l&&l(A.current,e)},appear:u,in:f,timeout:S},T,{children:(t,n)=>e.cloneElement(c,(0,s.A)({ref:_,style:(0,s.A)({visibility:"exited"!==t||f?void 0:"hidden"},w,c.props.style)},n))}))}),ir=rr;var sr=n(8286);const or=e.createContext();function ar(e){return h("MuiGrid",e)}const lr=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ur=Ne("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...lr.map(e=>`grid-xs-${e}`),...lr.map(e=>`grid-sm-${e}`),...lr.map(e=>`grid-md-${e}`),...lr.map(e=>`grid-lg-${e}`),...lr.map(e=>`grid-xl-${e}`)]),cr=ur,hr=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function dr(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function pr(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach(e=>{""===r&&0!==n[e]&&(r=e)});const i=Object.keys(t).sort((e,n)=>t[e]-t[n]);return i.slice(0,i.indexOf(r))}const fr=Ce("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(t=>{const i=e[t];Number(i)>0&&r.push(n[`spacing-${t}-${String(i)}`])}),r}(o,u,t));const h=[];return u.forEach(e=>{const r=n[e];r&&h.push(t[`grid-${e}-${String(r)}`])}),[t.root,r&&t.container,s&&t.item,l&&t.zeroMinWidth,...c,"row"!==i&&t[`direction-xs-${String(i)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...h]}})(e=>{let{ownerState:t}=e;return(0,s.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){let{theme:t,ownerState:n}=e;const r=(0,sr.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,sr.NI)({theme:t},r,e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${cr.item}`]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let s={};if(r&&0!==i){const e=(0,sr.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=pr({breakpoints:t.breakpoints.values,values:e})),s=(0,sr.NI)({theme:t},e,(e,r)=>{var i;const s=t.spacing(e);return"0px"!==s?{marginTop:`-${dr(s)}`,[`& > .${cr.item}`]:{paddingTop:dr(s)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,[`& > .${cr.item}`]:{paddingTop:0}}})}return s},function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let s={};if(r&&0!==i){const e=(0,sr.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=pr({breakpoints:t.breakpoints.values,values:e})),s=(0,sr.NI)({theme:t},e,(e,r)=>{var i;const s=t.spacing(e);return"0px"!==s?{width:`calc(100% + ${dr(s)})`,marginLeft:`-${dr(s)}`,[`& > .${cr.item}`]:{paddingLeft:dr(s)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${cr.item}`]:{paddingLeft:0}}})}return s},function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,sr.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[i]:a;if(void 0===l||null===l)return e;const u=Math.round(t/l*1e8)/1e6+"%";let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${u} + ${dr(e)})`;c={flexBasis:t,maxWidth:t}}}o=(0,s.A)({flexBasis:u,flexGrow:0,maxWidth:u},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e},{})});const mr=e=>{const{classes:t,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}}),n}(s,l));const c=[];l.forEach(t=>{const n=e[t];n&&c.push(`grid-${t}-${String(n)}`)});return d({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==o&&`wrap-xs-${String(o)}`,...c]},ar,t)},gr=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiGrid"}),{breakpoints:o}=Xn(),l=(0,Re.A)(r),{className:u,columns:c,columnSpacing:h,component:d="div",container:p=!1,direction:f="row",item:m=!1,rowSpacing:g,spacing:y=0,wrap:x="wrap",zeroMinWidth:b=!1}=l,v=(0,i.A)(l,hr),w=g||y,S=h||y,k=e.useContext(or),T=p?c||12:k,A={},_=(0,s.A)({},v);o.keys.forEach(e=>{null!=v[e]&&(A[e]=v[e],delete _[e])});const E=(0,s.A)({},l,{columns:T,container:p,direction:f,item:m,rowSpacing:w,columnSpacing:S,wrap:x,zeroMinWidth:b,spacing:y},A,{breakpoints:o.keys}),C=mr(E);return(0,N.jsx)(or.Provider,{value:T,children:(0,N.jsx)(fr,(0,s.A)({ownerState:E,className:a(C.root,u),as:d,ref:n},_))})});const yr=gr;function xr(e){return h("MuiCircularProgress",e)}Ne("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const br=["className","color","disableShrink","size","style","thickness","value","variant"];let vr,wr,Sr,kr,Tr=e=>e;const Ar=44,_r=(0,jt.i7)(vr||(vr=Tr`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Er=(0,jt.i7)(wr||(wr=Tr`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Cr=Ce("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${B(n.color)}`]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,jt.AH)(Sr||(Sr=Tr`
      animation: ${0} 1.4s linear infinite;
    `),_r)}),Dr=Ce("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Mr=Ce("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${B(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,jt.AH)(kr||(kr=Tr`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Er)}),Lr=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:l=!1,size:u=40,style:c,thickness:h=3.6,value:p=0,variant:f="indeterminate"}=n,m=(0,i.A)(n,br),g=(0,s.A)({},n,{color:o,disableShrink:l,size:u,thickness:h,value:p,variant:f}),y=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return d({root:["root",n,`color${B(r)}`],svg:["svg"],circle:["circle",`circle${B(n)}`,i&&"circleDisableShrink"]},xr,t)})(g),x={},b={},v={};if("determinate"===f){const e=2*Math.PI*((Ar-h)/2);x.strokeDasharray=e.toFixed(3),v["aria-valuenow"]=Math.round(p),x.strokeDashoffset=`${((100-p)/100*e).toFixed(3)}px`,b.transform="rotate(-90deg)"}return(0,N.jsx)(Cr,(0,s.A)({className:a(y.root,r),style:(0,s.A)({width:u,height:u},b,c),ownerState:g,ref:t,role:"progressbar"},v,m,{children:(0,N.jsx)(Dr,{className:y.svg,ownerState:g,viewBox:"22 22 44 44",children:(0,N.jsx)(Mr,{className:y.circle,style:x,ownerState:g,cx:Ar,cy:Ar,r:(Ar-h)/2,fill:"none",strokeWidth:h})})}))}),Ir=Lr;function Pr(e){return h("MuiFab",e)}const Or=Ne("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Rr=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],$r=Ce(un,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Ee(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${B(n.size)}`],"inherit"===n.color&&t.colorInherit,t[B(n.size)],t[n.color]]}})(e=>{let{theme:t,ownerState:n}=e;var r,i;return(0,s.A)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${Or.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},"small"===n.size&&{width:40,height:40},"medium"===n.size&&{width:48,height:48},"extended"===n.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===n.variant&&"small"===n.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===n.variant&&"medium"===n.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===n.color&&{color:"inherit"})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})},e=>{let{theme:t}=e;return{[`&.${Or.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),Nr=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiFab"}),{children:r,className:o,color:l="default",component:u="button",disabled:c=!1,disableFocusRipple:h=!1,focusVisibleClassName:p,size:f="large",variant:m="circular"}=n,g=(0,i.A)(n,Rr),y=(0,s.A)({},n,{color:l,component:u,disabled:c,disableFocusRipple:h,size:f,variant:m}),x=(e=>{const{color:t,variant:n,classes:r,size:i}=e,o=d({root:["root",n,`size${B(i)}`,"inherit"===t?"colorInherit":t]},Pr,r);return(0,s.A)({},r,o)})(y);return(0,N.jsx)($r,(0,s.A)({className:a(x.root,o),component:u,disabled:c,focusRipple:!h,focusVisibleClassName:a(x.focusVisible,p),ownerState:y,ref:t},g,{classes:x,children:r}))}),Fr=Nr,zr=wn((0,N.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");function Vr(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function jr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Vr(e.value)&&""!==e.value||t&&Vr(e.defaultValue)&&""!==e.defaultValue)}const Br=function(t,n){var r,i;return e.isValidElement(t)&&-1!==n.indexOf(null!=(r=t.type.muiName)?r:null==(i=t.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)};const Wr=e.createContext(void 0);function Ur(e){return h("MuiFormControl",e)}Ne("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Kr=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Hr=Ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,s.A)({},t.root,t[`margin${B(n.margin)}`],n.fullWidth&&t.fullWidth)}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})}),Gr=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiFormControl"}),{children:o,className:l,color:u="primary",component:c="div",disabled:h=!1,error:p=!1,focused:f,fullWidth:m=!1,hiddenLabel:g=!1,margin:y="none",required:x=!1,size:b="medium",variant:v="outlined"}=r,w=(0,i.A)(r,Kr),S=(0,s.A)({},r,{color:u,component:c,disabled:h,error:p,fullWidth:m,hiddenLabel:g,margin:y,required:x,size:b,variant:v}),k=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return d({root:["root","none"!==n&&`margin${B(n)}`,r&&"fullWidth"]},Ur,t)})(S),[T,A]=e.useState(()=>{let t=!1;return o&&e.Children.forEach(o,e=>{if(!Br(e,["Input","Select"]))return;const n=Br(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}),t}),[_,E]=e.useState(()=>{let t=!1;return o&&e.Children.forEach(o,e=>{Br(e,["Input","Select"])&&(jr(e.props,!0)||jr(e.props.inputProps,!0))&&(t=!0)}),t}),[C,D]=e.useState(!1);h&&C&&D(!1);const M=void 0===f||h?C:f;let L;const I=e.useMemo(()=>({adornedStart:T,setAdornedStart:A,color:u,disabled:h,error:p,filled:_,focused:M,fullWidth:m,hiddenLabel:g,size:b,onBlur:()=>{D(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{D(!0)},registerEffect:L,required:x,variant:v}),[T,u,h,p,_,M,m,g,L,x,b,v]);return(0,N.jsx)(Wr.Provider,{value:I,children:(0,N.jsx)(Hr,(0,s.A)({as:c,ownerState:S,className:a(k.root,l),ref:n},w,{children:o}))})}),Yr=Gr;function Xr(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}function qr(){return e.useContext(Wr)}function Qr(e){return h("MuiFormLabel",e)}const Jr=Ne("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Zr=["children","className","color","component","disabled","error","filled","focused","required"],ei=Ce("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,s.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Jr.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Jr.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Jr.error}`]:{color:(t.vars||t).palette.error.main}})}),ti=Ce("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{[`&.${Jr.error}`]:{color:(t.vars||t).palette.error.main}}}),ni=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:l="label"}=n,u=(0,i.A)(n,Zr),c=Xr({props:n,muiFormControl:qr(),states:["color","required","focused","disabled","error","filled"]}),h=(0,s.A)({},n,{color:c.color||"primary",component:l,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=e;return d({root:["root",`color${B(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]},Qr,t)})(h);return(0,N.jsxs)(ei,(0,s.A)({as:l,ownerState:h,className:a(p.root,o),ref:t},u,{children:[r,c.required&&(0,N.jsxs)(ti,{ownerState:h,"aria-hidden":!0,className:p.asterisk,children:["\u2009","*"]})]}))}),ri=ni;function ii(e){return h("MuiInputLabel",e)}Ne("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const si=["disableAnimation","margin","shrink","variant","className"],oi=Ce(ri,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Jr.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,s.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,s.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,s.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))}),ai=e.forwardRef(function(e,t){const n=Ie({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:l}=n,u=(0,i.A)(n,si),c=qr();let h=o;"undefined"===typeof h&&c&&(h=c.filled||c.focused||c.adornedStart);const p=Xr({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),f=(0,s.A)({},n,{disableAnimation:r,formControl:c,shrink:h,size:p.size,variant:p.variant,required:p.required,focused:p.focused}),m=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:l}=e,u=d({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&`size${B(r)}`,a],asterisk:[l&&"asterisk"]},ii,t);return(0,s.A)({},t,u)})(f);return(0,N.jsx)(oi,(0,s.A)({"data-shrink":h,ownerState:f,ref:t,className:a(m.root,l)},u,{classes:m}))});let li=0;const ui=t["useId".toString()];function ci(t){if(void 0!==ui){const e=ui();return null!=t?t:e}return function(t){const[n,r]=e.useState(t),i=t||n;return e.useEffect(()=>{null==n&&(li+=1,r(`mui-${li}`))},[n]),i}(t)}const hi=Jn,di=["value"],pi=e.createContext();const fi=()=>{const t=e.useContext(pi);return null!=t&&t},mi=function(e){let{value:t}=e,n=(0,i.A)(e,di);return(0,N.jsx)(pi.Provider,(0,s.A)({value:null==t||t},n))},gi=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const yi=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,l=(0,i.A)(e,gi),u=a?{}:Ze(r,o),{props:c,internalRef:h}=nt((0,s.A)({},l,{externalSlotProps:u})),d=qe(h,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref);return Je(n,(0,s.A)({},c,{ref:d}),o)};const xi=e.createContext({});function bi(e){return h("MuiList",e)}Ne("MuiList",["root","padding","dense","subheader"]);const vi=["children","className","component","dense","disablePadding","subheader"],wi=Ce("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(e=>{let{ownerState:t}=e;return(0,s.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})}),Si=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiList"}),{children:o,className:l,component:u="ul",dense:c=!1,disablePadding:h=!1,subheader:p}=r,f=(0,i.A)(r,vi),m=e.useMemo(()=>({dense:c}),[c]),g=(0,s.A)({},r,{component:u,dense:c,disablePadding:h}),y=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return d({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},bi,t)})(g);return(0,N.jsx)(xi.Provider,{value:m,children:(0,N.jsxs)(wi,(0,s.A)({as:u,className:a(y.root,l),ref:n,ownerState:g},f,{children:[p,o]}))})});function ki(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Ti=ki,Ai=mt,_i=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ei(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ci(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Di(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Mi(e,t,n,r,i,s){let o=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(o)return!1;o=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Di(a,s)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const Li=e.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:a=!1,children:l,className:u,disabledItemsFocusable:c=!1,disableListWrap:h=!1,onKeyDown:d,variant:p="selectedMenu"}=t,f=(0,i.A)(t,_i),m=e.useRef(null),g=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ai(()=>{o&&m.current.focus()},[o]),e.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t=`${Ti(hi(e))}px`;m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width=`calc(100% + ${t})`}return m.current}}),[]);const y=ft(m,n);let x=-1;e.Children.forEach(l,(t,n)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===p&&t.props.selected||-1===x)&&(x=n),x===n&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(x+=1,x>=l.length&&(x=-1))):x===n&&(x+=1,x>=l.length&&(x=-1))});const b=e.Children.map(l,(t,n)=>{if(n===x){const n={};return a&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),e.cloneElement(t,n)}return t});return(0,N.jsx)(Si,(0,s.A)({role:"menu",ref:y,className:u,onKeyDown:e=>{const t=m.current,n=e.key,r=hi(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Mi(t,r,h,c,Ei);else if("ArrowUp"===n)e.preventDefault(),Mi(t,r,h,c,Ci);else if("Home"===n)e.preventDefault(),Mi(t,null,h,c,Ei);else if("End"===n)e.preventDefault(),Mi(t,null,h,c,Ci);else if(1===n.length){const i=g.current,s=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&s!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(s);const a=r&&!i.repeating&&Di(r,i);i.previousKeyMatched&&(a||Mi(t,r,!1,c,Ei,i))?e.preventDefault():i.previousKeyMatched=!1}d&&d(e)},tabIndex:o?0:-1},f,{children:b}))}),Ii=Li,Pi=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Oi(e){return`scale(${e}, ${e**2})`}const Ri={entering:{opacity:1,transform:Oi(1)},entered:{opacity:1,transform:"none"}},$i="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ni=e.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:h,onEntering:d,onExit:p,onExited:f,onExiting:m,style:g,timeout:y="auto",TransitionComponent:x=Kn}=t,b=(0,i.A)(t,Pi),v=wt(),w=e.useRef(),S=Xn(),k=e.useRef(null),T=ft(k,Hn(a),n),A=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},_=A(d),E=A((e,t)=>{qn(e);const{duration:n,delay:r,easing:i}=Qn({style:g,timeout:y,easing:l},{mode:"enter"});let s;"auto"===y?(s=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=s):s=n,e.style.transition=[S.transitions.create("opacity",{duration:s,delay:r}),S.transitions.create("transform",{duration:$i?s:.666*s,delay:r,easing:i})].join(","),c&&c(e,t)}),C=A(h),D=A(m),M=A(e=>{const{duration:t,delay:n,easing:r}=Qn({style:g,timeout:y,easing:l},{mode:"exit"});let i;"auto"===y?(i=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=i):i=t,e.style.transition=[S.transitions.create("opacity",{duration:i,delay:n}),S.transitions.create("transform",{duration:$i?i:.666*i,delay:$i?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=Oi(.75),p&&p(e)}),L=A(f);return(0,N.jsx)(x,(0,s.A)({appear:o,in:u,nodeRef:k,onEnter:E,onEntered:C,onEntering:_,onExit:M,onExited:L,onExiting:D,addEndListener:e=>{"auto"===y&&v.start(w.current||0,e),r&&r(k.current,e)},timeout:"auto"===y?null:y},b,{children:(t,n)=>e.cloneElement(a,(0,s.A)({style:(0,s.A)({opacity:0,transform:Oi(.75),visibility:"exited"!==t||u?void 0:"hidden"},Ri[t],g,a.props.style),ref:T},n))}))});Ni.muiSupportAuto=!0;const Fi=Ni,zi=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Vi(e){const t=[],n=[];return Array.from(e.querySelectorAll(zi)).forEach((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function ji(){return!0}const Bi=function(t){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:o=Vi,isEnabled:a=ji,open:l}=t,u=e.useRef(!1),c=e.useRef(null),h=e.useRef(null),d=e.useRef(null),p=e.useRef(null),f=e.useRef(!1),m=e.useRef(null),g=qe(Hn(n),m),y=e.useRef(null);e.useEffect(()=>{l&&m.current&&(f.current=!r)},[r,l]),e.useEffect(()=>{if(!l||!m.current)return;const e=Jn(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{s||(d.current&&d.current.focus&&(u.current=!0,d.current.focus()),d.current=null)}},[l]),e.useEffect(()=>{if(!l||!m.current)return;const e=Jn(m.current),t=t=>{y.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(u.current=!0,h.current&&h.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||u.current)return void(u.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==c.current&&e.activeElement!==h.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==h.current||(n=o(m.current)),n.length>0){var r,s;const e=Boolean((null==(r=y.current)?void 0:r.shiftKey)&&"Tab"===(null==(s=y.current)?void 0:s.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,i,s,a,l,o]);const x=e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0};return(0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)("div",{tabIndex:l?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:g,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,N.jsx)("div",{tabIndex:l?0:-1,onFocus:x,ref:h,"data-testid":"sentinelEnd"})]})};const Wi=e.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=e.useState(null),l=qe(e.isValidElement(r)?Hn(r):null,n);if(mt(()=>{s||a(function(e){return"function"===typeof e?e():e}(i)||document.body)},[i,s]),mt(()=>{if(o&&!s)return Xe(n,o),()=>{Xe(n,null)}},[n,o,s]),s){if(e.isValidElement(r)){const t={ref:l};return e.cloneElement(r,t)}return(0,N.jsx)(e.Fragment,{children:r})}return(0,N.jsx)(e.Fragment,{children:o?Rn.createPortal(r,o):o})}),Ui=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ki={entering:{opacity:1},entered:{opacity:1}},Hi=e.forwardRef(function(t,n){const r=Xn(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:u,easing:c,in:h,onEnter:d,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:y,style:x,timeout:b=o,TransitionComponent:v=Kn}=t,w=(0,i.A)(t,Ui),S=e.useRef(null),k=ft(S,Hn(u),n),T=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},A=T(f),_=T((e,t)=>{qn(e);const n=Qn({style:x,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)}),E=T(p),C=T(y),D=T(e=>{const t=Qn({style:x,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)}),M=T(g);return(0,N.jsx)(v,(0,s.A)({appear:l,in:h,nodeRef:S,onEnter:_,onEntered:E,onEntering:A,onExit:D,onExited:M,onExiting:C,addEndListener:e=>{a&&a(S.current,e)},timeout:b},w,{children:(t,n)=>e.cloneElement(u,(0,s.A)({style:(0,s.A)({opacity:0,visibility:"exited"!==t||h?void 0:"hidden"},Ki[t],x,u.props.style),ref:k},n))}))}),Gi=Hi;function Yi(e){return h("MuiBackdrop",e)}Ne("MuiBackdrop",["root","invisible"]);const Xi=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],qi=Ce("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(e=>{let{ownerState:t}=e;return(0,s.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})}),Qi=e.forwardRef(function(e,t){var n,r,o;const l=Ie({props:e,name:"MuiBackdrop"}),{children:u,className:c,component:h="div",components:p={},componentsProps:f={},invisible:m=!1,open:g,slotProps:y={},slots:x={},TransitionComponent:b=Gi,transitionDuration:v}=l,w=(0,i.A)(l,Xi),S=(0,s.A)({},l,{component:h,invisible:m}),k=(e=>{const{classes:t,invisible:n}=e;return d({root:["root",n&&"invisible"]},Yi,t)})(S),T=null!=(n=y.root)?n:f.root;return(0,N.jsx)(b,(0,s.A)({in:g,timeout:v},w,{children:(0,N.jsx)(qi,(0,s.A)({"aria-hidden":!0},T,{as:null!=(r=null!=(o=x.root)?o:p.Root)?r:h,className:a(k.root,c,null==T?void 0:T.className),ownerState:(0,s.A)({},S,null==T?void 0:T.ownerState),classes:k,ref:t,children:u}))}))});function Ji(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)},()=>{})}function Zi(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function es(e){return parseInt(Zn(e).getComputedStyle(e).paddingRight,10)||0}function ts(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,e=>{const t=-1===s.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Zi(e,i)})}function ns(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function rs(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Jn(e);return t.body===e?Zn(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=ki(Jn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${es(r)+e}px`;const t=Jn(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${es(t)+e}px`})}let e;if(r.parentNode instanceof DocumentFragment)e=Jn(r).body;else{const t=r.parentElement,n=Zn(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const is=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Zi(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);ts(t,e.mount,e.modalRef,r,!0);const i=ns(this.containers,e=>e.container===t);return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=ns(this.containers,t=>-1!==t.modals.indexOf(e)),r=this.containers[n];r.restore||(r.restore=rs(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=ns(this.containers,t=>-1!==t.modals.indexOf(e)),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Zi(e.modalRef,t),ts(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&Zi(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const ss=function(t){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=is,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:u,children:c,onClose:h,open:d,rootRef:p}=t,f=e.useRef({}),m=e.useRef(null),g=e.useRef(null),y=qe(g,p),[x,b]=e.useState(!d),v=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(w=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),k=()=>{o.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},T=gt(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Jn(m.current).body;o.add(S(),e),g.current&&k()}),A=e.useCallback(()=>o.isTopModal(S()),[o]),_=gt(e=>{m.current=e,e&&(d&&A()?k():g.current&&Zi(g.current,w))}),E=e.useCallback(()=>{o.remove(S(),w)},[w,o]);e.useEffect(()=>()=>{E()},[E]),e.useEffect(()=>{d?T():v&&a||E()},[d,E,v,a,T]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&A()&&(r||(t.stopPropagation(),h&&h(t,"escapeKeyDown")))},D=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&h&&h(t,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=et(t);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,s.A)({},n,e);return(0,s.A)({role:"presentation"},r,{onKeyDown:C(r),ref:y})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.A)({"aria-hidden":!0},e,{onClick:D(e),open:d})},getTransitionProps:()=>({onEnter:Ji(()=>{b(!1),l&&l()},null==c?void 0:c.props.onEnter),onExited:Ji(()=>{b(!0),u&&u(),a&&E()},null==c?void 0:c.props.onExited)}),rootRef:y,portalRef:_,isTopModal:A,exited:x,hasTransition:v}};function os(e){return h("MuiModal",e)}Ne("MuiModal",["root","hidden","backdrop"]);const as=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],ls=Ce("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})}),us=Ce(Qi,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),cs=e.forwardRef(function(t,n){var r,o,l,u,c,h;const p=Ie({name:"MuiModal",props:t}),{BackdropComponent:f=us,BackdropProps:m,className:g,closeAfterTransition:y=!1,children:x,container:b,component:v,components:w={},componentsProps:S={},disableAutoFocus:k=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:A=!1,disablePortal:_=!1,disableRestoreFocus:E=!1,disableScrollLock:C=!1,hideBackdrop:D=!1,keepMounted:M=!1,onBackdropClick:L,open:I,slotProps:P,slots:O}=p,R=(0,i.A)(p,as),$=(0,s.A)({},p,{closeAfterTransition:y,disableAutoFocus:k,disableEnforceFocus:T,disableEscapeKeyDown:A,disablePortal:_,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:D,keepMounted:M}),{getRootProps:F,getBackdropProps:z,getTransitionProps:V,portalRef:j,isTopModal:B,exited:W,hasTransition:U}=ss((0,s.A)({},$,{rootRef:n})),K=(0,s.A)({},$,{exited:W}),H=(e=>{const{open:t,exited:n,classes:r}=e;return d({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},os,r)})(K),G={};if(void 0===x.props.tabIndex&&(G.tabIndex="-1"),U){const{onEnter:e,onExited:t}=V();G.onEnter=e,G.onExited=t}const Y=null!=(r=null!=(o=null==O?void 0:O.root)?o:w.Root)?r:ls,X=null!=(l=null!=(u=null==O?void 0:O.backdrop)?u:w.Backdrop)?l:f,q=null!=(c=null==P?void 0:P.root)?c:S.root,Q=null!=(h=null==P?void 0:P.backdrop)?h:S.backdrop,J=yi({elementType:Y,externalSlotProps:q,externalForwardedProps:R,getSlotProps:F,additionalProps:{ref:n,as:v},ownerState:K,className:a(g,null==q?void 0:q.className,null==H?void 0:H.root,!K.open&&K.exited&&(null==H?void 0:H.hidden))}),Z=yi({elementType:X,externalSlotProps:Q,additionalProps:m,getSlotProps:e=>z((0,s.A)({},e,{onClick:t=>{L&&L(t),null!=e&&e.onClick&&e.onClick(t)}})),className:a(null==Q?void 0:Q.className,null==m?void 0:m.className,null==H?void 0:H.backdrop),ownerState:K});return M||I||U&&!W?(0,N.jsx)(Wi,{ref:j,container:b,disablePortal:_,children:(0,N.jsxs)(Y,(0,s.A)({},J,{children:[!D&&f?(0,N.jsx)(X,(0,s.A)({},Z)):null,(0,N.jsx)(Bi,{disableEnforceFocus:T,disableAutoFocus:k,disableRestoreFocus:E,isEnabled:B,open:I,children:e.cloneElement(x,G)})]}))}):null}),hs=cs;function ds(e){return h("MuiPopover",e)}Ne("MuiPopover",["root","paper"]);const ps=["onEntering"],fs=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ms=["slotProps"];function gs(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ys(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function xs(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?`${e}px`:e).join(" ")}function bs(e){return"function"===typeof e?e():e}const vs=Ce(hs,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ws=Ce(ht,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ss=e.forwardRef(function(t,n){var r,o,l;const u=Ie({props:t,name:"MuiPopover"}),{action:c,anchorEl:h,anchorOrigin:p={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:m="anchorEl",children:g,className:y,container:x,elevation:b=8,marginThreshold:v=16,open:w,PaperProps:S={},slots:k,slotProps:T,transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:_=Fi,transitionDuration:E="auto",TransitionProps:{onEntering:C}={},disableScrollLock:D=!1}=u,M=(0,i.A)(u.TransitionProps,ps),L=(0,i.A)(u,fs),I=null!=(r=null==T?void 0:T.paper)?r:S,P=e.useRef(),O=ft(P,I.ref),R=(0,s.A)({},u,{anchorOrigin:p,anchorReference:m,elevation:b,marginThreshold:v,externalPaperSlotProps:I,transformOrigin:A,TransitionComponent:_,transitionDuration:E,TransitionProps:M}),$=(e=>{const{classes:t}=e;return d({root:["root"],paper:["paper"]},ds,t)})(R),F=e.useCallback(()=>{if("anchorPosition"===m)return f;const e=bs(h),t=(e&&1===e.nodeType?e:hi(P.current).body).getBoundingClientRect();return{top:t.top+gs(t,p.vertical),left:t.left+ys(t,p.horizontal)}},[h,p.horizontal,p.vertical,f,m]),z=e.useCallback(e=>({vertical:gs(e,A.vertical),horizontal:ys(e,A.horizontal)}),[A.horizontal,A.vertical]),V=e.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=z(t);if("none"===m)return{top:null,left:null,transformOrigin:xs(n)};const r=F();let i=r.top-n.vertical,s=r.left-n.horizontal;const o=i+t.height,a=s+t.width,l=er(bs(h)),u=l.innerHeight-v,c=l.innerWidth-v;if(null!==v&&i<v){const e=i-v;i-=e,n.vertical+=e}else if(null!==v&&o>u){const e=o-u;i-=e,n.vertical+=e}if(null!==v&&s<v){const e=s-v;s-=e,n.horizontal+=e}else if(a>c){const e=a-c;s-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(s)}px`,transformOrigin:xs(n)}},[h,m,F,z,v]),[j,B]=e.useState(w),W=e.useCallback(()=>{const e=P.current;if(!e)return;const t=V(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,B(!0)},[V]);e.useEffect(()=>(D&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[h,D,W]);e.useEffect(()=>{w&&W()}),e.useImperativeHandle(c,()=>w?{updatePosition:()=>{W()}}:null,[w,W]),e.useEffect(()=>{if(!w)return;const e=Yn(()=>{W()}),t=er(h);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[h,w,W]);let U=E;"auto"!==E||_.muiSupportAuto||(U=void 0);const K=x||(h?hi(bs(h)).body:void 0),H=null!=(o=null==k?void 0:k.root)?o:vs,G=null!=(l=null==k?void 0:k.paper)?l:ws,Y=yi({elementType:G,externalSlotProps:(0,s.A)({},I,{style:j?I.style:(0,s.A)({},I.style,{opacity:0})}),additionalProps:{elevation:b,ref:O},ownerState:R,className:a($.paper,null==I?void 0:I.className)}),X=yi({elementType:H,externalSlotProps:(null==T?void 0:T.root)||{},externalForwardedProps:L,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:K,open:w},ownerState:R,className:a($.root,y)}),{slotProps:q}=X,Q=(0,i.A)(X,ms);return(0,N.jsx)(H,(0,s.A)({},Q,!Qe(H)&&{slotProps:q,disableScrollLock:D},{children:(0,N.jsx)(_,(0,s.A)({appear:!0,in:w,onEntering:(e,t)=>{C&&C(e,t),W()},onExited:()=>{B(!1)},timeout:U},M,{children:(0,N.jsx)(G,(0,s.A)({},Y,{children:g}))}))}))}),ks=Ss;function Ts(e){return h("MuiMenu",e)}Ne("MuiMenu",["root","paper","list"]);const As=["onEntering"],_s=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Es={vertical:"top",horizontal:"right"},Cs={vertical:"top",horizontal:"left"},Ds=Ce(ks,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ms=Ce(ws,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ls=Ce(Ii,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Is=e.forwardRef(function(t,n){var r,o;const l=Ie({props:t,name:"MuiMenu"}),{autoFocus:u=!0,children:c,className:h,disableAutoFocusItem:p=!1,MenuListProps:f={},onClose:m,open:g,PaperProps:y={},PopoverClasses:x,transitionDuration:b="auto",TransitionProps:{onEntering:v}={},variant:w="selectedMenu",slots:S={},slotProps:k={}}=l,T=(0,i.A)(l.TransitionProps,As),A=(0,i.A)(l,_s),_=fi(),E=(0,s.A)({},l,{autoFocus:u,disableAutoFocusItem:p,MenuListProps:f,onEntering:v,PaperProps:y,transitionDuration:b,TransitionProps:T,variant:w}),C=(e=>{const{classes:t}=e;return d({root:["root"],paper:["paper"],list:["list"]},Ts,t)})(E),D=u&&!p&&g,M=e.useRef(null);let L=-1;e.Children.map(c,(t,n)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===w&&t.props.selected||-1===L)&&(L=n))});const I=null!=(r=S.paper)?r:Ms,P=null!=(o=k.paper)?o:y,O=yi({elementType:S.root,externalSlotProps:k.root,ownerState:E,className:[C.root,h]}),R=yi({elementType:I,externalSlotProps:P,ownerState:E,className:C.paper});return(0,N.jsx)(Ds,(0,s.A)({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?Es:Cs,slots:{paper:I,root:S.root},slotProps:{root:O,paper:R},open:g,ref:n,transitionDuration:b,TransitionProps:(0,s.A)({onEntering:(e,t)=>{M.current&&M.current.adjustStyleForScrollbar(e,{direction:_?"rtl":"ltr"}),v&&v(e,t)}},T),ownerState:E},A,{classes:x,children:(0,N.jsx)(Ls,(0,s.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:M,autoFocus:u&&(-1===L||p),autoFocusItem:D,variant:w},f,{className:a(C.list,f.className),children:c}))}))}),Ps=Is;function Os(e){return h("MuiNativeSelect",e)}const Rs=Ne("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$s=["className","disabled","error","IconComponent","inputRef","variant"],Ns=e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,s.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Rs.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},Fs=Ce("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ee,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Rs.multiple}`]:t.multiple}]}})(Ns),zs=e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Rs.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Vs=Ce("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${B(n.variant)}`],n.open&&t.iconOpen]}})(zs),js=e.forwardRef(function(t,n){const{className:r,disabled:o,error:l,IconComponent:u,inputRef:c,variant:h="standard"}=t,p=(0,i.A)(t,$s),f=(0,s.A)({},t,{disabled:o,variant:h,error:l}),m=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:s,error:o}=e;return d({select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${B(n)}`,s&&"iconOpen",r&&"disabled"]},Os,t)})(f);return(0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)(Fs,(0,s.A)({ownerState:f,className:a(m.select,r),disabled:o,ref:c||n},p)),t.multiple?null:(0,N.jsx)(Vs,{as:u,ownerState:f,className:m.icon})]})});function Bs(t){let{controlled:n,default:r,name:i,state:s="value"}=t;const{current:o}=e.useRef(void 0!==n),[a,l]=e.useState(r);return[o?n:a,e.useCallback(e=>{o||l(e)},[])]}const Ws=Bs;function Us(e){return h("MuiSelect",e)}const Ks=Ne("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Hs;const Gs=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ys=Ce("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ks.select}`]:t.select},{[`&.${Ks.select}`]:t[n.variant]},{[`&.${Ks.error}`]:t.error},{[`&.${Ks.multiple}`]:t.multiple}]}})(Ns,{[`&.${Ks.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Xs=Ce("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${B(n.variant)}`],n.open&&t.iconOpen]}})(zs),qs=Ce("input",{shouldForwardProp:e=>_e(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Qs(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Js(e){return null==e||"string"===typeof e&&!e.trim()}const Zs=e.forwardRef(function(t,n){var r;const{"aria-describedby":o,"aria-label":l,autoFocus:u,autoWidth:c,children:h,className:p,defaultOpen:f,defaultValue:m,disabled:g,displayEmpty:y,error:x=!1,IconComponent:b,inputRef:v,labelId:w,MenuProps:S={},multiple:k,name:T,onBlur:A,onChange:_,onClose:E,onFocus:C,onOpen:D,open:M,readOnly:L,renderValue:I,SelectDisplayProps:P={},tabIndex:O,value:R,variant:$="standard"}=t,F=(0,i.A)(t,Gs),[z,V]=Ws({controlled:R,default:m,name:"Select"}),[j,W]=Ws({controlled:M,default:f,name:"Select"}),K=e.useRef(null),H=e.useRef(null),[G,Y]=e.useState(null),{current:X}=e.useRef(null!=M),[q,Q]=e.useState(),J=ft(n,v),Z=e.useCallback(e=>{H.current=e,e&&Y(e)},[]),ee=null==G?void 0:G.parentNode;e.useImperativeHandle(J,()=>({focus:()=>{H.current.focus()},node:K.current,value:z}),[z]),e.useEffect(()=>{f&&j&&G&&!X&&(Q(c?null:ee.clientWidth),H.current.focus())},[G,c]),e.useEffect(()=>{u&&H.current.focus()},[u]),e.useEffect(()=>{if(!w)return;const e=hi(H.current).getElementById(w);if(e){const t=()=>{getSelection().isCollapsed&&H.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[w]);const te=(e,t)=>{e?D&&D(t):E&&E(t),X||(Q(c?null:ee.clientWidth),W(e))},ne=e.Children.toArray(h),re=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(k){n=Array.isArray(z)?z.slice():[];const t=z.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(V(n),_)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:T}}),_(i,e)}k||te(!1,t)}},ie=null!==G&&j;let se,oe;delete F["aria-invalid"];const ae=[];let le=!1,ue=!1;(jr({value:z})||y)&&(I?se=I(z):le=!0);const ce=ne.map(t=>{if(!e.isValidElement(t))return null;let n;if(k){if(!Array.isArray(z))throw new Error((0,U.A)(2));n=z.some(e=>Qs(e,t.props.value)),n&&le&&ae.push(t.props.children)}else n=Qs(z,t.props.value),n&&le&&(oe=t.props.children);return n&&(ue=!0),e.cloneElement(t,{"aria-selected":n?"true":"false",onClick:re(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})});le&&(se=k?0===ae.length?null:ae.reduce((e,t,n)=>(e.push(t),n<ae.length-1&&e.push(", "),e),[]):oe);let he,de=q;!c&&X&&G&&(de=ee.clientWidth),he="undefined"!==typeof O?O:g?null:0;const pe=P.id||(T?`mui-component-select-${T}`:void 0),fe=(0,s.A)({},t,{variant:$,value:z,open:ie,error:x}),me=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:s,error:o}=e;return d({select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${B(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Us,t)})(fe),ge=(0,s.A)({},S.PaperProps,null==(r=S.slotProps)?void 0:r.paper),ye=ci();return(0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)(Ys,(0,s.A)({ref:Z,tabIndex:he,role:"combobox","aria-controls":ye,"aria-disabled":g?"true":void 0,"aria-expanded":ie?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[w,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!L){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),te(!0,e))}},onMouseDown:g||L?null:e=>{0===e.button&&(e.preventDefault(),H.current.focus(),te(!0,e))},onBlur:e=>{!ie&&A&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:T}}),A(e))},onFocus:C},P,{ownerState:fe,className:a(P.className,me.select,p),id:pe,children:Js(se)?Hs||(Hs=(0,N.jsx)("span",{className:"notranslate",children:"\u200b"})):se})),(0,N.jsx)(qs,(0,s.A)({"aria-invalid":x,value:Array.isArray(z)?z.join(","):z,name:T,ref:K,"aria-hidden":!0,onChange:e=>{const t=ne.find(t=>t.props.value===e.target.value);void 0!==t&&(V(t.props.value),_&&_(e,t))},tabIndex:-1,disabled:g,className:me.nativeInput,autoFocus:u,ownerState:fe},F)),(0,N.jsx)(Xs,{as:b,className:me.icon,ownerState:fe}),(0,N.jsx)(Ps,(0,s.A)({id:`menu-${T||""}`,anchorEl:ee,open:ie,onClose:e=>{te(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},S,{MenuListProps:(0,s.A)({"aria-labelledby":w,role:"listbox","aria-multiselectable":k?"true":void 0,disableListWrap:!0,id:ye},S.MenuListProps),slotProps:(0,s.A)({},S.slotProps,{paper:(0,s.A)({},ge,{style:(0,s.A)({minWidth:de},null!=ge?ge.style:null)})}),children:ce}))]})}),eo=Zs,to=wn((0,N.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),no=["onChange","maxRows","minRows","style","value"];function ro(e){return parseInt(e,10)||0}const io={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function so(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const oo=e.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:a=1,style:l,value:u}=t,c=(0,i.A)(t,no),{current:h}=e.useRef(null!=u),d=e.useRef(null),p=qe(n,d),f=e.useRef(null),m=e.useRef(null),g=e.useCallback(()=>{const e=d.current,n=m.current;if(!e||!n)return;const r=Zn(e).getComputedStyle(e);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=e.value||t.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const i=r.boxSizing,s=ro(r.paddingBottom)+ro(r.paddingTop),l=ro(r.borderBottomWidth)+ro(r.borderTopWidth),u=n.scrollHeight;n.value="x";const c=n.scrollHeight;let h=u;a&&(h=Math.max(Number(a)*c,h)),o&&(h=Math.min(Number(o)*c,h)),h=Math.max(h,c);return{outerHeightStyle:h+("border-box"===i?s+l:0),overflowing:Math.abs(h-u)<=1}},[o,a,t.placeholder]),y=gt(()=>{const e=d.current,t=g();if(!e||!t||so(t))return!1;const n=t.outerHeightStyle;return null!=f.current&&f.current!==n}),x=e.useCallback(()=>{const e=d.current,t=g();if(!e||!t||so(t))return;const n=t.outerHeightStyle;f.current!==n&&(f.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""},[g]),b=e.useRef(-1);mt(()=>{const e=Gn(x),t=null==d?void 0:d.current;if(!t)return;const n=Zn(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{y()&&(r.unobserve(t),cancelAnimationFrame(b.current),x(),b.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,x,y]),mt(()=>{x()});return(0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)("textarea",(0,s.A)({value:u,onChange:e=>{h||x(),r&&r(e)},ref:p,rows:a,style:l},c)),(0,N.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,s.A)({},io,l,{paddingTop:0,paddingBottom:0})})]})}),ao=oo;var lo=n(3158);function uo(e){const t=(0,S.internal_serializeStyles)(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}const co=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=v(r),s=n&&i[n]||i;let o="function"===typeof t?t(s):t;return s.modularCssLayers&&(o=Array.isArray(o)?o.map(e=>uo("function"===typeof e?e(s):e)):uo(o)),(0,N.jsx)(lo.A,{styles:o})};const ho=function(e){return(0,N.jsx)(co,(0,s.A)({},e,{defaultTheme:Te,themeId:Ae}))};function po(e){return h("MuiInputBase",e)}const fo=Ne("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),mo=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],go=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${B(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},yo=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},xo=Ce("div",{name:"MuiInputBase",slot:"Root",overridesResolver:go})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${fo.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,s.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})}),bo=Ce("input",{name:"MuiInputBase",slot:"Input",overridesResolver:yo})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,s.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,s.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${fo.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${fo.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})}),vo=(0,N.jsx)(ho,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),wo=e.forwardRef(function(t,n){var r;const o=Ie({props:t,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:u,autoFocus:c,className:h,components:p={},componentsProps:f={},defaultValue:m,disabled:g,disableInjectingGlobalStyles:y,endAdornment:x,fullWidth:b=!1,id:v,inputComponent:w="input",inputProps:S={},inputRef:k,maxRows:T,minRows:A,multiline:_=!1,name:E,onBlur:C,onChange:D,onClick:M,onFocus:L,onKeyDown:I,onKeyUp:P,placeholder:O,readOnly:R,renderSuffix:$,rows:F,slotProps:z={},slots:V={},startAdornment:j,type:W="text",value:K}=o,H=(0,i.A)(o,mo),G=null!=S.value?S.value:K,{current:Y}=e.useRef(null!=G),X=e.useRef(),q=e.useCallback(e=>{0},[]),Q=ft(X,k,S.ref,q),[J,Z]=e.useState(!1),ee=qr();const te=Xr({props:o,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=ee?ee.focused:J,e.useEffect(()=>{!ee&&g&&J&&(Z(!1),C&&C())},[ee,g,J,C]);const ne=ee&&ee.onFilled,re=ee&&ee.onEmpty,ie=e.useCallback(e=>{jr(e)?ne&&ne():re&&re()},[ne,re]);Ai(()=>{Y&&ie({value:G})},[G,ie,Y]);e.useEffect(()=>{ie(X.current)},[]);let se=w,oe=S;_&&"input"===se&&(oe=F?(0,s.A)({type:void 0,minRows:F,maxRows:F},oe):(0,s.A)({type:void 0,maxRows:T,minRows:A},oe),se=ao);e.useEffect(()=>{ee&&ee.setAdornedStart(Boolean(j))},[ee,j]);const ae=(0,s.A)({},o,{color:te.color||"primary",disabled:te.disabled,endAdornment:x,error:te.error,focused:te.focused,formControl:ee,fullWidth:b,hiddenLabel:te.hiddenLabel,multiline:_,size:te.size,startAdornment:j,type:W}),le=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:h,size:p,startAdornment:f,type:m}=e;return d({root:["root",`color${B(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",p&&"medium"!==p&&`size${B(p)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",c&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]},po,t)})(ae),ue=V.root||p.Root||xo,ce=z.root||f.root||{},he=V.input||p.Input||bo;return oe=(0,s.A)({},oe,null!=(r=z.input)?r:f.input),(0,N.jsxs)(e.Fragment,{children:[!y&&vo,(0,N.jsxs)(ue,(0,s.A)({},ce,!Qe(ue)&&{ownerState:(0,s.A)({},ae,ce.ownerState)},{ref:n,onClick:e=>{X.current&&e.currentTarget===e.target&&X.current.focus(),M&&M(e)}},H,{className:a(le.root,ce.className,h,R&&"MuiInputBase-readOnly"),children:[j,(0,N.jsx)(Wr.Provider,{value:null,children:(0,N.jsx)(he,(0,s.A)({ownerState:ae,"aria-invalid":te.error,"aria-describedby":l,autoComplete:u,autoFocus:c,defaultValue:m,disabled:te.disabled,id:v,onAnimationStart:e=>{ie("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:E,placeholder:O,readOnly:R,required:te.required,rows:F,value:G,onKeyDown:I,onKeyUp:P,type:W},oe,!Qe(he)&&{as:se,ownerState:(0,s.A)({},ae,oe.ownerState)},{ref:Q,className:a(le.input,oe.className,R&&"MuiInputBase-readOnly"),onBlur:e=>{C&&C(e),S.onBlur&&S.onBlur(e),ee&&ee.onBlur?ee.onBlur(e):Z(!1)},onChange:function(e){if(!Y){const t=e.target||X.current;if(null==t)throw new Error((0,U.A)(1));ie({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];S.onChange&&S.onChange(e,...n),D&&D(e,...n)},onFocus:e=>{te.disabled?e.stopPropagation():(L&&L(e),S.onFocus&&S.onFocus(e),ee&&ee.onFocus?ee.onFocus(e):Z(!0))}}))}),x,$?$((0,s.A)({},te,{startAdornment:j})):null]}))]})}),So=wo;function ko(e){return h("MuiInput",e)}const To=(0,s.A)({},fo,Ne("MuiInput",["root","underline","input"])),Ao=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],_o=Ce(xo,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...go(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,s.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${To.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${To.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${To.disabled}, .${To.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${To.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Eo=Ce(bo,{name:"MuiInput",slot:"Input",overridesResolver:yo})({}),Co=e.forwardRef(function(e,t){var n,r,o,a;const l=Ie({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:h,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:y={},type:x="text"}=l,b=(0,i.A)(l,Ao),v=(e=>{const{classes:t,disableUnderline:n}=e,r=d({root:["root",!n&&"underline"],input:["input"]},ko,t);return(0,s.A)({},t,r)})(l),w={root:{ownerState:{disableUnderline:u}}},S=(null!=g?g:h)?(0,k.A)(null!=g?g:h,w):w,T=null!=(n=null!=(r=y.root)?r:c.Root)?n:_o,A=null!=(o=null!=(a=y.input)?a:c.Input)?o:Eo;return(0,N.jsx)(So,(0,s.A)({slots:{root:T,input:A},slotProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:x},b,{classes:v}))});Co.muiName="Input";const Do=Co;function Mo(e){return h("MuiFilledInput",e)}const Lo=(0,s.A)({},fo,Ne("MuiFilledInput",["root","underline","input"])),Io=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Po=Ce(xo,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...go(e,t),!n.disableUnderline&&t.underline]}})(e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",u=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,s.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},[`&.${Lo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},[`&.${Lo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:u}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Lo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Lo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Lo.disabled}, .${Lo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Lo.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,s.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))}),Oo=Ce(bo,{name:"MuiFilledInput",slot:"Input",overridesResolver:yo})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})}),Ro=e.forwardRef(function(e,t){var n,r,o,a;const l=Ie({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:h=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:y="text"}=l,x=(0,i.A)(l,Io),b=(0,s.A)({},l,{fullWidth:h,inputComponent:p,multiline:f,type:y}),v=(e=>{const{classes:t,disableUnderline:n}=e,r=d({root:["root",!n&&"underline"],input:["input"]},Mo,t);return(0,s.A)({},t,r)})(l),w={root:{ownerState:b},input:{ownerState:b}},S=(null!=m?m:c)?(0,k.A)(w,null!=m?m:c):w,T=null!=(n=null!=(r=g.root)?r:u.Root)?n:Po,A=null!=(o=null!=(a=g.input)?a:u.Input)?o:Oo;return(0,N.jsx)(So,(0,s.A)({slots:{root:T,input:A},componentsProps:S,fullWidth:h,inputComponent:p,multiline:f,ref:t,type:y},x,{classes:v}))});Ro.muiName="Input";const $o=Ro;var No;const Fo=["children","classes","className","label","notched"],zo=Ce("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ee})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Vo=Ce("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ee})(e=>{let{ownerState:t,theme:n}=e;return(0,s.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,s.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))});function jo(e){return h("MuiOutlinedInput",e)}const Bo=(0,s.A)({},fo,Ne("MuiOutlinedInput",["root","notchedOutline","input"])),Wo=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Uo=Ce(xo,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:go})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,s.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Bo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Bo.focused} .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Bo.error} .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Bo.disabled} .${Bo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,s.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))}),Ko=Ce(function(e){const{className:t,label:n,notched:r}=e,o=(0,i.A)(e,Fo),a=null!=n&&""!==n,l=(0,s.A)({},e,{notched:r,withLabel:a});return(0,N.jsx)(zo,(0,s.A)({"aria-hidden":!0,className:t,ownerState:l},o,{children:(0,N.jsx)(Vo,{ownerState:l,children:a?(0,N.jsx)("span",{children:n}):No||(No=(0,N.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),Ho=Ce(bo,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:yo})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})}),Go=e.forwardRef(function(t,n){var r,o,a,l,u;const c=Ie({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:p=!1,inputComponent:f="input",label:m,multiline:g=!1,notched:y,slots:x={},type:b="text"}=c,v=(0,i.A)(c,Wo),w=(e=>{const{classes:t}=e,n=d({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jo,t);return(0,s.A)({},t,n)})(c),S=qr(),k=Xr({props:c,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=(0,s.A)({},c,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:S,fullWidth:p,hiddenLabel:k.hiddenLabel,multiline:g,size:k.size,type:b}),A=null!=(r=null!=(o=x.root)?o:h.Root)?r:Uo,_=null!=(a=null!=(l=x.input)?l:h.Input)?a:Ho;return(0,N.jsx)(So,(0,s.A)({slots:{root:A,input:_},renderSuffix:t=>(0,N.jsx)(Ko,{ownerState:T,className:w.notchedOutline,label:null!=m&&""!==m&&k.required?u||(u=(0,N.jsxs)(e.Fragment,{children:[m,"\u2009","*"]})):m,notched:"undefined"!==typeof y?y:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:p,inputComponent:f,multiline:g,ref:n,type:b},v,{classes:(0,s.A)({},w,{notchedOutline:null})}))});Go.muiName="Input";const Yo=Go,Xo=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qo=["root"],Qo={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ee(e)&&"variant"!==e,slot:"Root"},Jo=Ce(Do,Qo)(""),Zo=Ce(Yo,Qo)(""),ea=Ce($o,Qo)(""),ta=e.forwardRef(function(t,n){const r=Ie({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:l,classes:u={},className:c,defaultOpen:h=!1,displayEmpty:d=!1,IconComponent:p=to,id:f,input:m,inputProps:g,label:y,labelId:x,MenuProps:b,multiple:v=!1,native:w=!1,onClose:S,onOpen:T,open:A,renderValue:_,SelectDisplayProps:E,variant:C="outlined"}=r,D=(0,i.A)(r,Xo),M=w?js:eo,L=Xr({props:r,muiFormControl:qr(),states:["variant","error"]}),I=L.variant||C,P=(0,s.A)({},r,{variant:I,classes:u}),O=(e=>{const{classes:t}=e;return t})(P),R=(0,i.A)(O,qo),$=m||{standard:(0,N.jsx)(Jo,{ownerState:P}),outlined:(0,N.jsx)(Zo,{label:y,ownerState:P}),filled:(0,N.jsx)(ea,{ownerState:P})}[I],F=ft(n,Hn($));return(0,N.jsx)(e.Fragment,{children:e.cloneElement($,(0,s.A)({inputComponent:M,inputProps:(0,s.A)({children:l,error:L.error,IconComponent:p,variant:I,type:void 0,multiple:v},w?{id:f}:{autoWidth:o,defaultOpen:h,displayEmpty:d,labelId:x,MenuProps:b,onClose:S,onOpen:T,open:A,renderValue:_,SelectDisplayProps:(0,s.A)({id:f},E)},g,{classes:g?(0,k.A)(R,g.classes):R},m?m.props.inputProps:{})},(v&&w||d)&&"outlined"===I?{notched:!0}:{},{ref:F,className:a($.props.className,c,O.root)},!m&&{variant:I},D))})});ta.muiName="Select";const na=ta;const ra=Ne("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const ia=Ne("MuiListItemIcon",["root","alignItemsFlexStart"]);const sa=Ne("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function oa(e){return h("MuiMenuItem",e)}const aa=Ne("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),la=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ua=Ce(un,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${aa.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${aa.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${aa.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${aa.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${aa.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${ra.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${ra.inset}`]:{marginLeft:52},[`& .${sa.root}`]:{marginTop:0,marginBottom:0},[`& .${sa.inset}`]:{paddingLeft:36},[`& .${ia.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,s.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${ia.root} svg`]:{fontSize:"1.25rem"}}))}),ca=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:l="li",dense:u=!1,divider:c=!1,disableGutters:h=!1,focusVisibleClassName:p,role:f="menuitem",tabIndex:m,className:g}=r,y=(0,i.A)(r,la),x=e.useContext(xi),b=e.useMemo(()=>({dense:u||x.dense||!1,disableGutters:h}),[x.dense,u,h]),v=e.useRef(null);Ai(()=>{o&&v.current&&v.current.focus()},[o]);const w=(0,s.A)({},r,{dense:b.dense,divider:c,disableGutters:h}),S=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e,l=d({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},oa,a);return(0,s.A)({},a,l)})(r),k=ft(v,n);let T;return r.disabled||(T=void 0!==m?m:-1),(0,N.jsx)(xi.Provider,{value:b,children:(0,N.jsx)(ua,(0,s.A)({ref:k,role:f,tabIndex:T,component:l,focusVisibleClassName:a(S.focusVisible,p),className:a(S.root,g)},y,{ownerState:w,classes:S}))})});function ha(e){return h("MuiFormHelperText",e)}const da=Ne("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var pa;const fa=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ma=Ce("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${B(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${da.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${da.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})}),ga=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:l="p"}=n,u=(0,i.A)(n,fa),c=Xr({props:n,muiFormControl:qr(),states:["variant","size","disabled","error","filled","focused","required"]}),h=(0,s.A)({},n,{component:l,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=e;return d({root:["root",i&&"disabled",s&&"error",r&&`size${B(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]},ha,t)})(h);return(0,N.jsx)(ma,(0,s.A)({as:l,ownerState:h,className:a(p.root,o),ref:t},u,{children:" "===r?pa||(pa=(0,N.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))});function ya(e){return h("MuiTextField",e)}Ne("MuiTextField",["root"]);const xa=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],ba={standard:Do,filled:$o,outlined:Yo},va=Ce(Yr,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wa=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:l,className:u,color:c="primary",defaultValue:h,disabled:p=!1,error:f=!1,FormHelperTextProps:m,fullWidth:g=!1,helperText:y,id:x,InputLabelProps:b,inputProps:v,InputProps:w,inputRef:S,label:k,maxRows:T,minRows:A,multiline:_=!1,name:E,onBlur:C,onChange:D,onFocus:M,placeholder:L,required:I=!1,rows:P,select:O=!1,SelectProps:R,type:$,value:F,variant:z="outlined"}=n,V=(0,i.A)(n,xa),j=(0,s.A)({},n,{autoFocus:o,color:c,disabled:p,error:f,fullWidth:g,multiline:_,required:I,select:O,variant:z}),B=(e=>{const{classes:t}=e;return d({root:["root"]},ya,t)})(j);const W={};"outlined"===z&&(b&&"undefined"!==typeof b.shrink&&(W.notched=b.shrink),W.label=k),O&&(R&&R.native||(W.id=void 0),W["aria-describedby"]=void 0);const U=ci(x),K=y&&U?`${U}-helper-text`:void 0,H=k&&U?`${U}-label`:void 0,G=ba[z],Y=(0,N.jsx)(G,(0,s.A)({"aria-describedby":K,autoComplete:r,autoFocus:o,defaultValue:h,fullWidth:g,multiline:_,name:E,rows:P,maxRows:T,minRows:A,type:$,value:F,id:U,inputRef:S,onBlur:C,onChange:D,onFocus:M,placeholder:L,inputProps:v},W,w));return(0,N.jsxs)(va,(0,s.A)({className:a(B.root,u),disabled:p,error:f,fullWidth:g,ref:t,required:I,color:c,variant:z,ownerState:j},V,{children:[null!=k&&""!==k&&(0,N.jsx)(ai,(0,s.A)({htmlFor:U,id:H},b,{children:k})),O?(0,N.jsx)(na,(0,s.A)({"aria-describedby":K,id:U,labelId:H,value:F,input:Y},R,{children:l})):Y,y&&(0,N.jsx)(ga,(0,s.A)({id:K},m,{children:y}))]}))}),Sa=wa;var ka=n(7937);const Ta=["component","direction","spacing","divider","children","className","useFlexGap"],Aa=(0,g.A)(),_a=$("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Ea(e){return w({props:e,name:"MuiStack",defaultTheme:Aa})}function Ca(t,n){const r=e.Children.toArray(t).filter(Boolean);return r.reduce((t,i,s)=>(t.push(i),s<r.length-1&&t.push(e.cloneElement(n,{key:`separator-${s}`})),t),[])}const Da=e=>{let{ownerState:t,theme:n}=e,r=(0,s.A)({display:"flex",flexDirection:"column"},(0,sr.NI)({theme:n},(0,sr.kW)({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=(0,ka.LX)(n),i=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),s=(0,sr.kW)({values:t.direction,base:i}),o=(0,sr.kW)({values:t.spacing,base:i});"object"===typeof s&&Object.keys(s).forEach((e,t,n)=>{if(!s[e]){const r=t>0?s[n[t-1]]:"column";s[e]=r}});const a=(n,r)=>{return t.useFlexGap?{gap:(0,ka._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${i=r?s[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]}`]:(0,ka._W)(e,n)}};var i};r=(0,k.A)(r,(0,sr.NI)({theme:n},o,a))}return r=(0,sr.iZ)(n.breakpoints,r),r};const Ma=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=_a,useThemeProps:r=Ea,componentName:o="MuiStack"}=t,l=n(Da),u=e.forwardRef(function(e,t){const n=r(e),u=(0,Re.A)(n),{component:c="div",direction:p="column",spacing:f=0,divider:m,children:g,className:y,useFlexGap:x=!1}=u,b=(0,i.A)(u,Ta),v={direction:p,spacing:f,useFlexGap:x},w=d({root:["root"]},e=>h(o,e),{});return(0,N.jsx)(l,(0,s.A)({as:c,ownerState:v,ref:t,className:a(w.root,y)},b,{children:m?Ca(g,m):g}))});return u}({createStyledComponent:Ce("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Ie({props:e,name:"MuiStack"})}),La=Ma;function Ia(e){return h("MuiButton",e)}const Pa=Ne("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Oa=e.createContext({});const Ra=e.createContext(void 0),$a=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Na=e=>(0,s.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Fa=Ce(un,{shouldForwardProp:e=>Ee(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${B(n.color)}`],t[`size${B(n.size)}`],t[`${n.variant}Size${B(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,s.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,s.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,G.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,G.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,G.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,s.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Pa.focusVisible}`]:(0,s.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Pa.disabled}`]:(0,s.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,G.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})},e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pa.disabled}`]:{boxShadow:"none"}}}),za=Ce("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${B(n.size)}`]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Na(t))}),Va=Ce("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${B(n.size)}`]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Na(t))}),ja=e.forwardRef(function(t,n){const r=e.useContext(Oa),o=e.useContext(Ra),l=Ie({props:f(r,t),name:"MuiButton"}),{children:u,color:c="primary",component:h="button",className:p,disabled:m=!1,disableElevation:g=!1,disableFocusRipple:y=!1,endIcon:x,focusVisibleClassName:b,fullWidth:v=!1,size:w="medium",startIcon:S,type:k,variant:T="text"}=l,A=(0,i.A)(l,$a),_=(0,s.A)({},l,{color:c,component:h,disabled:m,disableElevation:g,disableFocusRipple:y,fullWidth:v,size:w,type:k,variant:T}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e,l=d({root:["root",o,`${o}${B(t)}`,`size${B(i)}`,`${o}Size${B(i)}`,`color${B(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${B(i)}`],endIcon:["icon","endIcon",`iconSize${B(i)}`]},Ia,a);return(0,s.A)({},a,l)})(_),C=S&&(0,N.jsx)(za,{className:E.startIcon,ownerState:_,children:S}),D=x&&(0,N.jsx)(Va,{className:E.endIcon,ownerState:_,children:x}),M=o||"";return(0,N.jsxs)(Fa,(0,s.A)({ownerState:_,className:a(r.className,E.root,p,M),component:h,disabled:m,focusRipple:!y,focusVisibleClassName:a(E.focusVisible,b),ref:n,type:k},A,{classes:E,children:[C,u,D]}))}),Ba=ja;var Wa=n(5329);function Ua(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ka(e){return e instanceof Ua(e).Element||e instanceof Element}function Ha(e){return e instanceof Ua(e).HTMLElement||e instanceof HTMLElement}function Ga(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Ua(e).ShadowRoot||e instanceof ShadowRoot)}var Ya=Math.max,Xa=Math.min,qa=Math.round;function Qa(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ja(){return!/^((?!chrome|android).)*safari/i.test(Qa())}function Za(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Ha(e)&&(i=e.offsetWidth>0&&qa(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&qa(r.height)/e.offsetHeight||1);var o=(Ka(e)?Ua(e):window).visualViewport,a=!Ja()&&n,l=(r.left+(a&&o?o.offsetLeft:0))/i,u=(r.top+(a&&o?o.offsetTop:0))/s,c=r.width/i,h=r.height/s;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l,x:l,y:u}}function el(e){var t=Ua(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tl(e){return e?(e.nodeName||"").toLowerCase():null}function nl(e){return((Ka(e)?e.ownerDocument:e.document)||window.document).documentElement}function rl(e){return Za(nl(e)).left+el(e).scrollLeft}function il(e){return Ua(e).getComputedStyle(e)}function sl(e){var t=il(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ol(e,t,n){void 0===n&&(n=!1);var r=Ha(t),i=Ha(t)&&function(e){var t=e.getBoundingClientRect(),n=qa(t.width)/e.offsetWidth||1,r=qa(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=nl(t),o=Za(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==tl(t)||sl(s))&&(a=function(e){return e!==Ua(e)&&Ha(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:el(e);var t}(t)),Ha(t)?((l=Za(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=rl(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function al(e){var t=Za(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ll(e){return"html"===tl(e)?e:e.assignedSlot||e.parentNode||(Ga(e)?e.host:null)||nl(e)}function ul(e){return["html","body","#document"].indexOf(tl(e))>=0?e.ownerDocument.body:Ha(e)&&sl(e)?e:ul(ll(e))}function cl(e,t){var n;void 0===t&&(t=[]);var r=ul(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=Ua(r),o=i?[s].concat(s.visualViewport||[],sl(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(cl(ll(o)))}function hl(e){return["table","td","th"].indexOf(tl(e))>=0}function dl(e){return Ha(e)&&"fixed"!==il(e).position?e.offsetParent:null}function pl(e){for(var t=Ua(e),n=dl(e);n&&hl(n)&&"static"===il(n).position;)n=dl(n);return n&&("html"===tl(n)||"body"===tl(n)&&"static"===il(n).position)?t:n||function(e){var t=/firefox/i.test(Qa());if(/Trident/i.test(Qa())&&Ha(e)&&"fixed"===il(e).position)return null;var n=ll(e);for(Ga(n)&&(n=n.host);Ha(n)&&["html","body"].indexOf(tl(n))<0;){var r=il(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var fl="top",ml="bottom",gl="right",yl="left",xl="auto",bl=[fl,ml,gl,yl],vl="start",wl="end",Sl="viewport",kl="popper",Tl=bl.reduce(function(e,t){return e.concat([t+"-"+vl,t+"-"+wl])},[]),Al=[].concat(bl,[xl]).reduce(function(e,t){return e.concat([t,t+"-"+vl,t+"-"+wl])},[]),_l=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function El(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}function Cl(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Dl={placement:"bottom",modifiers:[],strategy:"absolute"};function Ml(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Ll(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?Dl:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dl,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},s,i.options,a),i.scrollParents={reference:Ka(e)?cl(e):e.contextElement?cl(e.contextElement):[],popper:cl(t)};var c=function(e){var t=El(e);return _l.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var a=s({state:i,name:t,instance:l,options:r}),u=function(){};o.push(a||u)}}),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(Ml(t,n)){i.rects={reference:ol(t,pl(n),"fixed"===i.options.strategy),popper:al(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],o=s.fn,u=s.options,c=void 0===u?{}:u,h=s.name;"function"===typeof o&&(i=o({state:i,options:c,name:h,instance:l})||i)}else i.reset=!1,r=-1}}},update:Cl(function(){return new Promise(function(e){l.forceUpdate(),e(i)})}),destroy:function(){u(),a=!0}};if(!Ml(e,t))return l;function u(){o.forEach(function(e){return e()}),o=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Il={passive:!0};function Pl(e){return e.split("-")[0]}function Ol(e){return e.split("-")[1]}function Rl(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $l(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?Pl(i):null,o=i?Ol(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case fl:t={x:a,y:n.y-r.height};break;case ml:t={x:a,y:n.y+n.height};break;case gl:t={x:n.x+n.width,y:l};break;case yl:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=s?Rl(s):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case vl:t[u]=t[u]-(n[c]/2-r[c]/2);break;case wl:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var Nl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fl(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,d=o.x,p=void 0===d?0:d,f=o.y,m=void 0===f?0:f,g="function"===typeof c?c({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),b=yl,v=fl,w=window;if(u){var S=pl(n),k="clientHeight",T="clientWidth";if(S===Ua(n)&&"static"!==il(S=nl(n)).position&&"absolute"===a&&(k="scrollHeight",T="scrollWidth"),i===fl||(i===yl||i===gl)&&s===wl)v=ml,m-=(h&&S===w&&w.visualViewport?w.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(i===yl||(i===fl||i===ml)&&s===wl)b=gl,p-=(h&&S===w&&w.visualViewport?w.visualViewport.width:S[T])-r.width,p*=l?1:-1}var A,_=Object.assign({position:a},u&&Nl),E=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:qa(n*i)/i||0,y:qa(r*i)/i||0}}({x:p,y:m},Ua(n)):{x:p,y:m};return p=E.x,m=E.y,l?Object.assign({},_,((A={})[v]=x?"0":"",A[b]=y?"0":"",A.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",A)):Object.assign({},_,((t={})[v]=x?m+"px":"",t[b]=y?p+"px":"",t.transform="",t))}const zl={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Ha(i)&&tl(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Ha(r)&&tl(r)&&(Object.assign(r.style,s),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const Vl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,o=Al.reduce(function(e,n){return e[n]=function(e,t,n){var r=Pl(e),i=[yl,fl].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[yl,gl].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,s),e},{}),a=o[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}};var jl={left:"right",right:"left",bottom:"top",top:"bottom"};function Bl(e){return e.replace(/left|right|bottom|top/g,function(e){return jl[e]})}var Wl={start:"end",end:"start"};function Ul(e){return e.replace(/start|end/g,function(e){return Wl[e]})}function Kl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ga(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Hl(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Gl(e,t,n){return t===Sl?Hl(function(e,t){var n=Ua(e),r=nl(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Ja();(u||!u&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+rl(e),y:l}}(e,n)):Ka(t)?function(e,t){var n=Za(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Hl(function(e){var t,n=nl(e),r=el(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=Ya(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ya(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+rl(e),l=-r.scrollTop;return"rtl"===il(i||n).direction&&(a+=Ya(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(nl(e)))}function Yl(e,t,n,r){var i="clippingParents"===t?function(e){var t=cl(ll(e)),n=["absolute","fixed"].indexOf(il(e).position)>=0&&Ha(e)?pl(e):e;return Ka(n)?t.filter(function(e){return Ka(e)&&Kl(e,n)&&"body"!==tl(e)}):[]}(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(t,n){var i=Gl(e,n,r);return t.top=Ya(i.top,t.top),t.right=Xa(i.right,t.right),t.bottom=Xa(i.bottom,t.bottom),t.left=Ya(i.left,t.left),t},Gl(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Xl(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ql(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Ql(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,o=void 0===s?e.strategy:s,a=n.boundary,l=void 0===a?"clippingParents":a,u=n.rootBoundary,c=void 0===u?Sl:u,h=n.elementContext,d=void 0===h?kl:h,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,y=Xl("number"!==typeof g?g:ql(g,bl)),x=d===kl?"reference":kl,b=e.rects.popper,v=e.elements[f?x:d],w=Yl(Ka(v)?v:v.contextElement||nl(e.elements.popper),l,c,o),S=Za(e.elements.reference),k=$l({reference:S,element:b,strategy:"absolute",placement:i}),T=Hl(Object.assign({},b,k)),A=d===kl?T:S,_={top:w.top-A.top+y.top,bottom:A.bottom-w.bottom+y.bottom,left:w.left-A.left+y.left,right:A.right-w.right+y.right},E=e.modifiersData.offset;if(d===kl&&E){var C=E[i];Object.keys(_).forEach(function(e){var t=[gl,ml].indexOf(e)>=0?1:-1,n=[fl,ml].indexOf(e)>=0?"y":"x";_[e]+=C[n]*t})}return _}function Jl(e,t,n){return Ya(e,Xa(t,n))}const Zl={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0!==o&&o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,d=n.tether,p=void 0===d||d,f=n.tetherOffset,m=void 0===f?0:f,g=Ql(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),y=Pl(t.placement),x=Ol(t.placement),b=!x,v=Rl(y),w="x"===v?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,T=t.rects.popper,A="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,_="number"===typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(s){var D,M="y"===v?fl:yl,L="y"===v?ml:gl,I="y"===v?"height":"width",P=S[v],O=P+g[M],R=P-g[L],$=p?-T[I]/2:0,N=x===vl?k[I]:T[I],F=x===vl?-T[I]:-k[I],z=t.elements.arrow,V=p&&z?al(z):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=j[M],W=j[L],U=Jl(0,k[I],V[I]),K=b?k[I]/2-$-U-B-_.mainAxis:N-U-B-_.mainAxis,H=b?-k[I]/2+$+U+W+_.mainAxis:F+U+W+_.mainAxis,G=t.elements.arrow&&pl(t.elements.arrow),Y=G?"y"===v?G.clientTop||0:G.clientLeft||0:0,X=null!=(D=null==E?void 0:E[v])?D:0,q=P+H-X,Q=Jl(p?Xa(O,P+K-X-Y):O,P,p?Ya(R,q):R);S[v]=Q,C[v]=Q-P}if(a){var J,Z="x"===v?fl:yl,ee="x"===v?ml:gl,te=S[w],ne="y"===w?"height":"width",re=te+g[Z],ie=te-g[ee],se=-1!==[fl,yl].indexOf(y),oe=null!=(J=null==E?void 0:E[w])?J:0,ae=se?re:te-k[ne]-T[ne]-oe+_.altAxis,le=se?te+k[ne]+T[ne]-oe-_.altAxis:ie,ue=p&&se?function(e,t,n){var r=Jl(e,t,n);return r>n?n:r}(ae,te,le):Jl(p?ae:re,te,p?le:ie);S[w]=ue,C[w]=ue-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};const eu={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Pl(n.placement),l=Rl(a),u=[yl,gl].indexOf(a)>=0?"height":"width";if(s&&o){var c=function(e,t){return Xl("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ql(e,bl))}(i.padding,n),h=al(s),d="y"===l?fl:yl,p="y"===l?ml:gl,f=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],m=o[l]-n.rects.reference[l],g=pl(s),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,x=f/2-m/2,b=c[d],v=y-h[u]-c[p],w=y/2-h[u]/2+x,S=Jl(b,w,v),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Kl(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tu(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function nu(e){return[fl,gl,ml,yl].some(function(t){return e[t]>=0})}var ru=Ll({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=Ua(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(e){e.addEventListener("scroll",n.update,Il)}),a&&l.addEventListener("resize",n.update,Il),function(){s&&u.forEach(function(e){e.removeEventListener("scroll",n.update,Il)}),a&&l.removeEventListener("resize",n.update,Il)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$l({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,u={placement:Pl(t.placement),variation:Ol(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Fl(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fl(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zl,Vl,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=Pl(g),x=l||(y===g||!f?[Bl(g)]:function(e){if(Pl(e)===xl)return[];var t=Bl(e);return[Ul(e),t,Ul(t)]}(g)),b=[g].concat(x).reduce(function(e,n){return e.concat(Pl(n)===xl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Al:l,c=Ol(r),h=c?a?Tl:Tl.filter(function(e){return Ol(e)===c}):bl,d=h.filter(function(e){return u.indexOf(e)>=0});0===d.length&&(d=h);var p=d.reduce(function(t,n){return t[n]=Ql(e,{placement:n,boundary:i,rootBoundary:s,padding:o})[Pl(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:c,rootBoundary:h,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)},[]),v=t.rects.reference,w=t.rects.popper,S=new Map,k=!0,T=b[0],A=0;A<b.length;A++){var _=b[A],E=Pl(_),C=Ol(_)===vl,D=[fl,ml].indexOf(E)>=0,M=D?"width":"height",L=Ql(t,{placement:_,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),I=D?C?gl:yl:C?ml:fl;v[M]>w[M]&&(I=Bl(I));var P=Bl(I),O=[];if(s&&O.push(L[E]<=0),a&&O.push(L[I]<=0,L[P]<=0),O.every(function(e){return e})){T=_,k=!1;break}S.set(_,O)}if(k)for(var R=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return T=t,"break"},$=f?3:1;$>0;$--){if("break"===R($))break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Zl,eu,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Ql(t,{elementContext:"reference"}),a=Ql(t,{altBoundary:!0}),l=tu(o,r),u=tu(a,i,s),c=nu(l),h=nu(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]});function iu(e){return h("MuiPopper",e)}Ne("MuiPopper",["root"]);const su=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ou=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function au(e){return"function"===typeof e?e():e}function lu(e){return void 0!==e.nodeType}const uu={},cu=e.forwardRef(function(t,n){var r;const{anchorEl:o,children:a,direction:l,disablePortal:u,modifiers:c,open:h,placement:p,popperOptions:f,popperRef:m,slotProps:g={},slots:y={},TransitionProps:x}=t,b=(0,i.A)(t,su),v=e.useRef(null),w=qe(v,n),S=e.useRef(null),k=qe(S,m),T=e.useRef(k);mt(()=>{T.current=k},[k]),e.useImperativeHandle(m,()=>S.current,[]);const A=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,l),[_,E]=e.useState(A),[C,D]=e.useState(au(o));e.useEffect(()=>{S.current&&S.current.forceUpdate()}),e.useEffect(()=>{o&&D(au(o))},[o]),mt(()=>{if(!C||!h)return;let e=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;E(t.placement)}}];null!=c&&(e=e.concat(c)),f&&null!=f.modifiers&&(e=e.concat(f.modifiers));const t=ru(C,v.current,(0,s.A)({placement:A},f,{modifiers:e}));return T.current(t),()=>{t.destroy(),T.current(null)}},[C,u,c,h,f,A]);const M={placement:_};null!==x&&(M.TransitionProps=x);const L=(e=>{const{classes:t}=e;return d({root:["root"]},iu,t)})(t),I=null!=(r=y.root)?r:"div",P=yi({elementType:I,externalSlotProps:g.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:L.root});return(0,N.jsx)(I,(0,s.A)({},P,{children:"function"===typeof a?a(M):a}))}),hu=e.forwardRef(function(t,n){const{anchorEl:r,children:o,container:a,direction:l="ltr",disablePortal:u=!1,keepMounted:c=!1,modifiers:h,open:d,placement:p="bottom",popperOptions:f=uu,popperRef:m,style:g,transition:y=!1,slotProps:x={},slots:b={}}=t,v=(0,i.A)(t,ou),[w,S]=e.useState(!0);if(!c&&!d&&(!y||w))return null;let k;if(a)k=a;else if(r){const e=au(r);k=e&&lu(e)?Jn(e).body:Jn(null).body}const T=d||!c||y&&!w?void 0:"none",A=y?{in:d,onEnter:()=>{S(!1)},onExited:()=>{S(!0)}}:void 0;return(0,N.jsx)(Wi,{disablePortal:u,container:k,children:(0,N.jsx)(cu,(0,s.A)({anchorEl:r,direction:l,disablePortal:u,modifiers:h,ref:n,open:y?!w:d,placement:p,popperOptions:f,popperRef:m,slotProps:x,slots:b},v,{style:(0,s.A)({position:"fixed",top:0,left:0,display:T},g),TransitionProps:A,children:o}))})}),du=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],pu=Ce(hu,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fu=e.forwardRef(function(e,t){var n;const r=(0,Wa.A)(),o=Ie({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:u,componentsProps:c,container:h,disablePortal:d,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:y,popperRef:x,transition:b,slots:v,slotProps:w}=o,S=(0,i.A)(o,du),k=null!=(n=null==v?void 0:v.root)?n:null==u?void 0:u.Root,T=(0,s.A)({anchorEl:a,container:h,disablePortal:d,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:y,popperRef:x,transition:b},S);return(0,N.jsx)(pu,(0,s.A)({as:l,direction:null==r?void 0:r.direction,slots:{root:k},slotProps:null!=w?w:c},T,{ref:t}))}),mu=fu,gu=ci;function yu(e){return h("MuiTooltip",e)}const xu=Ne("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),bu=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function vu(e){return Math.round(1e5*e)/1e5}const wu=Ce(mu,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(e=>{let{theme:t,ownerState:n,open:r}=e;return(0,s.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${xu.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${xu.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${xu.arrow}`]:(0,s.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${xu.arrow}`]:(0,s.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})}),Su=Ce("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${B(n.placement.split("-")[0])}`]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,G.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${vu(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${xu.popper}[data-popper-placement*="left"] &`]:(0,s.A)({transformOrigin:"right center"},n.isRtl?(0,s.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,s.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${xu.popper}[data-popper-placement*="right"] &`]:(0,s.A)({transformOrigin:"left center"},n.isRtl?(0,s.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,s.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${xu.popper}[data-popper-placement*="top"] &`]:(0,s.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${xu.popper}[data-popper-placement*="bottom"] &`]:(0,s.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})}),ku=Ce("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,G.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}});let Tu=!1;const Au=new vt;let _u={x:0,y:0};function Eu(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];t&&t(n,...i),e(n,...i)}}const Cu=e.forwardRef(function(t,n){var r,o,l,u,c,h,p,f,m,g,y,x,b,v,w,S,k,T,A;const _=Ie({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:C,components:D={},componentsProps:M={},describeChild:L=!1,disableFocusListener:I=!1,disableHoverListener:P=!1,disableInteractive:O=!1,disableTouchListener:R=!1,enterDelay:$=100,enterNextDelay:F=0,enterTouchDelay:z=700,followCursor:V=!1,id:j,leaveDelay:W=0,leaveTouchDelay:U=1500,onClose:K,onOpen:H,open:G,placement:Y="bottom",PopperComponent:X,PopperProps:q={},slotProps:Q={},slots:J={},title:Z,TransitionComponent:ee=Fi,TransitionProps:te}=_,ne=(0,i.A)(_,bu),re=e.isValidElement(C)?C:(0,N.jsx)("span",{children:C}),ie=Xn(),se=fi(),[oe,ae]=e.useState(),[le,ue]=e.useState(null),ce=e.useRef(!1),he=O||V,de=wt(),pe=wt(),fe=wt(),me=wt(),[ge,ye]=Ws({controlled:G,default:!1,name:"Tooltip",state:"open"});let xe=ge;const be=gu(j),ve=e.useRef(),we=yt(()=>{void 0!==ve.current&&(document.body.style.WebkitUserSelect=ve.current,ve.current=void 0),me.clear()});e.useEffect(()=>we,[we]);const Se=e=>{Au.clear(),Tu=!0,ye(!0),H&&!xe&&H(e)},ke=yt(e=>{Au.start(800+W,()=>{Tu=!1}),ye(!1),K&&xe&&K(e),de.start(ie.transitions.duration.shortest,()=>{ce.current=!1})}),Te=e=>{ce.current&&"touchstart"!==e.type||(oe&&oe.removeAttribute("title"),pe.clear(),fe.clear(),$||Tu&&F?pe.start(Tu?F:$,()=>{Se(e)}):Se(e))},Ae=e=>{pe.clear(),fe.start(W,()=>{ke(e)})},{isFocusVisibleRef:_e,onBlur:Ee,onFocus:Ce,ref:De}=Mt(),[,Me]=e.useState(!1),Le=e=>{Ee(e),!1===_e.current&&(Me(!1),Ae(e))},Pe=e=>{oe||ae(e.currentTarget),Ce(e),!0===_e.current&&(Me(!0),Te(e))},Oe=e=>{ce.current=!0;const t=re.props;t.onTouchStart&&t.onTouchStart(e)},Re=e=>{Oe(e),fe.clear(),de.clear(),we(),ve.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",me.start(z,()=>{document.body.style.WebkitUserSelect=ve.current,Te(e)})},$e=e=>{re.props.onTouchEnd&&re.props.onTouchEnd(e),we(),fe.start(U,()=>{ke(e)})};e.useEffect(()=>{if(xe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ke(e)}},[ke,xe]);const Ne=ft(Hn(re),De,ae,n);Z||0===Z||(xe=!1);const Fe=e.useRef(),ze={},Ve="string"===typeof Z;L?(ze.title=xe||!Ve||P?null:Z,ze["aria-describedby"]=xe?be:null):(ze["aria-label"]=Ve?Z:null,ze["aria-labelledby"]=xe&&!Ve?be:null);const je=(0,s.A)({},ze,ne,re.props,{className:a(ne.className,re.props.className),onTouchStart:Oe,ref:Ne},V?{onMouseMove:e=>{const t=re.props;t.onMouseMove&&t.onMouseMove(e),_u={x:e.clientX,y:e.clientY},Fe.current&&Fe.current.update()}}:{});const Be={};R||(je.onTouchStart=Re,je.onTouchEnd=$e),P||(je.onMouseOver=Eu(Te,je.onMouseOver),je.onMouseLeave=Eu(Ae,je.onMouseLeave),he||(Be.onMouseOver=Te,Be.onMouseLeave=Ae)),I||(je.onFocus=Eu(Pe,je.onFocus),je.onBlur=Eu(Le,je.onBlur),he||(Be.onFocus=Pe,Be.onBlur=Le));const We=e.useMemo(()=>{var e;let t=[{name:"arrow",enabled:Boolean(le),options:{element:le,padding:4}}];return null!=(e=q.popperOptions)&&e.modifiers&&(t=t.concat(q.popperOptions.modifiers)),(0,s.A)({},q.popperOptions,{modifiers:t})},[le,q]),Ue=(0,s.A)({},_,{isRtl:se,arrow:E,disableInteractive:he,placement:Y,PopperComponentProp:X,touch:ce.current}),Ke=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:s}=e;return d({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${B(s.split("-")[0])}`],arrow:["arrow"]},yu,t)})(Ue),He=null!=(r=null!=(o=J.popper)?o:D.Popper)?r:wu,Ge=null!=(l=null!=(u=null!=(c=J.transition)?c:D.Transition)?u:ee)?l:Fi,Ye=null!=(h=null!=(p=J.tooltip)?p:D.Tooltip)?h:Su,Xe=null!=(f=null!=(m=J.arrow)?m:D.Arrow)?f:ku,qe=Je(He,(0,s.A)({},q,null!=(g=Q.popper)?g:M.popper,{className:a(Ke.popper,null==q?void 0:q.className,null==(y=null!=(x=Q.popper)?x:M.popper)?void 0:y.className)}),Ue),Qe=Je(Ge,(0,s.A)({},te,null!=(b=Q.transition)?b:M.transition),Ue),Ze=Je(Ye,(0,s.A)({},null!=(v=Q.tooltip)?v:M.tooltip,{className:a(Ke.tooltip,null==(w=null!=(S=Q.tooltip)?S:M.tooltip)?void 0:w.className)}),Ue),et=Je(Xe,(0,s.A)({},null!=(k=Q.arrow)?k:M.arrow,{className:a(Ke.arrow,null==(T=null!=(A=Q.arrow)?A:M.arrow)?void 0:T.className)}),Ue);return(0,N.jsxs)(e.Fragment,{children:[e.cloneElement(re,je),(0,N.jsx)(He,(0,s.A)({as:null!=X?X:mu,placement:Y,anchorEl:V?{getBoundingClientRect:()=>({top:_u.y,left:_u.x,right:_u.x,bottom:_u.y,width:0,height:0})}:oe,popperRef:Fe,open:!!oe&&xe,id:be,transition:!0},Be,qe,{popperOptions:We,children:e=>{let{TransitionProps:t}=e;return(0,N.jsx)(Ge,(0,s.A)({timeout:ie.transitions.duration.shorter},t,Qe,{children:(0,N.jsxs)(Ye,(0,s.A)({},Ze,{children:[Z,E?(0,N.jsx)(Xe,(0,s.A)({},et,{ref:ue})):null]}))}))}}))]})}),Du=Cu,Mu=wn((0,N.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Lu(e){return h("MuiChip",e)}const Iu=Ne("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Pu=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ou=Ce("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:s,onDelete:o,size:a,variant:l}=n;return[{[`& .${Iu.avatar}`]:t.avatar},{[`& .${Iu.avatar}`]:t[`avatar${B(a)}`]},{[`& .${Iu.avatar}`]:t[`avatarColor${B(r)}`]},{[`& .${Iu.icon}`]:t.icon},{[`& .${Iu.icon}`]:t[`icon${B(a)}`]},{[`& .${Iu.icon}`]:t[`iconColor${B(i)}`]},{[`& .${Iu.deleteIcon}`]:t.deleteIcon},{[`& .${Iu.deleteIcon}`]:t[`deleteIcon${B(a)}`]},{[`& .${Iu.deleteIcon}`]:t[`deleteIconColor${B(r)}`]},{[`& .${Iu.deleteIcon}`]:t[`deleteIcon${B(l)}Color${B(r)}`]},t.root,t[`size${B(a)}`],t[`color${B(r)}`],s&&t.clickable,s&&"default"!==r&&t[`clickableColor${B(r)})`],o&&t.deletable,o&&"default"!==r&&t[`deletableColor${B(r)}`],t[l],t[`${l}${B(r)}`]]}})(e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,s.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Iu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Iu.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${Iu.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Iu.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Iu.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Iu.icon}`]:(0,s.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,s.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),[`& .${Iu.deleteIcon}`]:(0,s.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,G.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,G.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,G.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${Iu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,G.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${Iu.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,G.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Iu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,G.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${Iu.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})},e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Iu.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Iu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Iu.avatar}`]:{marginLeft:4},[`& .${Iu.avatarSmall}`]:{marginLeft:2},[`& .${Iu.icon}`]:{marginLeft:4},[`& .${Iu.iconSmall}`]:{marginLeft:2},[`& .${Iu.deleteIcon}`]:{marginRight:5},[`& .${Iu.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,G.X4)(t.palette[n.color].main,.7)}`,[`&.${Iu.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,G.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${Iu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,G.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${Iu.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,G.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})}),Ru=Ce("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${B(r)}`]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})});function $u(e){return"Backspace"===e.key||"Delete"===e.key}const Nu=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiChip"}),{avatar:o,className:l,clickable:u,color:c="default",component:h,deleteIcon:p,disabled:f=!1,icon:m,label:g,onClick:y,onDelete:x,onKeyDown:b,onKeyUp:v,size:w="medium",variant:S="filled",tabIndex:k,skipFocusWhenDisabled:T=!1}=r,A=(0,i.A)(r,Pu),_=e.useRef(null),E=ft(_,n),C=e=>{e.stopPropagation(),x&&x(e)},D=!(!1===u||!y)||u,M=D||x?un:h||"div",L=(0,s.A)({},r,{component:M,disabled:f,size:w,color:c,iconColor:e.isValidElement(m)&&m.props.color||c,onDelete:!!x,clickable:D,variant:S}),I=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:s,onDelete:o,clickable:a,variant:l}=e;return d({root:["root",l,n&&"disabled",`size${B(r)}`,`color${B(i)}`,a&&"clickable",a&&`clickableColor${B(i)}`,o&&"deletable",o&&`deletableColor${B(i)}`,`${l}${B(i)}`],label:["label",`label${B(r)}`],avatar:["avatar",`avatar${B(r)}`,`avatarColor${B(i)}`],icon:["icon",`icon${B(r)}`,`iconColor${B(s)}`],deleteIcon:["deleteIcon",`deleteIcon${B(r)}`,`deleteIconColor${B(i)}`,`deleteIcon${B(l)}Color${B(i)}`]},Lu,t)})(L),P=M===un?(0,s.A)({component:h||"div",focusVisibleClassName:I.focusVisible},x&&{disableRipple:!0}):{};let O=null;x&&(O=p&&e.isValidElement(p)?e.cloneElement(p,{className:a(p.props.className,I.deleteIcon),onClick:C}):(0,N.jsx)(Mu,{className:a(I.deleteIcon),onClick:C}));let R=null;o&&e.isValidElement(o)&&(R=e.cloneElement(o,{className:a(I.avatar,o.props.className)}));let $=null;return m&&e.isValidElement(m)&&($=e.cloneElement(m,{className:a(I.icon,m.props.className)})),(0,N.jsxs)(Ou,(0,s.A)({as:M,className:a(I.root,l),disabled:!(!D||!f)||void 0,onClick:y,onKeyDown:e=>{e.currentTarget===e.target&&$u(e)&&e.preventDefault(),b&&b(e)},onKeyUp:e=>{e.currentTarget===e.target&&(x&&$u(e)?x(e):"Escape"===e.key&&_.current&&_.current.blur()),v&&v(e)},ref:E,tabIndex:T&&f?-1:k,ownerState:L},P,A,{children:[R||$,(0,N.jsx)(Ru,{className:a(I.label),ownerState:L,children:g}),O]}))}),Fu=Nu,zu=wn((0,N.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Vu=wn((0,N.jsx)("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.9959.9959 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh"),ju=wn((0,N.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");function Bu(t,n,r,i,s){const[o,a]=e.useState(()=>s&&r?r(t).matches:i?i(t).matches:n);return mt(()=>{let e=!0;if(!r)return;const n=r(t),i=()=>{e&&a(n.matches)};return i(),n.addListener(i),()=>{e=!1,n.removeListener(i)}},[t,r]),o}const Wu=t.useSyncExternalStore;function Uu(t,n,r,i,s){const o=e.useCallback(()=>n,[n]),a=e.useMemo(()=>{if(s&&r)return()=>r(t).matches;if(null!==i){const{matches:e}=i(t);return()=>e}return o},[o,t,i,s,r]),[l,u]=e.useMemo(()=>{if(null===r)return[o,()=>()=>{}];const e=r(t);return[()=>e.matches,t=>(e.addListener(t),()=>{e.removeListener(t)})]},[o,r,t]);return Wu(u,l,a)}function Ku(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=x(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:s=(r?window.matchMedia:null),ssrMatchMedia:o=null,noSsr:a=!1}=m({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==Wu?Uu:Bu)(l,i,s,o,a)}function Hu(e){let{props:t,name:n}=e;return w({props:t,name:n,defaultTheme:Te,themeId:Ae})}var Gu=n(1942),Yu=n.n(Gu);function Xu(e,t,n){return"function"===typeof e?e(t,n):e}const qu=Yu().oneOfType([Yu().func,Yu().object]),Qu=(e,t)=>e.length===t.length&&t.every(t=>e.includes(t)),Ju=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},Zu=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:i,minDate:s,isDateDisabled:o,utils:a,timezone:l}=e;const u=Ju(a,a.dateWithTimezone(void 0,l),t);r&&a.isBefore(s,u)&&(s=u),n&&a.isAfter(i,u)&&(i=u);let c=t,h=t;for(a.isBefore(t,s)&&(c=s,h=null),a.isAfter(t,i)&&(h&&(h=i),c=null);c||h;){if(c&&a.isAfter(c,i)&&(c=null),h&&a.isBefore(h,s)&&(h=null),c){if(!o(c))return c;c=a.addDays(c,1)}if(h){if(!o(h))return h;h=a.addDays(h,-1)}}return null},ec=(e,t,n)=>null!=t&&e.isValid(t)?t:n,tc=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},nc=(e,t,n)=>"date"===n?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),rc=["year","month","day"],ic=e=>rc.includes(e),sc=(e,t,n)=>{let{format:r,views:i}=t;if(null!=r)return r;const s=e.formats;return Qu(i,["year"])?s.year:Qu(i,["month"])?s.month:Qu(i,["day"])?s.dayOfMonth:Qu(i,["month","year"])?`${s.month} ${s.year}`:Qu(i,["day","month"])?`${s.month} ${s.dayOfMonth}`:n?/en/.test(e.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},oc=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(t=>e.addDays(n,t))},ac=["hours","minutes","seconds"],lc=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),uc={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},cc=(e,t,n)=>{if(t===uc.year)return e.startOfYear(n);if(t===uc.month)return e.startOfMonth(n);if(t===uc.day)return e.startOfDay(n);let r=n;return t<uc.minutes&&(r=e.setMinutes(r,0)),t<uc.seconds&&(r=e.setSeconds(r,0)),t<uc.milliseconds&&(r=e.setMilliseconds(r,0)),r},hc=e=>{let{props:t,utils:n,granularity:r,timezone:i,getTodayDate:s}=e;var o;let a=s?s():cc(n,r,nc(n,i));null!=t.minDate&&n.isAfterDay(t.minDate,a)&&(a=cc(n,r,t.minDate)),null!=t.maxDate&&n.isBeforeDay(t.maxDate,a)&&(a=cc(n,r,t.maxDate));const l=((e,t)=>(n,r)=>e?t.isAfter(n,r):lc(n,t)>lc(r,t))(null!=(o=t.disableIgnoringDatePartForTimeValidation)&&o,n);return null!=t.minTime&&l(t.minTime,a)&&(a=cc(n,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:Ju(n,a,t.minTime))),null!=t.maxTime&&l(a,t.maxTime)&&(a=cc(n,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Ju(n,a,t.maxTime))),a},dc=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},pc=(e,t,n)=>{const r=[],i=e.dateWithTimezone(void 0,t),s=e.startOfWeek(i),o=e.endOfWeek(i);let a=s;for(;e.isBefore(a,o);)r.push(a),a=e.addDays(a,1);return r.map(t=>e.formatByString(t,n))},fc=(e,t,n,r)=>{switch(n){case"month":return tc(e,e.dateWithTimezone(void 0,t)).map(t=>e.formatByString(t,r));case"weekDay":return pc(e,t,r);case"meridiem":{const n=e.dateWithTimezone(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map(t=>e.formatByString(t,r))}default:return[]}},mc=(e,t,n)=>{let r=t;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},gc=(e,t,n,r,i)=>{if("day"===i.type&&"digit-with-letter"===i.contentType){const t=e.setDate(r.longestMonth,n);return e.formatByString(t,i.format)}const s=n.toString();return i.hasLeadingZerosInInput?mc(0,s,i.maxLength):s},yc=(e,t,n,r,i,s,o)=>{const a=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),l="Home"===r,u="End"===r,c=""===n.value||l||u;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=i[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),h=t=>gc(e,0,t,r,n),d="minutes"===n.type&&null!=o&&o.minutesStep?o.minutesStep:1;let p=parseInt(n.value,10)+a*d;if(c){if("year"===n.type&&!u&&!l)return e.formatByString(e.dateWithTimezone(void 0,t),n.format);p=a>0||l?r.minimum:r.maximum}return p%d!==0&&((a<0||l)&&(p+=d-(d+p)%d),(a>0||u)&&(p-=p%d)),p>r.maximum?h(r.minimum+(p-r.maximum-1)%(r.maximum-r.minimum+1)):p<r.minimum?h(r.maximum-(r.minimum-p-1)%(r.maximum-r.minimum+1)):h(p)})():(()=>{const r=fc(e,t,n.type,n.format);if(0===r.length)return n.value;if(c)return a>0||l?r[0]:r[r.length-1];const i=r.indexOf(n.value);return r[(i+r.length+a)%r.length]})()},xc=(e,t)=>{let n=e.value||e.placeholder;const r="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(n=Number(n).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!r&&1===n.length&&(n=`${n}\u200e`),"input-rtl"===t&&(n=`\u2068${n}\u2069`),n},bc=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),vc=(e,t)=>{let n=0,r=t?1:0;const i=[];for(let o=0;o<e.length;o+=1){const a=e[o],l=xc(a,t?"input-rtl":"input-ltr"),u=`${a.startSeparator}${l}${a.endSeparator}`,c=bc(u).length,h=u.length,d=bc(l),p=r+l.indexOf(d[0])+a.startSeparator.length,f=p+d.length;i.push((0,s.A)({},a,{start:n,end:n+c,startInInput:p,endInInput:f})),n+=c,r+=h}return i},wc=(e,t,n,r,i)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),i).length,format:i});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:i});case"day":return n.fieldDayPlaceholder({format:i});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:i});case"hours":return n.fieldHoursPlaceholder({format:i});case"minutes":return n.fieldMinutesPlaceholder({format:i});case"seconds":return n.fieldSecondsPlaceholder({format:i});case"meridiem":return n.fieldMeridiemPlaceholder({format:i});default:return i}},Sc=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),kc=(e,t,n)=>4===e.formatByString(e.dateWithTimezone(void 0,t),n).length,Tc=(e,t,n,r,i)=>{if("digit"!==n)return!1;const s=e.dateWithTimezone(void 0,t);switch(r){case"year":if(kc(e,t,i)){return"0001"===e.formatByString(e.setYear(s,1),i)}return"01"===e.formatByString(e.setYear(s,2001),i);case"month":return e.formatByString(e.startOfYear(s),i).length>1;case"day":return e.formatByString(e.startOfMonth(s),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(s),i).length>1;case"hours":return e.formatByString(e.setHours(s,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(s,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},Ac=(e,t,n,r,i,o,a,l)=>{let u="";const c=[],h=e.date(),d=r=>{if(""===r)return null;const o=dc(e,r),l=Tc(e,t,o.contentType,o.type,r),d=a?l:"digit"===o.contentType,p=null!=i&&e.isValid(i);let f=p?e.formatByString(i,r):"",m=null;if(d)if(l)m=""===f?e.formatByString(h,r).length:f.length;else{if(null==o.maxLength)throw new Error(`MUI: The token ${r} should have a 'maxDigitNumber' property on it's adapter`);m=o.maxLength,p&&(f=mc(0,f,m))}return c.push((0,s.A)({},o,{format:r,maxLength:m,value:f,placeholder:wc(e,t,n,o,r),hasLeadingZeros:l,hasLeadingZerosInFormat:l,hasLeadingZerosInInput:d,startSeparator:0===c.length?u:"",endSeparator:"",modified:!1})),null};let p=10,f=r,m=e.expandFormat(r);for(;m!==f;)if(f=m,m=e.expandFormat(f),p-=1,p<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const g=m,y=((e,t)=>{const n=[],{start:r,end:i}=e.escapedCharacters,s=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let o=null;for(;o=s.exec(t);)n.push({start:o.index,end:s.lastIndex-1});return n})(e,g),x=new RegExp(`^(${Object.keys(e.formatTokenMap).sort((e,t)=>t.length-e.length).join("|")})`,"g");let b="";for(let s=0;s<g.length;s+=1){const e=y.find(e=>e.start<=s&&e.end>=s),t=g[s],n=null!=e,r=`${b}${g.slice(s)}`,i=x.test(r);if(!n&&t.match(/([A-Za-z]+)/)&&i)b=r.slice(0,x.lastIndex),s+=x.lastIndex-1;else{n&&(null==e?void 0:e.start)===s||(null==e?void 0:e.end)===s||(d(b),b="",0===c.length?u+=t:c[c.length-1].endSeparator+=t)}}return d(b),c.map(e=>{const t=e=>{let t=e;return l&&null!==t&&t.includes(" ")&&(t=`\u2069${t}\u2066`),"spacious"===o&&["/",".","-"].includes(t)&&(t=` ${t} `),t};return e.startSeparator=t(e.startSeparator),e.endSeparator=t(e.endSeparator),e})};const _c=(e,t)=>{0},Ec={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},Cc=(e,t,n,r,i,s)=>[...r].sort((e,t)=>Ec[e.type]-Ec[t.type]).reduce((r,i)=>!s||i.modified?((e,t,n,r,i)=>{switch(n.type){case"year":return e.setYear(i,e.getYear(r));case"month":return e.setMonth(i,e.getMonth(r));case"weekDay":{const i=pc(e,t,n.format),s=e.formatByString(r,n.format),o=i.indexOf(s),a=i.indexOf(n.value)-o;return e.addDays(r,a)}case"day":return e.setDate(i,e.getDate(r));case"meridiem":{const t=e.getHours(r)<12,n=e.getHours(i);return t&&n>=12?e.addHours(i,-12):!t&&n<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(r));case"minutes":return e.setMinutes(i,e.getMinutes(r));case"seconds":return e.setSeconds(i,e.getSeconds(r));default:return i}})(e,t,i,n,r):r,i),Dc=["value","referenceDate"],Mc={emptyValue:null,getTodayValue:nc,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,i.A)(e,Dc);return null!=t&&r.utils.isValid(t)?t:null!=n?n:hc(r)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},Lc={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r,i)=>!e.isValid(t)&&!!n?n:vc(i(t),r),getValueStrFromSections:(e,t)=>{const n=e.map(e=>{const n=xc(e,t?"input-rtl":"input-ltr");return`${e.startSeparator}${n}${e.endSeparator}`}).join("");return t?`\u2066${n}\u2069`:n},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},Ic=["localeText"],Pc=e.createContext(null);const Oc=function(t){var n;const{localeText:r}=t,o=(0,i.A)(t,Ic),{utils:a,localeText:l}=null!=(n=e.useContext(Pc))?n:{utils:void 0,localeText:void 0},u=Hu({props:o,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:h,dateFormats:d,dateLibInstance:p,adapterLocale:f,localeText:m}=u,g=e.useMemo(()=>(0,s.A)({},m,l,r),[m,l,r]),y=e.useMemo(()=>{if(!h)return a||null;const e=new h({locale:f,formats:d,instance:p});if(!e.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e},[h,f,d,p,a]),x=e.useMemo(()=>y?{minDate:y.date("1900-01-01T00:00:00.000"),maxDate:y.date("2099-12-31T00:00:00.000")}:null,[y]),b=e.useMemo(()=>({utils:y,defaultDates:x,localeText:g}),[x,y,g]);return(0,N.jsx)(Pc.Provider,{value:b,children:c})},Rc={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${null===t?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},$c=Rc;Nc=Rc,(0,s.A)({},Nc);var Nc;const Fc=()=>{const t=e.useContext(Pc);if(null===t)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===t.utils)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const n=e.useMemo(()=>(0,s.A)({},$c,t.localeText),[t.localeText]);return e.useMemo(()=>(0,s.A)({},t,{localeText:n}),[t,n])},zc=()=>Fc().utils,Vc=()=>Fc().defaultDates,jc=()=>Fc().localeText,Bc=t=>{const n=zc(),r=e.useRef();return void 0===r.current&&(r.current=n.dateWithTimezone(void 0,t)),r.current};function Wc(e){return h("MuiPickersToolbar",e)}Ne("MuiPickersToolbar",["root","content"]);const Uc=Ce("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},n.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})}),Kc=Ce("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})(e=>{let{ownerState:t}=e;var n;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?null!=(n=t.landscapeDirection)?n:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}}),Hc=e.forwardRef(function(e,t){const n=Hu({props:e,name:"MuiPickersToolbar"}),{children:r,className:i,toolbarTitle:s,hidden:o,titleId:l}=n,u=n,c=(e=>{const{classes:t,isLandscape:n}=e;return d({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},Wc,t)})(u);return o?null:(0,N.jsxs)(Uc,{ref:t,className:a(c.root,i),ownerState:u,children:[(0,N.jsx)(Ye,{color:"text.secondary",variant:"overline",id:l,children:s}),(0,N.jsx)(Kc,{className:c.content,ownerState:u,children:r})]})});function Gc(e){return h("MuiDatePickerToolbar",e)}Ne("MuiDatePickerToolbar",["root","title"]);const Yc=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],Xc=Ce(Hc,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qc=Ce(Ye,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})(e=>{let{ownerState:t}=e;return(0,s.A)({},t.isLandscape&&{margin:"auto 16px auto auto"})}),Qc=e.forwardRef(function(t,n){const r=Hu({props:t,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:l,toolbarFormat:u,toolbarPlaceholder:c="\u2013\u2013",views:h,className:p}=r,f=(0,i.A)(r,Yc),m=zc(),g=jc(),y=(e=>{const{classes:t}=e;return d({root:["root"],title:["title"]},Gc,t)})(r),x=e.useMemo(()=>{if(!o)return c;const e=sc(m,{format:u,views:h},!0);return m.formatByString(o,e)},[o,u,c,m,h]),b=r;return(0,N.jsx)(Xc,(0,s.A)({ref:n,toolbarTitle:g.datePickerToolbarTitle,isLandscape:l,className:a(y.root,p)},f,{children:(0,N.jsx)(qc,{variant:"h4",align:l?"left":"center",ownerState:b,className:y.title,children:x})}))}),Jc=e=>{if(void 0!==e)return Object.keys(e).reduce((t,n)=>(0,s.A)({},t,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:e[n]}),{})};function Zc(t,n){var r,i,o,a;const l=zc(),u=Vc(),c=Hu({props:t,name:n}),h=e.useMemo(()=>{var e;return null==(null==(e=c.localeText)?void 0:e.toolbarTitle)?c.localeText:(0,s.A)({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})},[c.localeText]),d=null!=(r=c.slots)?r:Jc(c.components);return(0,s.A)({},c,{localeText:h},(e=>{let{openTo:t,defaultOpenTo:n,views:r,defaultViews:i}=e;const s=null!=r?r:i;let o;if(null!=t)o=t;else if(s.includes(n))o=n;else{if(!(s.length>0))throw new Error("MUI: The `views` prop must contain at least one view");o=s[0]}return{views:s,openTo:o}})({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:null!=(i=c.disableFuture)&&i,disablePast:null!=(o=c.disablePast)&&o,minDate:ec(l,c.minDate,u.minDate),maxDate:ec(l,c.maxDate,u.maxDate),slots:(0,s.A)({toolbar:Qc},d),slotProps:null!=(a=c.slotProps)?a:c.componentsProps})}const eh=e=>{let{props:t,value:n,adapter:r}=e;if(null===n)return null;const{shouldDisableDate:i,shouldDisableMonth:s,shouldDisableYear:o,disablePast:a,disableFuture:l,timezone:u}=t,c=r.utils.dateWithTimezone(void 0,u),h=ec(r.utils,t.minDate,r.defaultDates.minDate),d=ec(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(n):return"invalidDate";case Boolean(i&&i(n)):return"shouldDisableDate";case Boolean(s&&s(n)):return"shouldDisableMonth";case Boolean(o&&o(n)):return"shouldDisableYear";case Boolean(l&&r.utils.isAfterDay(n,c)):return"disableFuture";case Boolean(a&&r.utils.isBeforeDay(n,c)):return"disablePast";case Boolean(h&&r.utils.isBeforeDay(n,h)):return"minDate";case Boolean(d&&r.utils.isAfterDay(n,d)):return"maxDate";default:return null}};const th=function(e){return"string"===typeof e};const nh=function(e,t,n){return void 0===e||th(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const rh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const ih=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const sh=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const e=a(n?.className,s,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},o={...n,...i,...r};return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=rh({...i,...r}),l=ih(r),u=ih(i),c=t(o),h=a(c?.className,n?.className,s,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},p={...c,...n,...u,...l};return h.length>0&&(p.className=h),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}};const oh=function(e,t,n){return"function"===typeof e?e(t,n):e};const ah=function(t){const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1,...o}=t,a=s?{}:oh(r,i),{props:l,internalRef:u}=sh({...o,externalSlotProps:a}),c=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.useRef(void 0),s=e.useCallback(e=>{const t=n.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{t.forEach(e=>e?.())}},n);return e.useMemo(()=>n.every(e=>null==e)?null:e=>{i.current&&(i.current(),i.current=void 0),null!=e&&(i.current=s(e))},n)}(u,a?.ref,t.additionalProps?.ref);return nh(n,{...l,ref:c},i)};function lh(e){return h("MuiInputAdornment",e)}const uh=Ne("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var ch;const hh=["children","className","component","disablePointerEvents","disableTypography","position","variant"],dh=Ce("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${B(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${uh.positionStart}&:not(.${uh.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})}),ph=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiInputAdornment"}),{children:o,className:l,component:u="div",disablePointerEvents:c=!1,disableTypography:h=!1,position:p,variant:f}=r,m=(0,i.A)(r,hh),g=qr()||{};let y=f;f&&g.variant,g&&!y&&(y=g.variant);const x=(0,s.A)({},r,{hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:c,position:p,variant:y}),b=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:o}=e;return d({root:["root",n&&"disablePointerEvents",i&&`position${B(i)}`,o,r&&"hiddenLabel",s&&`size${B(s)}`]},lh,t)})(x);return(0,N.jsx)(Wr.Provider,{value:null,children:(0,N.jsx)(dh,(0,s.A)({as:u,ownerState:x,className:a(b.root,l),ref:n},m,{children:"string"!==typeof o||h?(0,N.jsxs)(e.Fragment,{children:["start"===p?ch||(ch=(0,N.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,N.jsx)(Ye,{color:"text.secondary",children:o})}))})});function fh(e){return h("MuiPickersPopper",e)}Ne("MuiPickersPopper",["root","paper"]);const mh=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?mh(e.shadowRoot):e:null},gh="@media (pointer: fine)",yh="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),xh=yh&&yh[1]?parseInt(yh[1],10):null,bh=yh&&yh[2]?parseInt(yh[2],10):null,vh=xh&&xh<10||bh&&bh<13||!1,wh=()=>Ku("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||vh,Sh=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],kh=Ce(mu,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}}),Th=Ce(ht,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})(e=>{let{ownerState:t}=e;return(0,s.A)({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"})});const Ah=e.forwardRef((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:a,paperSlotProps:l,paperClasses:u,onPaperClick:c,onPaperTouchStart:h}=e,d=(0,i.A)(e,Sh),p=(0,s.A)({},o,{placement:r}),f=ah({elementType:n,externalSlotProps:l,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:u,ownerState:p});return(0,N.jsx)(n,(0,s.A)({},d,f,{onClick:e=>{var t;c(e),null==(t=f.onClick)||t.call(f,e)},onTouchStart:e=>{var t;h(e),null==(t=f.onTouchStart)||t.call(f,e)},ownerState:p,children:a}))});function _h(t){var n,r,i,o;const a=Hu({props:t,name:"MuiPickersPopper"}),{anchorEl:l,children:u,containerRef:c=null,shouldRestoreFocus:h,onBlur:p,onDismiss:f,open:m,role:g,placement:y,slots:x,slotProps:b,reduceAnimations:v}=a;e.useEffect(()=>{function e(e){!m||"Escape"!==e.key&&"Esc"!==e.key||f()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f,m]);const w=e.useRef(null);e.useEffect(()=>{"tooltip"===g||h&&!h()||(m?w.current=mh(document):w.current&&w.current instanceof HTMLElement&&setTimeout(()=>{w.current instanceof HTMLElement&&w.current.focus()}))},[m,g,h]);const[S,k,T]=function(t,n){const r=e.useRef(!1),i=e.useRef(!1),s=e.useRef(null),o=e.useRef(!1);e.useEffect(()=>{if(t)return document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),o.current=!1};function e(){o.current=!0}},[t]);const a=gt(e=>{if(!o.current)return;const t=i.current;i.current=!1;const a=Jn(s.current);if(!s.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,a))return;if(r.current)return void(r.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(s.current)>-1:!a.documentElement.contains(e.target)||s.current.contains(e.target),l||t||n(e)}),l=()=>{i.current=!0};return e.useEffect(()=>{if(t){const e=Jn(s.current),t=()=>{r.current=!0};return e.addEventListener("touchstart",a),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",t)}}},[t,a]),e.useEffect(()=>{if(t){const e=Jn(s.current);return e.addEventListener("click",a),()=>{e.removeEventListener("click",a),i.current=!1}}},[t,a]),[s,l,l]}(m,null!=p?p:f),A=qe(e.useRef(null),c),_=qe(A,S),E=a,C=(e=>{const{classes:t}=e;return d({root:["root"],paper:["paper"]},fh,t)})(E),D=wh(),M=null!=v?v:D,L=(null!=(n=null==x?void 0:x.desktopTransition)?n:M)?Gi:Fi,I=null!=(r=null==x?void 0:x.desktopTrapFocus)?r:Bi,P=null!=(i=null==x?void 0:x.desktopPaper)?i:Th,O=null!=(o=null==x?void 0:x.popper)?o:kh,R=ah({elementType:O,externalSlotProps:null==b?void 0:b.popper,additionalProps:{transition:!0,role:g,open:m,anchorEl:l,placement:y,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),f())}},className:C.root,ownerState:a});return(0,N.jsx)(O,(0,s.A)({},R,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,N.jsx)(I,(0,s.A)({open:m,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===g,isEnabled:()=>!0},null==b?void 0:b.desktopTrapFocus,{children:(0,N.jsx)(L,(0,s.A)({},t,null==b?void 0:b.desktopTransition,{children:(0,N.jsx)(Ah,{PaperComponent:P,ownerState:E,popperPlacement:n,ref:_,onPaperClick:k,onPaperTouchStart:T,paperClasses:C.paper,paperSlotProps:null==b?void 0:b.desktopPaper,children:u})}))}))}}))}function Eh(t,n,r,i){const{value:s,onError:o}=t,a=Fc(),l=e.useRef(i),u=n({adapter:a,value:s,props:t});return e.useEffect(()=>{o&&!r(u,l.current)&&o(u,s),l.current=u},[r,o,l,u,s]),u}const Ch=t=>{let{timezone:n,value:r,defaultValue:i,onChange:s,valueManager:o}=t;var a,l;const u=zc(),c=e.useRef(i),h=null!=(a=null!=r?r:c.current)?a:o.emptyValue,d=e.useMemo(()=>o.getTimezone(u,h),[u,o,h]),p=gt(e=>null==d?e:o.setTimezone(u,d,e)),f=null!=(l=null!=n?n:d)?l:"default";return{value:e.useMemo(()=>o.setTimezone(u,f,h),[o,u,f,h]),handleValueChange:gt(function(e){const t=p(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null==s||s(t,...r)}),timezone:f}},Dh=e=>{let{name:t,timezone:n,value:r,defaultValue:i,onChange:s,valueManager:o}=e;const[a,l]=Bs({name:t,state:"value",controlled:r,default:null!=i?i:o.emptyValue}),u=gt(function(e){l(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==s||s(e,...n)});return Ch({timezone:n,value:a,defaultValue:void 0,onChange:u,valueManager:o})},Mh=t=>{let{props:n,valueManager:r,valueType:i,wrapperVariant:o,validator:a}=t;const{onAccept:l,onChange:u,value:c,defaultValue:h,closeOnSelect:d="desktop"===o,selectedSections:p,onSelectedSectionsChange:f,timezone:m}=n,{current:g}=e.useRef(h),{current:y}=e.useRef(void 0!==c);const x=zc(),b=Fc(),[v,w]=Bs({controlled:p,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:S,setIsOpen:k}=(t=>{let{open:n,onOpen:r,onClose:i}=t;const s=e.useRef("boolean"===typeof n).current,[o,a]=e.useState(!1);return e.useEffect(()=>{if(s){if("boolean"!==typeof n)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");a(n)}},[s,n]),{isOpen:o,setIsOpen:e.useCallback(e=>{s||a(e),e&&r&&r(),!e&&i&&i()},[s,r,i])}})(n),[T,A]=e.useState(()=>{let e;return e=void 0!==c?c:void 0!==g?g:r.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:c,hasBeenModifiedSinceMount:!1}}),{timezone:_,handleValueChange:E}=Ch({timezone:m,value:c,defaultValue:g,onChange:u,valueManager:r});Eh((0,s.A)({},n,{value:T.draft,timezone:_}),a,r.isSameError,r.defaultErrorState);const C=gt(e=>{const t={action:e,dateState:T,hasChanged:t=>!r.areValuesEqual(x,e.value,t),isControlled:y,closeOnSelect:d},i=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i}=e,s=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!s||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!s||n(r.lastPublishedValue)))})(t),o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:s}=e,o=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!o||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&s?!!o||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(t),u=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(t);if(A(t=>(0,s.A)({},t,{draft:e.value,lastPublishedValue:i?e.value:t.lastPublishedValue,lastCommittedValue:o?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0})),i){const t={validationError:"setValueFromField"===e.name?e.context.validationError:a({adapter:b,value:e.value,props:(0,s.A)({},n,{value:e.value,timezone:_})})};"setValueFromShortcut"===e.name&&null!=e.shortcut&&(t.shortcut=e.shortcut),E(e.value,t)}o&&l&&l(e.value),u&&k(!1)});if(void 0!==c&&(void 0===T.lastControlledValue||!r.areValuesEqual(x,T.lastControlledValue,c))){const e=r.areValuesEqual(x,T.draft,c);A(t=>(0,s.A)({},t,{lastControlledValue:c},e?{}:{lastCommittedValue:c,lastPublishedValue:c,draft:c,hasBeenModifiedSinceMount:!0}))}const D=gt(()=>{C({value:r.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),M=gt(()=>{C({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),L=gt(()=>{C({value:T.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),I=gt(()=>{C({value:T.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),P=gt(()=>{C({value:r.getTodayValue(x,_,i),name:"setValueFromAction",pickerAction:"today"})}),O=gt(()=>k(!0)),R=gt(()=>k(!1)),$=gt(function(e){return C({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})}),N=gt((e,t,n)=>C({name:"setValueFromShortcut",value:e,changeImportance:null!=t?t:"accept",shortcut:n})),F=gt((e,t)=>C({name:"setValueFromField",value:e,context:t})),z=gt(e=>{w(e),null==f||f(e)}),V={onClear:D,onAccept:M,onDismiss:L,onCancel:I,onSetToday:P,onOpen:O,onClose:R},j={value:T.draft,onChange:F,selectedSections:v,onSelectedSectionsChange:z},B=e.useMemo(()=>r.cleanValue(x,T.draft),[x,r,T.draft]);return{open:S,fieldProps:j,viewProps:{value:B,onChange:$,onClose:R,open:S,onSelectedSectionsChange:z},layoutProps:(0,s.A)({},V,{value:B,onChange:$,onSelectShortcut:N,isValid:e=>{const t=a({adapter:b,value:e,props:(0,s.A)({},n,{value:e,timezone:_})});return!r.hasError(t)}}),actions:V}};function Lh(t){let{onChange:n,onViewChange:r,openTo:i,view:s,views:o,autoFocus:a,focusedView:l,onFocusedViewChange:u}=t;var c,h;const d=e.useRef(i),p=e.useRef(o),f=e.useRef(o.includes(i)?i:o[0]),[m,g]=Bs({name:"useViews",state:"view",controlled:s,default:f.current}),y=e.useRef(a?m:null),[x,b]=Bs({name:"useViews",state:"focusedView",controlled:l,default:y.current});e.useEffect(()=>{(d.current&&d.current!==i||p.current&&p.current.some(e=>!o.includes(e)))&&(g(o.includes(i)?i:o[0]),p.current=o,d.current=i)},[i,g,m,o]);const v=o.indexOf(m),w=null!=(c=o[v-1])?c:null,S=null!=(h=o[v+1])?h:null,k=gt((e,t)=>{b(t?e:t=>e===t?null:t),null==u||u(e,t)}),T=gt(e=>{k(e,!0),e!==m&&(g(e),r&&r(e))}),A=gt(()=>{S&&T(S)}),_=gt((e,t,r)=>{const i="finish"===t,s=r?o.indexOf(r)<o.length-1:Boolean(S);if(n(e,i&&s?"partial":t,r),r&&r!==m){const e=o[o.indexOf(r)+1];e&&T(e)}else i&&A()});return{view:m,setView:T,focusedView:x,setFocusedView:k,nextView:S,previousView:w,defaultView:o.includes(i)?i:o[0],goToNextView:A,setValueAndGoToNextView:_}}const Ih=["className","sx"],Ph=t=>{let{props:n,propsFromPickerValue:r,additionalViewProps:o,inputRef:a,autoFocusView:l}=t;const{onChange:u,open:c,onSelectedSectionsChange:h,onClose:d}=r,{view:p,views:f,openTo:m,onViewChange:g,viewRenderers:y,timezone:x}=n,b=(0,i.A)(n,Ih),{view:v,setView:w,defaultView:S,focusedView:k,setFocusedView:T,setValueAndGoToNextView:A}=Lh({view:p,views:f,openTo:m,onChange:u,onViewChange:g,autoFocus:l}),{hasUIView:_,viewModeLookup:E}=e.useMemo(()=>f.reduce((e,t)=>{let n;return n=null!=y[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e},{hasUIView:!1,viewModeLookup:{}}),[y,f]),C=e.useMemo(()=>f.reduce((e,t)=>null!=y[t]&&(e=>ac.includes(e))(t)?e+1:e,0),[y,f]),D=E[v],M=gt(()=>"UI"===D),[L,I]=e.useState("UI"===D?v:null);L!==v&&"UI"===E[v]&&I(v),mt(()=>{"field"===D&&c&&(d(),setTimeout(()=>{null==a||a.current.focus(),h(v)}))},[v]),mt(()=>{if(!c)return;let e=v;"field"===D&&null!=L&&(e=L),e!==S&&"UI"===E[e]&&"UI"===E[S]&&(e=S),e!==v&&w(e),T(e,!0)},[c]);return{hasUIView:_,shouldRestoreFocus:M,layoutProps:{views:f,view:L,onViewChange:w},renderCurrentView:()=>{if(null==L)return null;const e=y[L];return null==e?null:e((0,s.A)({},b,o,r,{views:f,timezone:x,onChange:A,view:L,onViewChange:w,focusedView:k,onFocusedViewChange:T,showViewSwitcher:C>1,timeViewsCount:C}))}}};function Oh(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const Rh=(t,n)=>{const[r,i]=e.useState(Oh);if(mt(()=>{const e=()=>{i(Oh())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}},[]),s=t,o=["hours","minutes","seconds"],Array.isArray(o)?o.every(e=>-1!==s.indexOf(e)):-1!==s.indexOf(o))return!1;var s,o;return"landscape"===(n||r)},$h=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1;const r=Array.isArray(e)?e.join("\n"):e}(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:i,inputRef:o,additionalViewProps:a,validator:l,autoFocusView:u}=e;const c=Mh({props:t,valueManager:n,valueType:r,wrapperVariant:i,validator:l}),h=Ph({props:t,inputRef:o,additionalViewProps:a,autoFocusView:u,propsFromPickerValue:c.viewProps}),d=(e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:i}=e;const{orientation:o}=t,a=Rh(r.views,o);return{layoutProps:(0,s.A)({},r,n,{isLandscape:a,wrapperVariant:i,disabled:t.disabled,readOnly:t.readOnly})}})({props:t,wrapperVariant:i,propsFromPickerValue:c.layoutProps,propsFromPickerViews:h.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:h.renderCurrentView,hasUIView:h.hasUIView,shouldRestoreFocus:h.shouldRestoreFocus,layoutProps:d.layoutProps}});function Nh(e){return h("MuiPickersLayout",e)}const Fh=Ne("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);function zh(e){return h("MuiDialogActions",e)}Ne("MuiDialogActions",["root","spacing"]);const Vh=["className","disableSpacing"],jh=Ce("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),Bh=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,l=(0,i.A)(n,Vh),u=(0,s.A)({},n,{disableSpacing:o}),c=(e=>{const{classes:t,disableSpacing:n}=e;return d({root:["root",!n&&"spacing"]},zh,t)})(u);return(0,N.jsx)(jh,(0,s.A)({className:a(c.root,r),ownerState:u,ref:t},l))}),Wh=["onAccept","onClear","onCancel","onSetToday","actions"];function Uh(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:o,actions:a}=e,l=(0,i.A)(e,Wh),u=jc();if(null==a||0===a.length)return null;const c=null==a?void 0:a.map(e=>{switch(e){case"clear":return(0,N.jsx)(Ba,{onClick:n,children:u.clearButtonLabel},e);case"cancel":return(0,N.jsx)(Ba,{onClick:r,children:u.cancelButtonLabel},e);case"accept":return(0,N.jsx)(Ba,{onClick:t,children:u.okButtonLabel},e);case"today":return(0,N.jsx)(Ba,{onClick:o,children:u.todayButtonLabel},e);default:return null}});return(0,N.jsx)(Bh,(0,s.A)({},l,{children:c}))}function Kh(e){return h("MuiListItem",e)}const Hh=Ne("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const Gh=Ne("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Yh(e){return h("MuiListItemSecondaryAction",e)}Ne("MuiListItemSecondaryAction",["root","disableGutters"]);const Xh=["className"],qh=Ce("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(e=>{let{ownerState:t}=e;return(0,s.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})}),Qh=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=r,l=(0,i.A)(r,Xh),u=e.useContext(xi),c=(0,s.A)({},r,{disableGutters:u.disableGutters}),h=(e=>{const{disableGutters:t,classes:n}=e;return d({root:["root",t&&"disableGutters"]},Yh,n)})(c);return(0,N.jsx)(qh,(0,s.A)({className:a(h.root,o),ownerState:c,ref:n},l))});Qh.muiName="ListItemSecondaryAction";const Jh=Qh,Zh=["className"],ed=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],td=Ce("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,s.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${Gh.root}`]:{paddingRight:48}},{[`&.${Hh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Hh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Hh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Hh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,G.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})}),nd=Ce("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),rd=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:l=!1,button:u=!1,children:c,className:h,component:p,components:f={},componentsProps:m={},ContainerComponent:g="li",ContainerProps:{className:y}={},dense:x=!1,disabled:b=!1,disableGutters:v=!1,disablePadding:w=!1,divider:S=!1,focusVisibleClassName:k,secondaryAction:T,selected:A=!1,slotProps:_={},slots:E={}}=r,C=(0,i.A)(r.ContainerProps,Zh),D=(0,i.A)(r,ed),M=e.useContext(xi),L=e.useMemo(()=>({dense:x||M.dense||!1,alignItems:o,disableGutters:v}),[o,M.dense,x,v]),I=e.useRef(null);Ai(()=>{l&&I.current&&I.current.focus()},[l]);const P=e.Children.toArray(c),O=P.length&&Br(P[P.length-1],["ListItemSecondaryAction"]),R=(0,s.A)({},r,{alignItems:o,autoFocus:l,button:u,dense:L.dense,disabled:b,disableGutters:v,disablePadding:w,divider:S,hasSecondaryAction:O,selected:A}),$=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:u,selected:c}=e;return d({root:["root",i&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},Kh,r)})(R),F=ft(I,n),z=E.root||f.Root||td,V=_.root||m.root||{},j=(0,s.A)({className:a($.root,V.className,h),disabled:b},D);let B=p||"li";return u&&(j.component=p||"div",j.focusVisibleClassName=a(Hh.focusVisible,k),B=un),O?(B=j.component||p?B:"div","li"===g&&("li"===B?B="div":"li"===j.component&&(j.component="div")),(0,N.jsx)(xi.Provider,{value:L,children:(0,N.jsxs)(nd,(0,s.A)({as:g,className:a($.container,y),ref:F,ownerState:R},C,{children:[(0,N.jsx)(z,(0,s.A)({},V,!Qe(z)&&{as:B,ownerState:(0,s.A)({},R,V.ownerState)},j,{children:P})),P.pop()]}))})):(0,N.jsx)(xi.Provider,{value:L,children:(0,N.jsxs)(z,(0,s.A)({},V,{as:B,ref:F},!Qe(z)&&{ownerState:(0,s.A)({},R,V.ownerState)},j,{children:[P,T&&(0,N.jsx)(Jh,{children:T})]}))})}),id=320,sd=["items","changeImportance","isLandscape","onChange","isValid"],od=["getValue"];function ad(e){const{items:t,changeImportance:n,onChange:r,isValid:o}=e,a=(0,i.A)(e,sd);if(null==t||0===t.length)return null;const l=t.map(e=>{let{getValue:t}=e,s=(0,i.A)(e,od);const a=t({isValid:o});return{label:s.label,onClick:()=>{r(a,n,s)},disabled:!o(a)}});return(0,N.jsx)(Si,(0,s.A)({dense:!0,sx:[{maxHeight:334,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:l.map(e=>(0,N.jsx)(rd,{children:(0,N.jsx)(Fu,(0,s.A)({},e))},e.label))}))}const ld=e=>{var t,n;const{wrapperVariant:r,onAccept:i,onClear:o,onCancel:a,onSetToday:l,view:u,views:c,onViewChange:h,value:p,onChange:f,onSelectShortcut:m,isValid:g,isLandscape:y,disabled:x,readOnly:b,children:v,components:w,componentsProps:S,slots:k,slotProps:T}=e,A=null!=k?k:Jc(w),_=null!=T?T:S,E=(e=>{const{classes:t,isLandscape:n}=e;return d({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Nh,t)})(e),C=null!=(t=null==A?void 0:A.actionBar)?t:Uh,D=ah({elementType:C,externalSlotProps:null==_?void 0:_.actionBar,additionalProps:{onAccept:i,onClear:o,onCancel:a,onSetToday:l,actions:"desktop"===r?[]:["cancel","accept"],className:E.actionBar},ownerState:(0,s.A)({},e,{wrapperVariant:r})}),M=(0,N.jsx)(C,(0,s.A)({},D)),L=null==A?void 0:A.toolbar,I=ah({elementType:L,externalSlotProps:null==_?void 0:_.toolbar,additionalProps:{isLandscape:y,onChange:f,value:p,view:u,onViewChange:h,views:c,disabled:x,readOnly:b,className:E.toolbar},ownerState:(0,s.A)({},e,{wrapperVariant:r})}),P=function(e){return null!==e.view}(I)&&L?(0,N.jsx)(L,(0,s.A)({},I)):null,O=v,R=null==A?void 0:A.tabs,$=u&&R?(0,N.jsx)(R,(0,s.A)({view:u,onViewChange:h,className:E.tabs},null==_?void 0:_.tabs)):null,F=null!=(n=null==A?void 0:A.shortcuts)?n:ad,z=ah({elementType:F,externalSlotProps:null==_?void 0:_.shortcuts,additionalProps:{isValid:g,isLandscape:y,onChange:m,className:E.shortcuts},ownerState:{isValid:g,isLandscape:y,onChange:m,className:E.shortcuts,wrapperVariant:r}});return{toolbar:P,content:O,tabs:$,actionBar:M,shortcuts:u&&F?(0,N.jsx)(F,(0,s.A)({},z)):null}},ud=Ce("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})(e=>{let{theme:t,ownerState:n}=e;return{display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Fh.toolbar}`]:n.isLandscape?{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${Fh.shortcuts}`]:n.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"},[`& .${Fh.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}});ud.propTypes={as:Yu().elementType,ownerState:Yu().shape({isLandscape:Yu().bool.isRequired}).isRequired,sx:Yu().oneOfType([Yu().arrayOf(Yu().oneOfType([Yu().func,Yu().object,Yu().bool])),Yu().func,Yu().object])};const cd=Ce("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),hd=function(t){const n=Hu({props:t,name:"MuiPickersLayout"}),{toolbar:r,content:i,tabs:s,actionBar:o,shortcuts:l}=ld(n),{sx:u,className:c,isLandscape:h,ref:p,wrapperVariant:f}=n,m=n,g=(e=>{const{isLandscape:t,classes:n}=e;return d({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},Nh,n)})(m);return(0,N.jsxs)(ud,{ref:p,sx:u,className:a(c,g.root),ownerState:m,children:[h?l:r,h?r:l,(0,N.jsx)(cd,{className:g.contentWrapper,children:"desktop"===f?(0,N.jsxs)(e.Fragment,{children:[i,s]}):(0,N.jsxs)(e.Fragment,{children:[s,i]})}),o]})},dd=["props","getOpenDialogAriaText"],pd=["ownerState"],fd=["ownerState"],md=wn((0,N.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),gd=wn((0,N.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),yd=wn((0,N.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),xd=wn((0,N.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),bd=(wn((0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,N.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),wn((0,N.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),wn((0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,N.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),wn((0,N.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")),vd=t=>{const n=zc(),r=jc(),i=Fc(),o="rtl"===Xn().direction,{valueManager:a,fieldValueManager:l,valueType:u,validator:c,internalProps:h,internalProps:{value:d,defaultValue:p,referenceDate:f,onChange:m,format:g,formatDensity:y="dense",selectedSections:x,onSelectedSectionsChange:b,shouldRespectLeadingZeros:v=!1,timezone:w}}=t,{timezone:S,value:k,handleValueChange:T}=Ch({timezone:w,value:d,defaultValue:p,onChange:m,valueManager:a}),A=e.useMemo(()=>((e,t)=>{const n=e.dateWithTimezone(void 0,t),r=e.endOfYear(n),i=e.endOfDay(n),{maxDaysInMonth:s,longestMonth:o}=tc(e,n).reduce((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t},{maxDaysInMonth:0,longestMonth:null});return{year:n=>{let{format:r}=n;return{minimum:0,maximum:kc(e,t,r)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(r)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):s,longestMonth:o}},weekDay:n=>{let{format:r,contentType:i}=n;if("digit"===i){const n=pc(e,t,r).map(Number);return{minimum:Math.min(...n),maximum:Math.max(...n)}}return{minimum:1,maximum:7}},hours:t=>{let{format:r}=t;const s=e.getHours(i);return e.formatByString(e.endOfDay(n),r)!==s.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(n),r))}:{minimum:0,maximum:s}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:0})}})(n,S),[n,S]),_=e.useCallback(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l.getSectionsFromValue(n,e,t,o,e=>Ac(n,S,r,g,e,y,v,o))},[l,g,r,o,v,n,y,S]),E=e.useMemo(()=>l.getValueStrFromSections(_(a.emptyValue),o),[l,_,a.emptyValue,o]),[C,D]=e.useState(()=>{const e=_(k);_c();const t={sections:e,value:k,referenceValue:a.emptyValue,tempValueStrAndroid:null},r=(e=>Math.max(...e.map(e=>{var t;return null!=(t=uc[e.type])?t:1})))(e),i=a.getInitialReferenceValue({referenceDate:f,value:k,utils:n,props:h,granularity:r,timezone:S});return(0,s.A)({},t,{referenceValue:i})}),[M,L]=Bs({controlled:x,default:null,name:"useField",state:"selectedSectionIndexes"}),I=e=>{L(e),null==b||b(e),D(e=>(0,s.A)({},e,{selectedSectionQuery:null}))},P=e.useMemo(()=>{if(null==M)return null;if("all"===M)return{startIndex:0,endIndex:C.sections.length-1,shouldSelectBoundarySelectors:!0};if("number"===typeof M)return{startIndex:M,endIndex:M};if("string"===typeof M){const e=C.sections.findIndex(e=>e.type===M);return{startIndex:e,endIndex:e}}return M},[M,C.sections]),O=e=>{let{value:t,referenceValue:r,sections:o}=e;if(D(e=>(0,s.A)({},e,{sections:o,value:t,referenceValue:r,tempValueStrAndroid:null})),a.areValuesEqual(n,C.value,t))return;const l={validationError:c({adapter:i,value:t,props:(0,s.A)({},h,{value:t,timezone:S})})};T(t,l)},R=(e,t)=>{const n=[...C.sections];return n[e]=(0,s.A)({},n[e],{value:t,modified:!0}),vc(n,o)};return e.useEffect(()=>{const e=_(C.value);_c(),D(t=>(0,s.A)({},t,{sections:e}))},[g,n.locale]),e.useEffect(()=>{let e=!1;e=!a.areValuesEqual(n,C.value,k)||a.getTimezone(n,C.value)!==a.getTimezone(n,k),e&&D(e=>(0,s.A)({},e,{value:k,referenceValue:l.updateReferenceValue(n,k,e.referenceValue),sections:_(k)}))},[k]),{state:C,selectedSectionIndexes:P,setSelectedSections:I,clearValue:()=>{O({value:a.emptyValue,referenceValue:C.referenceValue,sections:_(a.emptyValue)})},clearActiveSection:()=>{if(null==P)return;const e=C.sections[P.startIndex],t=l.getActiveDateManager(n,C,e),r=t.getSections(C.sections).filter(e=>""!==e.value).length===(""===e.value?0:1),i=R(P.startIndex,""),o=r?null:n.date(new Date("")),a=t.getNewValuesFromNewActiveDate(o);(null!=o&&!n.isValid(o))!==(null!=t.date&&!n.isValid(t.date))?O((0,s.A)({},a,{sections:i})):D(e=>(0,s.A)({},e,a,{sections:i,tempValueStrAndroid:null}))},updateSectionValue:e=>{let{activeSection:t,newSectionValue:r,shouldGoToNextSection:i}=e;i&&P&&P.startIndex<C.sections.length-1?I(P.startIndex+1):P&&P.startIndex!==P.endIndex&&I(P.startIndex);const o=l.getActiveDateManager(n,C,t),a=R(P.startIndex,r),u=o.getSections(a),c=((e,t)=>{const n=t.some(e=>"day"===e.type),r=[],i=[];for(let a=0;a<t.length;a+=1){const e=t[a];n&&"weekDay"===e.type||(r.push(e.format),i.push(xc(e,"non-input")))}const s=r.join(" "),o=i.join(" ");return e.parse(o,s)})(n,u);let h,d;if(null!=c&&n.isValid(c)){const e=Cc(n,S,c,u,o.referenceDate,!0);h=o.getNewValuesFromNewActiveDate(e),d=!0}else h=o.getNewValuesFromNewActiveDate(c),d=(null!=c&&!n.isValid(c))!==(null!=o.date&&!n.isValid(o.date));return d?O((0,s.A)({},h,{sections:a})):D(e=>(0,s.A)({},e,h,{sections:a,tempValueStrAndroid:null}))},updateValueFromValueStr:e=>{const t=l.parseValueStr(e,C.referenceValue,(e,t)=>{const i=n.parse(e,g);if(null==i||!n.isValid(i))return null;const s=Ac(n,S,r,g,i,y,v,o);return Cc(n,S,i,s,t,!1)}),i=l.updateReferenceValue(n,t,C.referenceValue);O({value:t,referenceValue:i,sections:_(t,C.sections)})},setTempAndroidValueStr:e=>D(t=>(0,s.A)({},t,{tempValueStrAndroid:e})),sectionsValueBoundaries:A,placeholder:E,timezone:S}},wd=e=>null!=e.saveQuery,Sd=t=>{let{sections:n,updateSectionValue:r,sectionsValueBoundaries:i,setTempAndroidValueStr:o,timezone:a}=t;const l=zc(),[u,c]=e.useState(null),h=gt(()=>c(null));e.useEffect(()=>{var e;null!=u&&(null==(e=n[u.sectionIndex])?void 0:e.type)!==u.sectionType&&h()},[n,u,h]),e.useEffect(()=>{if(null!=u){const e=setTimeout(()=>h(),5e3);return()=>{window.clearTimeout(e)}}return()=>{}},[u,h]);const d=(e,t,r)=>{let{keyPressed:i,sectionIndex:s}=e;const o=i.toLowerCase(),a=n[s];if(null!=u&&(!r||r(u.value))&&u.sectionIndex===s){const e=`${u.value}${o}`,n=t(e,a);if(!wd(n))return c({sectionIndex:s,value:e,sectionType:a.type}),n}const l=t(o,a);return wd(l)&&!l.saveQuery?(h(),null):(c({sectionIndex:s,value:o,sectionType:a.type}),wd(l)?null:l)},p=gt(e=>{const t=n[e.sectionIndex],u=" "!==e.keyPressed&&!Number.isNaN(Number(e.keyPressed))?(e=>{const t=(e,t)=>{const n=Number(`${e}`),r=i[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(n>r.maximum)return{saveQuery:!1};if(n<r.minimum)return{saveQuery:!0};const s=Number(`${e}0`)>r.maximum||e.length===r.maximum.toString().length;return{sectionValue:gc(l,0,n,r,t),shouldGoToNextSection:s}};return d(e,(e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const r=Tc(l,a,"digit","month","MM"),i=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:r,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(wd(i))return i;const o=Sc(l,i.sectionValue,"MM",n.format);return(0,s.A)({},i,{sectionValue:o})}if("weekDay"===n.type){const r=t(e,n);if(wd(r))return r;const i=pc(l,a,n.format)[Number(r.sectionValue)-1];return(0,s.A)({},r,{sectionValue:i})}return{saveQuery:!1}},e=>!Number.isNaN(Number(e)))})(e):(e=>{const t=(e,t,n)=>{const r=t.filter(e=>e.toLowerCase().startsWith(n));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,r,i)=>{const o=e=>fc(l,a,n.type,e);if("letter"===n.contentType)return t(n.format,o(n.format),e);if(r&&null!=i&&"letter"===dc(l,r).contentType){const n=o(r),a=t(0,n,e);return wd(a)?{saveQuery:!1}:(0,s.A)({},a,{sectionValue:i(a.sectionValue,n)})}return{saveQuery:!1}};return d(e,(e,t)=>{switch(t.type){case"month":{const r=e=>Sc(l,e,l.formats.month,t.format);return n(e,t,l.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,l.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}})})(e);null==u?o(null):r({activeSection:t,newSectionValue:u.sectionValue,shouldGoToNextSection:u.shouldGoToNextSection})});return{applyCharacterEditing:p,resetCharacterQuery:h}},kd=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],Td=t=>{const n=zc(),{state:r,selectedSectionIndexes:o,setSelectedSections:a,clearValue:l,clearActiveSection:u,updateSectionValue:c,updateValueFromValueStr:h,setTempAndroidValueStr:d,sectionsValueBoundaries:p,placeholder:f,timezone:m}=vd(t),{inputRef:g,internalProps:y,internalProps:{readOnly:x=!1,unstableFieldRef:b,minutesStep:v},forwardedProps:{onClick:w,onKeyDown:S,onFocus:k,onBlur:T,onMouseUp:A,onPaste:_,error:E,clearable:C,onClear:D,disabled:M},fieldValueManager:L,valueManager:I,validator:P}=t,O=(0,i.A)(t.forwardedProps,kd),{applyCharacterEditing:R,resetCharacterQuery:$}=Sd({sections:r.sections,updateSectionValue:c,sectionsValueBoundaries:p,setTempAndroidValueStr:d,timezone:m}),N=e.useRef(null),F=qe(g,N),z=e.useRef(void 0),V="rtl"===Xn().direction,j=e.useMemo(()=>((e,t)=>{const n={};if(!t)return e.forEach((t,r)=>{const i=0===r?null:r-1,s=r===e.length-1?null:r+1;n[r]={leftIndex:i,rightIndex:s}}),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},i={};let s=0,o=0,a=e.length-1;for(;a>=0;){o=e.findIndex((e,t)=>{var n;return t>=s&&(null==(n=e.endSeparator)?void 0:n.includes(" "))&&" / "!==e.endSeparator}),-1===o&&(o=e.length-1);for(let e=o;e>=s;e-=1)i[e]=a,r[a]=e,a-=1;s=o+1}return e.forEach((t,s)=>{const o=i[s],a=0===o?null:r[o-1],l=o===e.length-1?null:r[o+1];n[s]={leftIndex:a,rightIndex:l}}),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(r.sections,V),[r.sections,V]),B=()=>{var e;if(x)return void a(null);const t=null!=(e=N.current.selectionStart)?e:0;let n;n=t<=r.sections[0].startInInput||t>=r.sections[r.sections.length-1].endInInput?1:r.sections.findIndex(e=>e.startInInput-e.startSeparator.length>t);const i=-1===n?r.sections.length-1:n-1;a(i)},W=gt(function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==w||w(e,...n),B()}}),U=gt(e=>{null==A||A(e),e.preventDefault()}),K=gt(function(){null==k||k(...arguments);const e=N.current;window.clearTimeout(z.current),z.current=setTimeout(()=>{e&&e===N.current&&(null!=o||x||(e.value.length&&Number(e.selectionEnd)-Number(e.selectionStart)===e.value.length?a("all"):B()))})}),H=gt(function(){null==T||T(...arguments),a(null)}),G=gt(e=>{if(null==_||_(e),x)return void e.preventDefault();const t=e.clipboardData.getData("text");if(o&&o.startIndex===o.endIndex){const n=r.sections[o.startIndex],i=/^[a-zA-Z]+$/.test(t),s=/^[0-9]+$/.test(t),a=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===n.contentType&&i||"digit"===n.contentType&&s||"digit-with-letter"===n.contentType&&a)return $(),c({activeSection:n,newSectionValue:t,shouldGoToNextSection:!0}),void e.preventDefault();if(i||s)return void e.preventDefault()}e.preventDefault(),$(),h(t)}),Y=gt(e=>{if(x)return;const t=e.target.value;if(""===t)return $(),void l();const n=e.nativeEvent.data,i=n&&n.length>1,s=i?n:t,a=bc(s);if(null==o||i)return void h(i?n:a);let c;if(0===o.startIndex&&o.endIndex===r.sections.length-1&&1===a.length)c=a;else{const e=bc(L.getValueStrFromSections(r.sections,V));let t=-1,n=-1;for(let r=0;r<e.length;r+=1)-1===t&&e[r]!==a[r]&&(t=r),-1===n&&e[e.length-r-1]!==a[a.length-r-1]&&(n=r);const i=r.sections[o.startIndex];if(t<i.start||e.length-n-1>i.end)return;const s=a.length-e.length+i.end-bc(i.endSeparator||"").length;c=a.slice(i.start+bc(i.startSeparator||"").length,s)}0!==c.length?R({keyPressed:c,sectionIndex:o.startIndex}):navigator.userAgent.toLowerCase().indexOf("android")>-1?d(s):($(),u())}),X=gt(e=>{switch(null==S||S(e),!0){case"a"===e.key&&(e.ctrlKey||e.metaKey):e.preventDefault(),a("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==o)a(j.startIndex);else if(o.startIndex!==o.endIndex)a(o.endIndex);else{const e=j.neighbors[o.startIndex].rightIndex;null!==e&&a(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==o)a(j.endIndex);else if(o.startIndex!==o.endIndex)a(o.startIndex);else{const e=j.neighbors[o.startIndex].leftIndex;null!==e&&a(e)}break;case"Delete"===e.key:if(e.preventDefault(),x)break;null==o||0===o.startIndex&&o.endIndex===r.sections.length-1?l():u(),$();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),x||null==o)break;const t=r.sections[o.startIndex],i=L.getActiveDateManager(n,r,t),s=yc(n,m,t,e.key,p,i.date,{minutesStep:v});c({activeSection:t,newSectionValue:s,shouldGoToNextSection:!1});break}}});mt(()=>{if(!N.current)return;if(null==o)return void(N.current.scrollLeft&&(N.current.scrollLeft=0));const e=r.sections[o.startIndex],t=r.sections[o.endIndex];let n=e.startInInput,i=t.endInInput;if(o.shouldSelectBoundarySelectors&&(n-=e.startSeparator.length,i+=t.endSeparator.length),n!==N.current.selectionStart||i!==N.current.selectionEnd){const e=N.current.scrollTop;N.current===mh(document)&&N.current.setSelectionRange(n,i),N.current.scrollTop=e}});const q=Eh((0,s.A)({},y,{value:r.value,timezone:m}),P,I.isSameError,I.defaultErrorState),Q=e.useMemo(()=>void 0!==E?E:I.hasError(q),[I,q,E]);e.useEffect(()=>{Q||o||$()},[r.referenceValue,o,Q]),e.useEffect(()=>(N.current&&N.current===document.activeElement&&a("all"),()=>window.clearTimeout(z.current)),[]),e.useEffect(()=>{null!=r.tempValueStrAndroid&&null!=o&&($(),u())},[r.tempValueStrAndroid]);const J=e.useMemo(()=>{var e;return null!=(e=r.tempValueStrAndroid)?e:L.getValueStrFromSections(r.sections,V)},[r.sections,L,r.tempValueStrAndroid,V]),Z=e.useMemo(()=>null==o||"letter"===r.sections[o.startIndex].contentType?"text":"numeric",[o,r.sections]),ee=N.current&&N.current===mh(document),te=I.areValuesEqual(n,r.value,I.emptyValue),ne=!ee&&te;e.useImperativeHandle(b,()=>({getSections:()=>r.sections,getActiveSectionIndex:()=>{var e,t,n;const i=null!=(e=N.current.selectionStart)?e:0,s=null!=(t=N.current.selectionEnd)?t:0,o=!(null==(n=N.current)||!n.readOnly);if(0===i&&0===s||o)return null;const a=i<=r.sections[0].startInInput?1:r.sections.findIndex(e=>e.startInInput-e.startSeparator.length>i);return-1===a?r.sections.length-1:a-1},setSelectedSections:e=>a(e)}));const re=gt(function(e){var t;e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null==D||D(e,...r),l(),null==N||null==(t=N.current)||t.focus(),a(0)});return(0,s.A)({placeholder:f,autoComplete:"off",disabled:Boolean(M)},O,{value:ne?"":J,inputMode:Z,readOnly:x,onClick:W,onFocus:K,onBlur:H,onPaste:G,onChange:Y,onKeyDown:X,onMouseUp:U,onClear:re,error:Q,ref:F,clearable:Boolean(C&&!te&&!x&&!M)})},Ad=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],_d=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Ed=["minDateTime","maxDateTime"],Cd=[...Ad,..._d,...Ed],Dd=e=>Cd.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{}),Md=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],Ld=e=>{let{props:t,inputRef:n}=e;const r=(e=>{var t,n,r;const i=zc(),o=Vc();return(0,s.A)({},e,{disablePast:null!=(t=e.disablePast)&&t,disableFuture:null!=(n=e.disableFuture)&&n,format:null!=(r=e.format)?r:i.formats.keyboardDate,minDate:ec(i,e.minDate,o.minDate),maxDate:ec(i,e.maxDate,o.maxDate)})})(t),{forwardedProps:i,internalProps:o}=((e,t)=>{const n=(0,s.A)({},e),r={},i=e=>{n.hasOwnProperty(e)&&(r[e]=n[e],delete n[e])};return Md.forEach(i),"date"===t?Ad.forEach(i):"time"===t?_d.forEach(i):"date-time"===t&&(Ad.forEach(i),_d.forEach(i),Ed.forEach(i)),{forwardedProps:n,internalProps:r}})(r,"date");return Td({inputRef:n,forwardedProps:i,internalProps:o,valueManager:Mc,fieldValueManager:Lc,validator:eh,valueType:"date"})},Id=["ownerState"],Pd=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Od=["inputRef"],Rd=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],$d=e.forwardRef(function(t,n){var r,o,a;const l=Hu({props:t,name:"MuiDateField"}),{components:u,componentsProps:c,slots:h,slotProps:d,InputProps:p,inputProps:f}=l,m=(0,i.A)(l,Pd),g=l,y=null!=(r=null!=(o=null==h?void 0:h.textField)?o:null==u?void 0:u.TextField)?r:Sa,x=ah({elementType:y,externalSlotProps:null!=(a=null==d?void 0:d.textField)?a:null==c?void 0:c.textField,externalForwardedProps:m,ownerState:g}),{inputRef:b}=x,v=(0,i.A)(x,Od);v.inputProps=(0,s.A)({},f,v.inputProps),v.InputProps=(0,s.A)({},p,v.InputProps);const w=Ld({props:v,inputRef:b}),{ref:S,onPaste:k,onKeyDown:T,inputMode:A,readOnly:_,clearable:E,onClear:C}=w,D=(0,i.A)(w,Rd),{InputProps:M,fieldProps:L}=(t=>{let{clearable:n,fieldProps:r,InputProps:o,onClear:a,slots:l,slotProps:u,components:c,componentsProps:h}=t;var d,p,f,m,g,y;const x=jc(),b=null!=(d=null!=(p=null==l?void 0:l.clearButton)?p:null==c?void 0:c.ClearButton)?d:mn,v=ah({elementType:b,externalSlotProps:null!=(f=null==u?void 0:u.clearButton)?f:null==h?void 0:h.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:x.fieldClearLabel}}),w=(0,i.A)(v,Id),S=null!=(m=null!=(g=null==l?void 0:l.clearIcon)?g:null==c?void 0:c.ClearIcon)?m:bd,k=ah({elementType:S,externalSlotProps:null!=(y=null==u?void 0:u.clearIcon)?y:null==h?void 0:h.clearIcon,ownerState:{}});return{InputProps:(0,s.A)({},o,{endAdornment:(0,N.jsxs)(e.Fragment,{children:[n&&(0,N.jsx)(ph,{position:"end",sx:{marginRight:null!=o&&o.endAdornment?-1:-1.5},children:(0,N.jsx)(b,(0,s.A)({},w,{onClick:a,children:(0,N.jsx)(S,(0,s.A)({fontSize:"small"},k))}))}),null==o?void 0:o.endAdornment]})}),fieldProps:(0,s.A)({},r,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(r.sx)?r.sx:[r.sx]]})}})({onClear:C,clearable:E,fieldProps:D,InputProps:D.InputProps,slots:h,slotProps:d,components:u,componentsProps:c});return(0,N.jsx)(y,(0,s.A)({ref:n},L,{InputProps:(0,s.A)({},M,{readOnly:_}),inputProps:(0,s.A)({},D.inputProps,{inputMode:A,onPaste:k,onKeyDown:T,ref:S})}))}),Nd=t=>{let{shouldDisableDate:n,shouldDisableMonth:r,shouldDisableYear:i,minDate:s,maxDate:o,disableFuture:a,disablePast:l,timezone:u}=t;const c=Fc();return e.useCallback(e=>null!==eh({adapter:c,value:e,props:{shouldDisableDate:n,shouldDisableMonth:r,shouldDisableYear:i,minDate:s,maxDate:o,disableFuture:a,disablePast:l,timezone:u}}),[c,n,r,i,s,o,a,l,u])},Fd=t=>{const{value:n,referenceDate:r,defaultCalendarMonth:i,disableFuture:o,disablePast:a,disableSwitchToMonthOnDayFocus:l=!1,maxDate:u,minDate:c,onMonthChange:h,reduceAnimations:d,shouldDisableDate:p,timezone:f}=t,m=zc(),g=e.useRef(((e,t,n)=>(r,i)=>{switch(i.type){case"changeMonth":return(0,s.A)({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,s.A)({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=r.focusedDay&&null!=i.focusedDay&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const o=null!=i.focusedDay&&!t&&!n.isSameMonth(r.currentMonth,i.focusedDay);return(0,s.A)({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:o?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:null!=i.focusedDay&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(d),l,m)).current,y=e.useMemo(()=>{let e=null;return r?e=r:i&&(e=m.startOfMonth(i)),Mc.getInitialReferenceValue({value:n,utils:m,timezone:f,props:t,referenceDate:e,granularity:uc.day})},[]),[x,b]=e.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:y,currentMonth:m.startOfMonth(y),slideDirection:"left"}),v=e.useCallback(e=>{b((0,s.A)({type:"changeMonth"},e)),h&&h(e.newMonth)},[h]),w=e.useCallback(e=>{const t=e;m.isSameMonth(t,x.currentMonth)||v({newMonth:m.startOfMonth(t),direction:m.isAfterDay(t,x.currentMonth)?"left":"right"})},[x.currentMonth,v,m]),S=Nd({shouldDisableDate:p,minDate:c,maxDate:u,disableFuture:o,disablePast:a,timezone:f}),k=e.useCallback(()=>{b({type:"finishMonthSwitchingAnimation"})},[]),T=gt((e,t)=>{S(e)||b({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})});return{referenceDate:y,calendarState:x,changeMonth:w,changeFocusedDay:T,isDateDisabled:S,onMonthSwitchingAnimationEnd:k,handleChangeMonth:v}},zd=e=>h("MuiPickersFadeTransitionGroup",e),Vd=(Ne("MuiPickersFadeTransitionGroup",["root"]),Ce(Vt,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function jd(e){const t=Hu({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:s}=t,o=(e=>{const{classes:t}=e;return d({root:["root"]},zd,t)})(t),l=Xn();return i?n:(0,N.jsx)(Vd,{className:a(o.root,r),children:(0,N.jsx)(Gi,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},s)})}var Bd=n(6747);function Wd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,Bd.A)(e,t,n)}function Ud(e){if(e.type)return e;if("#"===e.charAt(0))return Ud(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,U.A)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,U.A)(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}function Kd(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function Hd(e,t){return e=Ud(e),t=Wd(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Kd(e)}function Gd(e){return h("MuiPickersDay",e)}const Yd=Ne("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Xd=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],qd=e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Hd(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Hd(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Yd.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Yd.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Yd.disabled}:not(.${Yd.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yd.disabled}&.${Yd.selected}`]:{opacity:.6}},!n.disableMargin&&{margin:"0 2px"},n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!n.disableHighlightToday&&n.today&&{[`&:not(.${Yd.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}})},Qd=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Jd=Ce(un,{name:"MuiPickersDay",slot:"Root",overridesResolver:Qd})(qd),Zd=Ce("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Qd})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({},qd({theme:t,ownerState:n}),{opacity:0,pointerEvents:"none"})}),ep=()=>{},tp=e.forwardRef(function(t,n){const r=Hu({props:t,name:"MuiPickersDay"}),{autoFocus:o=!1,className:l,day:u,disabled:c=!1,disableHighlightToday:h=!1,disableMargin:p=!1,isAnimating:f,onClick:m,onDaySelect:g,onFocus:y=ep,onBlur:x=ep,onKeyDown:b=ep,onMouseDown:v=ep,onMouseEnter:w=ep,outsideCurrentMonth:S,selected:k=!1,showDaysOutsideCurrentMonth:T=!1,children:A,today:_=!1}=r,E=(0,i.A)(r,Xd),C=(0,s.A)({},r,{autoFocus:o,disabled:c,disableHighlightToday:h,disableMargin:p,selected:k,showDaysOutsideCurrentMonth:T,today:_}),D=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:s,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:a,classes:l}=e,u=o&&!a;return d({root:["root",t&&!u&&"selected",s&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",o&&a&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Gd,l)})(C),M=zc(),L=e.useRef(null),I=qe(L,n);mt(()=>{!o||c||f||S||L.current.focus()},[o,c,f,S]);return S&&!T?(0,N.jsx)(Zd,{className:a(D.root,D.hiddenDaySpacingFiller,l),ownerState:C,role:E.role}):(0,N.jsx)(Jd,(0,s.A)({className:a(D.root,l),ref:I,centerRipple:!0,disabled:c,tabIndex:k?0:-1,onKeyDown:e=>b(e,u),onFocus:e=>y(e,u),onBlur:e=>x(e,u),onMouseEnter:e=>w(e,u),onClick:e=>{c||g(u),S&&e.currentTarget.focus(),m&&m(e)},onMouseDown:e=>{v(e),S&&e.preventDefault()}},E,{ownerState:C,children:A||M.format(u,"dayOfMonth")}))}),np=e.memo(tp);function rp(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var ip=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=rp(n.className,r):n.setAttribute("class",rp(n.className&&n.className.baseVal||"",r)));var n,r})},sp=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],s=r[1];e.removeClasses(i,"exit"),e.addClass(i,s?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],s=r[1]?"appear":"enter";e.addClass(i,s,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],s=r[1]?"appear":"enter";e.removeClasses(i,s),e.addClass(i,s,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}Pt(n,t);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Nn(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach(function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r})}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={},r&&ip(e,r),i&&ip(e,i),s&&ip(e,s)},r.render=function(){var t=this.props,n=(t.classNames,(0,i.A)(t,["classNames"]));return e.createElement(Kn,(0,s.A)({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);sp.defaultProps={classNames:""},sp.propTypes={};const op=sp,ap=e=>h("MuiPickersSlideTransition",e),lp=Ne("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),up=["children","className","reduceAnimations","slideDirection","transKey","classes"],cp=Ce(Vt,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${lp["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${lp["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${lp.slideEnterActive}`]:t.slideEnterActive},{[`.${lp.slideExit}`]:t.slideExit},{[`.${lp["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${lp["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${lp["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${lp["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${lp.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${lp.slideExit}`]:{transform:"translate(0%)"},[`& .${lp["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${lp["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});const hp=e=>h("MuiDayCalendar",e),dp=(Ne("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),pp=["ownerState"],fp=Ce("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mp=Ce("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),gp=Ce(Ye,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}}),yp=Ce(Ye,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}}),xp=Ce(Ye,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(e=>{let{theme:t}=e;return(0,s.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})}),bp=Ce("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),vp=Ce(function(t){const n=Hu({props:t,name:"MuiPickersSlideTransition"}),{children:r,className:o,reduceAnimations:l,transKey:u}=n,c=(0,i.A)(n,up),h=(e=>{const{classes:t,slideDirection:n}=e;return d({root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]},ap,t)})(n),p=Xn();if(l)return(0,N.jsx)("div",{className:a(h.root,o),children:r});const f={exit:h.exit,enterActive:h.enterActive,enter:h.enter,exitActive:h.exitActive};return(0,N.jsx)(cp,{className:a(h.root,o),childFactory:t=>e.cloneElement(t,{classNames:f}),role:"presentation",children:(0,N.jsx)(op,(0,s.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:p.transitions.duration.complex,classNames:f},c,{children:r}),u)})},{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),wp=Ce("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Sp=Ce("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function kp(t){var n,r,o;let{parentProps:a,day:l,focusableDay:u,selectedDays:c,isDateDisabled:h,currentMonthNumber:d,isViewFocused:p}=t,f=(0,i.A)(t,dp);const{disabled:m,disableHighlightToday:g,isMonthSwitchingAnimating:y,showDaysOutsideCurrentMonth:x,components:b,componentsProps:v,slots:w,slotProps:S,timezone:k}=a,T=zc(),A=Bc(k),_=null!==u&&T.isSameDay(l,u),E=c.some(e=>T.isSameDay(e,l)),C=T.isSameDay(l,A),D=null!=(n=null!=(r=null==w?void 0:w.day)?r:null==b?void 0:b.Day)?n:np,M=ah({elementType:D,externalSlotProps:null!=(o=null==S?void 0:S.day)?o:null==v?void 0:v.day,additionalProps:(0,s.A)({disableHighlightToday:g,showDaysOutsideCurrentMonth:x,role:"gridcell",isAnimating:y,"data-timestamp":T.toJsDate(l).valueOf()},f),ownerState:(0,s.A)({},a,{day:l,selected:E})}),L=(0,i.A)(M,pp),I=e.useMemo(()=>m||h(l),[m,h,l]),P=e.useMemo(()=>T.getMonth(l)!==d,[T,l,d]),O=e.useMemo(()=>{const e=T.startOfMonth(T.setMonth(l,d));return x?T.isSameDay(l,T.startOfWeek(e)):T.isSameDay(l,e)},[d,l,x,T]),R=e.useMemo(()=>{const e=T.endOfMonth(T.setMonth(l,d));return x?T.isSameDay(l,T.endOfWeek(e)):T.isSameDay(l,e)},[d,l,x,T]);return(0,N.jsx)(D,(0,s.A)({},L,{day:l,disabled:I,autoFocus:p&&_,today:C,outsideCurrentMonth:P,isFirstVisibleCell:O,isLastVisibleCell:R,selected:E,tabIndex:_?0:-1,"aria-selected":E,"aria-current":C?"date":void 0}))}function Tp(t){const n=Hu({props:t,name:"MuiDayCalendar"}),{onFocusedDayChange:r,className:i,currentMonth:o,selectedDays:l,focusedDay:u,loading:c,onSelectedDaysChange:h,onMonthSwitchingAnimationEnd:p,readOnly:f,reduceAnimations:m,renderLoading:g=()=>(0,N.jsx)("span",{children:"..."}),slideDirection:y,TransitionProps:x,disablePast:b,disableFuture:v,minDate:w,maxDate:S,shouldDisableDate:k,shouldDisableMonth:T,shouldDisableYear:A,dayOfWeekFormatter:_,hasFocus:E,onFocusedViewChange:C,gridLabelId:D,displayWeekNumber:M,fixedWeekNumber:L,autoFocus:I,timezone:P}=n,O=Bc(P),R=zc(),$=(e=>{const{classes:t}=e;return d({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},hp,t)})(n),F="rtl"===Xn().direction,z=_||((e,t)=>R.format(t,"weekdayShort").charAt(0).toUpperCase()),V=Nd({shouldDisableDate:k,shouldDisableMonth:T,shouldDisableYear:A,minDate:w,maxDate:S,disablePast:b,disableFuture:v,timezone:P}),j=jc(),[B,W]=Bs({name:"DayCalendar",state:"hasFocus",controlled:E,default:null!=I&&I}),[U,K]=e.useState(()=>u||O),H=gt(e=>{f||h(e)}),G=e=>{V(e)||(r(e),K(e),null==C||C(!0),W(!0))},Y=gt((e,t)=>{switch(e.key){case"ArrowUp":G(R.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":G(R.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const n=R.addDays(t,F?1:-1),r=R.addMonths(t,F?1:-1),i=Zu({utils:R,date:n,minDate:F?n:R.startOfMonth(r),maxDate:F?R.endOfMonth(r):n,isDateDisabled:V,timezone:P});G(i||n),e.preventDefault();break}case"ArrowRight":{const n=R.addDays(t,F?-1:1),r=R.addMonths(t,F?-1:1),i=Zu({utils:R,date:n,minDate:F?R.startOfMonth(r):n,maxDate:F?n:R.endOfMonth(r),isDateDisabled:V,timezone:P});G(i||n),e.preventDefault();break}case"Home":G(R.startOfWeek(t)),e.preventDefault();break;case"End":G(R.endOfWeek(t)),e.preventDefault();break;case"PageUp":G(R.addMonths(t,1)),e.preventDefault();break;case"PageDown":G(R.addMonths(t,-1)),e.preventDefault()}}),X=gt((e,t)=>G(t)),q=gt((e,t)=>{B&&R.isSameDay(U,t)&&(null==C||C(!1))}),Q=R.getMonth(o),J=e.useMemo(()=>l.filter(e=>!!e).map(e=>R.startOfDay(e)),[R,l]),Z=Q,ee=e.useMemo(()=>e.createRef(),[Z]),te=R.startOfWeek(O),ne=e.useMemo(()=>{const e=R.startOfMonth(o),t=R.endOfMonth(o);return V(U)||R.isAfterDay(U,t)||R.isBeforeDay(U,e)?Zu({utils:R,date:U,minDate:e,maxDate:t,disablePast:b,disableFuture:v,isDateDisabled:V,timezone:P}):U},[o,v,b,U,V,R,P]),re=e.useMemo(()=>{const e=R.setTimezone(o,P),t=R.getWeekArray(e);let n=R.addMonths(e,1);for(;L&&t.length<L;){const e=R.getWeekArray(n),r=R.isSameDay(t[t.length-1][0],e[0][0]);e.slice(r?1:0).forEach(e=>{t.length<L&&t.push(e)}),n=R.addMonths(n,1)}return t},[o,L,R,P]);return(0,N.jsxs)(fp,{role:"grid","aria-labelledby":D,className:$.root,children:[(0,N.jsxs)(mp,{role:"row",className:$.header,children:[M&&(0,N.jsx)(yp,{variant:"caption",role:"columnheader","aria-label":j.calendarWeekNumberHeaderLabel,className:$.weekNumberLabel,children:j.calendarWeekNumberHeaderText}),oc(R,O).map((e,t)=>{var n;const r=R.format(e,"weekdayShort");return(0,N.jsx)(gp,{variant:"caption",role:"columnheader","aria-label":R.format(R.addDays(te,t),"weekday"),className:$.weekDayLabel,children:null!=(n=null==z?void 0:z(r,e))?n:r},r+t.toString())})]}),c?(0,N.jsx)(bp,{className:$.loadingContainer,children:g()}):(0,N.jsx)(vp,(0,s.A)({transKey:Z,onExited:p,reduceAnimations:m,slideDirection:y,className:a(i,$.slideTransition)},x,{nodeRef:ee,children:(0,N.jsx)(wp,{ref:ee,role:"rowgroup",className:$.monthContainer,children:re.map((e,t)=>(0,N.jsxs)(Sp,{role:"row",className:$.weekContainer,"aria-rowindex":t+1,children:[M&&(0,N.jsx)(xp,{className:$.weekNumber,role:"rowheader","aria-label":j.calendarWeekNumberAriaLabelText(R.getWeekNumber(e[0])),children:j.calendarWeekNumberText(R.getWeekNumber(e[0]))}),e.map((e,t)=>(0,N.jsx)(kp,{parentProps:n,day:e,selectedDays:J,focusableDay:ne,onKeyDown:Y,onFocus:X,onBlur:q,onDaySelect:H,isDateDisabled:V,currentMonthNumber:Q,isViewFocused:B,"aria-colindex":t+1},e.toString()))]},`week-${e[0]}`))})}))]})}function Ap(e){return h("MuiPickersMonth",e)}const _p=Ne("MuiPickersMonth",["root","monthButton","disabled","selected"]),Ep=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Cp=Ce("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(e=>{let{ownerState:t}=e;return{flexBasis:3===t.monthsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}}),Dp=Ce("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${_p.disabled}`]:t.disabled},{[`&.${_p.selected}`]:t.selected}]})(e=>{let{theme:t}=e;return(0,s.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hd(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hd(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${_p.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${_p.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})}),Mp=e.memo(function(t){const n=Hu({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:o,disabled:a,selected:l,value:u,tabIndex:c,onClick:h,onKeyDown:p,onFocus:f,onBlur:m,"aria-current":g,"aria-label":y}=n,x=(0,i.A)(n,Ep),b=e.useRef(null),v=(e=>{const{disabled:t,selected:n,classes:r}=e;return d({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},Ap,r)})(n);return mt(()=>{var e;r&&(null==(e=b.current)||e.focus())},[r]),(0,N.jsx)(Cp,(0,s.A)({className:v.root,ownerState:n},x,{children:(0,N.jsx)(Dp,{ref:b,disabled:a,type:"button",role:"radio",tabIndex:a?-1:c,"aria-current":g,"aria-checked":l,"aria-label":y,onClick:e=>h(e,u),onKeyDown:e=>p(e,u),onFocus:e=>f(e,u),onBlur:e=>m(e,u),className:v.monthButton,ownerState:n,children:o})}))});function Lp(e){return h("MuiMonthCalendar",e)}Ne("MuiMonthCalendar",["root"]);const Ip=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"];const Pp=Ce("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:id,boxSizing:"border-box"}),Op=e.forwardRef(function(t,n){const r=function(e,t){const n=zc(),r=Vc(),i=Hu({props:e,name:t});return(0,s.A)({disableFuture:!1,disablePast:!1},i,{minDate:ec(n,i.minDate,r.minDate),maxDate:ec(n,i.maxDate,r.maxDate)})}(t,"MuiMonthCalendar"),{className:o,value:l,defaultValue:u,referenceDate:c,disabled:h,disableFuture:p,disablePast:f,maxDate:m,minDate:g,onChange:y,shouldDisableMonth:x,readOnly:b,disableHighlightToday:w,autoFocus:S=!1,onMonthFocus:k,hasFocus:T,onFocusedViewChange:A,monthsPerRow:_=3,timezone:E,gridLabelId:C}=r,D=(0,i.A)(r,Ip),{value:M,handleValueChange:L,timezone:I}=Dh({name:"MonthCalendar",timezone:E,value:l,defaultValue:u,onChange:y,valueManager:Mc}),P=Bc(I),O=v(),R=zc(),$=e.useMemo(()=>Mc.getInitialReferenceValue({value:M,utils:R,props:r,timezone:I,referenceDate:c,granularity:uc.month}),[]),F=r,z=(e=>{const{classes:t}=e;return d({root:["root"]},Lp,t)})(F),V=e.useMemo(()=>R.getMonth(P),[R,P]),j=e.useMemo(()=>null!=M?R.getMonth(M):w?null:R.getMonth($),[M,R,w,$]),[B,W]=e.useState(()=>j||V),[U,K]=Bs({name:"MonthCalendar",state:"hasFocus",controlled:T,default:null!=S&&S}),H=gt(e=>{K(e),A&&A(e)}),G=e.useCallback(e=>{const t=R.startOfMonth(f&&R.isAfter(P,g)?P:g),n=R.startOfMonth(p&&R.isBefore(P,m)?P:m),r=R.startOfMonth(e);return!!R.isBefore(r,t)||(!!R.isAfter(r,n)||!!x&&x(r))},[p,f,m,g,P,x,R]),Y=gt((e,t)=>{if(b)return;const n=R.setMonth(null!=M?M:$,t);L(n)}),X=gt(e=>{G(R.setMonth(null!=M?M:$,e))||(W(e),H(!0),k&&k(e))});e.useEffect(()=>{W(e=>null!==j&&e!==j?j:e)},[j]);const q=gt((e,t)=>{const n=12;switch(e.key){case"ArrowUp":X((n+t-3)%n),e.preventDefault();break;case"ArrowDown":X((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":X((n+t+("ltr"===O.direction?-1:1))%n),e.preventDefault();break;case"ArrowRight":X((n+t+("ltr"===O.direction?1:-1))%n),e.preventDefault()}}),Q=gt((e,t)=>{X(t)}),J=gt((e,t)=>{B===t&&H(!1)});return(0,N.jsx)(Pp,(0,s.A)({ref:n,className:a(z.root,o),ownerState:F,role:"radiogroup","aria-labelledby":C},D,{children:tc(R,null!=M?M:$).map(e=>{const t=R.getMonth(e),n=R.format(e,"monthShort"),r=R.format(e,"month"),i=t===j,s=h||G(e);return(0,N.jsx)(Mp,{selected:i,value:t,onClick:Y,onKeyDown:q,autoFocus:U&&t===B,disabled:s,tabIndex:t===B?0:-1,onFocus:Q,onBlur:J,"aria-current":V===t?"date":void 0,"aria-label":r,monthsPerRow:_,children:n},n)})}))});function Rp(e){return h("MuiPickersYear",e)}const $p=Ne("MuiPickersYear",["root","yearButton","selected","disabled"]),Np=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Fp=Ce("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(e=>{let{ownerState:t}=e;return{flexBasis:3===t.yearsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}}),zp=Ce("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${$p.disabled}`]:t.disabled},{[`&.${$p.selected}`]:t.selected}]})(e=>{let{theme:t}=e;return(0,s.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Hd(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hd(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${$p.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${$p.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})}),Vp=e.memo(function(t){const n=Hu({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:o,children:l,disabled:u,selected:c,value:h,tabIndex:p,onClick:f,onKeyDown:m,onFocus:g,onBlur:y,"aria-current":x}=n,b=(0,i.A)(n,Np),v=e.useRef(null),w=(e=>{const{disabled:t,selected:n,classes:r}=e;return d({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},Rp,r)})(n);return e.useEffect(()=>{r&&v.current.focus()},[r]),(0,N.jsx)(Fp,(0,s.A)({className:a(w.root,o),ownerState:n},b,{children:(0,N.jsx)(zp,{ref:v,disabled:u,type:"button",role:"radio",tabIndex:u?-1:p,"aria-current":x,"aria-checked":c,onClick:e=>f(e,h),onKeyDown:e=>m(e,h),onFocus:e=>g(e,h),onBlur:e=>y(e,h),className:w.yearButton,ownerState:n,children:l})}))});function jp(e){return h("MuiYearCalendar",e)}Ne("MuiYearCalendar",["root"]);const Bp=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"];const Wp=Ce("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:id,maxHeight:280,boxSizing:"border-box",position:"relative"}),Up=e.forwardRef(function(t,n){const r=function(e,t){var n;const r=zc(),i=Vc(),o=Hu({props:e,name:t});return(0,s.A)({disablePast:!1,disableFuture:!1},o,{yearsPerRow:null!=(n=o.yearsPerRow)?n:3,minDate:ec(r,o.minDate,i.minDate),maxDate:ec(r,o.maxDate,i.maxDate)})}(t,"MuiYearCalendar"),{autoFocus:o,className:l,value:u,defaultValue:c,referenceDate:h,disabled:p,disableFuture:f,disablePast:m,maxDate:g,minDate:y,onChange:x,readOnly:b,shouldDisableYear:w,disableHighlightToday:S,onYearFocus:k,hasFocus:T,onFocusedViewChange:A,yearsPerRow:_,timezone:E,gridLabelId:C}=r,D=(0,i.A)(r,Bp),{value:M,handleValueChange:L,timezone:I}=Dh({name:"YearCalendar",timezone:E,value:u,defaultValue:c,onChange:x,valueManager:Mc}),P=Bc(I),O=v(),R=zc(),$=e.useMemo(()=>Mc.getInitialReferenceValue({value:M,utils:R,props:r,timezone:I,referenceDate:h,granularity:uc.year}),[]),F=r,z=(e=>{const{classes:t}=e;return d({root:["root"]},jp,t)})(F),V=e.useMemo(()=>R.getYear(P),[R,P]),j=e.useMemo(()=>null!=M?R.getYear(M):S?null:R.getYear($),[M,R,S,$]),[B,W]=e.useState(()=>j||V),[U,K]=Bs({name:"YearCalendar",state:"hasFocus",controlled:T,default:null!=o&&o}),H=gt(e=>{K(e),A&&A(e)}),G=e.useCallback(e=>{if(m&&R.isBeforeYear(e,P))return!0;if(f&&R.isAfterYear(e,P))return!0;if(y&&R.isBeforeYear(e,y))return!0;if(g&&R.isAfterYear(e,g))return!0;if(!w)return!1;const t=R.startOfYear(e);return w(t)},[f,m,g,y,P,w,R]),Y=gt((e,t)=>{if(b)return;const n=R.setYear(null!=M?M:$,t);L(n)}),X=gt(e=>{G(R.setYear(null!=M?M:$,e))||(W(e),H(!0),null==k||k(e))});e.useEffect(()=>{W(e=>null!==j&&e!==j?j:e)},[j]);const q=gt((e,t)=>{switch(e.key){case"ArrowUp":X(t-_),e.preventDefault();break;case"ArrowDown":X(t+_),e.preventDefault();break;case"ArrowLeft":X(t+("ltr"===O.direction?-1:1)),e.preventDefault();break;case"ArrowRight":X(t+("ltr"===O.direction?1:-1)),e.preventDefault()}}),Q=gt((e,t)=>{X(t)}),J=gt((e,t)=>{B===t&&H(!1)}),Z=e.useRef(null),ee=qe(n,Z);return e.useEffect(()=>{if(o||null===Z.current)return;const e=Z.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,r=Z.current.clientHeight,i=Z.current.scrollTop,s=n+t;t>r||n<i||(Z.current.scrollTop=s-r/2-t/2)},[o]),(0,N.jsx)(Wp,(0,s.A)({ref:ee,className:a(z.root,l),ownerState:F,role:"radiogroup","aria-labelledby":C},D,{children:R.getYearRange(y,g).map(e=>{const t=R.getYear(e),n=t===j,r=p||G(e);return(0,N.jsx)(Vp,{selected:n,value:t,onClick:Y,onKeyDown:q,autoFocus:U&&t===B,disabled:r,tabIndex:t===B?0:-1,onFocus:Q,onBlur:J,"aria-current":V===t?"date":void 0,yearsPerRow:_,children:R.format(e,"year")},R.format(e,"year"))})}))});function Kp(e){return h("MuiPickersArrowSwitcher",e)}Ne("MuiPickersArrowSwitcher",["root","spacer","button"]);const Hp=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Gp=["ownerState"],Yp=["ownerState"],Xp=Ce("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),qp=Ce("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(e=>{let{theme:t}=e;return{width:t.spacing(3)}}),Qp=Ce(mn,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(e=>{let{ownerState:t}=e;return(0,s.A)({},t.hidden&&{visibility:"hidden"})}),Jp=e.forwardRef(function(e,t){var n,r,o,l;const u="rtl"===Xn().direction,c=Hu({props:e,name:"MuiPickersArrowSwitcher"}),{children:h,className:p,slots:f,slotProps:m,isNextDisabled:g,isNextHidden:y,onGoToNext:x,nextLabel:b,isPreviousDisabled:v,isPreviousHidden:w,onGoToPrevious:S,previousLabel:k}=c,T=(0,i.A)(c,Hp),A=c,_=(e=>{const{classes:t}=e;return d({root:["root"],spacer:["spacer"],button:["button"]},Kp,t)})(A),E={isDisabled:g,isHidden:y,goTo:x,label:b},C={isDisabled:v,isHidden:w,goTo:S,label:k},D=null!=(n=null==f?void 0:f.previousIconButton)?n:Qp,M=ah({elementType:D,externalSlotProps:null==m?void 0:m.previousIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"end",onClick:C.goTo},ownerState:(0,s.A)({},A,{hidden:C.isHidden}),className:_.button}),L=null!=(r=null==f?void 0:f.nextIconButton)?r:Qp,I=ah({elementType:L,externalSlotProps:null==m?void 0:m.nextIconButton,additionalProps:{size:"medium",title:E.label,"aria-label":E.label,disabled:E.isDisabled,edge:"start",onClick:E.goTo},ownerState:(0,s.A)({},A,{hidden:E.isHidden}),className:_.button}),P=null!=(o=null==f?void 0:f.leftArrowIcon)?o:gd,O=ah({elementType:P,externalSlotProps:null==m?void 0:m.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),R=(0,i.A)(O,Gp),$=null!=(l=null==f?void 0:f.rightArrowIcon)?l:yd,F=ah({elementType:$,externalSlotProps:null==m?void 0:m.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),z=(0,i.A)(F,Yp);return(0,N.jsxs)(Xp,(0,s.A)({ref:t,className:a(_.root,p),ownerState:A},T,{children:[(0,N.jsx)(D,(0,s.A)({},M,{children:u?(0,N.jsx)($,(0,s.A)({},z)):(0,N.jsx)(P,(0,s.A)({},R))})),h?(0,N.jsx)(Ye,{variant:"subtitle1",component:"span",children:h}):(0,N.jsx)(qp,{className:_.spacer,ownerState:A}),(0,N.jsx)(L,(0,s.A)({},I,{children:u?(0,N.jsx)(P,(0,s.A)({},R)):(0,N.jsx)($,(0,s.A)({},z))}))]}))});const Zp=e=>h("MuiPickersCalendarHeader",e),ef=Ne("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),tf=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],nf=["ownerState"],rf=Ce("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),sf=Ce("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(e=>{let{theme:t}=e;return(0,s.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})}),of=Ce("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),af=Ce(mn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(e=>{let{ownerState:t}=e;return(0,s.A)({marginRight:"auto"},"year"===t.view&&{[`.${ef.switchViewIcon}`]:{transform:"rotate(180deg)"}})}),lf=Ce(md,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}}),uf=e.forwardRef(function(t,n){var r,o,l,u;const c=jc(),h=zc(),p=Hu({props:t,name:"MuiPickersCalendarHeader"}),{slots:f,slotProps:m,components:g,currentMonth:y,disabled:x,disableFuture:b,disablePast:v,maxDate:w,minDate:S,onMonthChange:k,onViewChange:T,view:A,reduceAnimations:_,views:E,labelId:C,className:D,timezone:M}=p,L=(0,i.A)(p,tf),I=p,P=(e=>{const{classes:t}=e;return d({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Zp,t)})(p),O=null!=(r=null!=(o=null==f?void 0:f.switchViewButton)?o:null==g?void 0:g.SwitchViewButton)?r:af,R=ah({elementType:O,externalSlotProps:null==m?void 0:m.switchViewButton,additionalProps:{size:"small","aria-label":c.calendarViewSwitchingButtonAriaLabel(A)},ownerState:I,className:P.switchViewButton}),$=null!=(l=null!=(u=null==f?void 0:f.switchViewIcon)?u:null==g?void 0:g.SwitchViewIcon)?l:lf,F=ah({elementType:$,externalSlotProps:null==m?void 0:m.switchViewIcon,ownerState:void 0,className:P.switchViewIcon}),z=(0,i.A)(F,nf),V=function(t,n){let{disableFuture:r,maxDate:i,timezone:s}=n;const o=zc();return e.useMemo(()=>{const e=o.dateWithTimezone(void 0,s),n=o.startOfMonth(r&&o.isBefore(e,i)?e:i);return!o.isAfter(n,t)},[r,i,t,o,s])}(y,{disableFuture:b,maxDate:w,timezone:M}),j=function(t,n){let{disablePast:r,minDate:i,timezone:s}=n;const o=zc();return e.useMemo(()=>{const e=o.dateWithTimezone(void 0,s),n=o.startOfMonth(r&&o.isAfter(e,i)?e:i);return!o.isBefore(n,t)},[r,i,t,o,s])}(y,{disablePast:v,minDate:S,timezone:M});return 1===E.length&&"year"===E[0]?null:(0,N.jsxs)(rf,(0,s.A)({},L,{ownerState:I,className:a(D,P.root),ref:n,children:[(0,N.jsxs)(sf,{role:"presentation",onClick:()=>{if(1!==E.length&&T&&!x)if(2===E.length)T(E.find(e=>e!==A)||E[0]);else{const e=0!==E.indexOf(A)?0:1;T(E[e])}},ownerState:I,"aria-live":"polite",className:P.labelContainer,children:[(0,N.jsx)(jd,{reduceAnimations:_,transKey:h.format(y,"monthAndYear"),children:(0,N.jsx)(of,{id:C,ownerState:I,className:P.label,children:h.format(y,"monthAndYear")})}),E.length>1&&!x&&(0,N.jsx)(O,(0,s.A)({},R,{children:(0,N.jsx)($,(0,s.A)({},z))}))]}),(0,N.jsx)(Gi,{in:"day"===A,children:(0,N.jsx)(Jp,{slots:f,slotProps:m,onGoToPrevious:()=>k(h.addMonths(y,-1),"right"),isPreviousDisabled:j,previousLabel:c.previousMonth,onGoToNext:()=>k(h.addMonths(y,1),"left"),isNextDisabled:V,nextLabel:c.nextMonth})})]}))}),cf=Ce("div")({overflow:"hidden",width:id,maxHeight:334,display:"flex",flexDirection:"column",margin:"0 auto"}),hf=e=>h("MuiDateCalendar",e),df=(Ne("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"]);const pf=Ce(cf,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:334}),ff=Ce(jd,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),mf=e.forwardRef(function(t,n){var r,o,l;const u=zc(),c=ci(),h=function(e,t){var n,r,i,o,a,l,u;const c=zc(),h=Vc(),d=wh(),p=Hu({props:e,name:t});return(0,s.A)({},p,{loading:null!=(n=p.loading)&&n,disablePast:null!=(r=p.disablePast)&&r,disableFuture:null!=(i=p.disableFuture)&&i,openTo:null!=(o=p.openTo)?o:"day",views:null!=(a=p.views)?a:["year","day"],reduceAnimations:null!=(l=p.reduceAnimations)?l:d,renderLoading:null!=(u=p.renderLoading)?u:()=>(0,N.jsx)("span",{children:"..."}),minDate:ec(c,p.minDate,h.minDate),maxDate:ec(c,p.maxDate,h.maxDate)})}(t,"MuiDateCalendar"),{autoFocus:p,onViewChange:f,value:m,defaultValue:g,referenceDate:y,disableFuture:x,disablePast:b,defaultCalendarMonth:v,onChange:w,onYearChange:S,onMonthChange:k,reduceAnimations:T,shouldDisableDate:A,shouldDisableMonth:_,shouldDisableYear:E,view:C,views:D,openTo:M,className:L,disabled:I,readOnly:P,minDate:O,maxDate:R,disableHighlightToday:$,focusedView:F,onFocusedViewChange:z,showDaysOutsideCurrentMonth:V,fixedWeekNumber:j,dayOfWeekFormatter:B,components:W,componentsProps:U,slots:K,slotProps:H,loading:G,renderLoading:Y,displayWeekNumber:X,yearsPerRow:q,monthsPerRow:Q,timezone:J}=h,Z=(0,i.A)(h,df),{value:ee,handleValueChange:te,timezone:ne}=Dh({name:"DateCalendar",timezone:J,value:m,defaultValue:g,onChange:w,valueManager:Mc}),{view:re,setView:ie,focusedView:se,setFocusedView:oe,goToNextView:ae,setValueAndGoToNextView:le}=Lh({view:C,views:D,openTo:M,onChange:te,onViewChange:f,autoFocus:p,focusedView:F,onFocusedViewChange:z}),{referenceDate:ue,calendarState:ce,changeFocusedDay:he,changeMonth:de,handleChangeMonth:pe,isDateDisabled:fe,onMonthSwitchingAnimationEnd:me}=Fd({value:ee,defaultCalendarMonth:v,referenceDate:y,reduceAnimations:T,onMonthChange:k,minDate:O,maxDate:R,shouldDisableDate:A,disablePast:b,disableFuture:x,timezone:ne}),ge=I&&ee||O,ye=I&&ee||R,xe=`${c}-grid-label`,be=null!==se,ve=null!=(r=null!=(o=null==K?void 0:K.calendarHeader)?o:null==W?void 0:W.CalendarHeader)?r:uf,we=ah({elementType:ve,externalSlotProps:null!=(l=null==H?void 0:H.calendarHeader)?l:null==U?void 0:U.calendarHeader,additionalProps:{views:D,view:re,currentMonth:ce.currentMonth,onViewChange:ie,onMonthChange:(e,t)=>pe({newMonth:e,direction:t}),minDate:ge,maxDate:ye,disabled:I,disablePast:b,disableFuture:x,reduceAnimations:T,timezone:ne,labelId:xe,slots:K,slotProps:H},ownerState:h}),Se=gt(e=>{const t=u.startOfMonth(e),n=u.endOfMonth(e),r=fe(e)?Zu({utils:u,date:e,minDate:u.isBefore(O,t)?t:O,maxDate:u.isAfter(R,n)?n:R,disablePast:b,disableFuture:x,isDateDisabled:fe,timezone:ne}):e;r?(le(r,"finish"),null==k||k(t)):(ae(),de(t)),he(r,!0)}),ke=gt(e=>{const t=u.startOfYear(e),n=u.endOfYear(e),r=fe(e)?Zu({utils:u,date:e,minDate:u.isBefore(O,t)?t:O,maxDate:u.isAfter(R,n)?n:R,disablePast:b,disableFuture:x,isDateDisabled:fe,timezone:ne}):e;r?(le(r,"finish"),null==S||S(r)):(ae(),de(t)),he(r,!0)}),Te=gt(e=>te(e?Ju(u,e,null!=ee?ee:ue):e,"finish",re));e.useEffect(()=>{null!=ee&&u.isValid(ee)&&de(ee)},[ee]);const Ae=h,_e=(e=>{const{classes:t}=e;return d({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},hf,t)})(Ae),Ee={disablePast:b,disableFuture:x,maxDate:R,minDate:O},Ce={disableHighlightToday:$,readOnly:P,disabled:I,timezone:ne,gridLabelId:xe},De=e.useRef(re);e.useEffect(()=>{De.current!==re&&(se===De.current&&oe(re,!0),De.current=re)},[se,oe,re]);const Me=e.useMemo(()=>[ee],[ee]);return(0,N.jsxs)(pf,(0,s.A)({ref:n,className:a(_e.root,L),ownerState:Ae},Z,{children:[(0,N.jsx)(ve,(0,s.A)({},we)),(0,N.jsx)(ff,{reduceAnimations:T,className:_e.viewTransitionContainer,transKey:re,ownerState:Ae,children:(0,N.jsxs)("div",{children:["year"===re&&(0,N.jsx)(Up,(0,s.A)({},Ee,Ce,{value:ee,onChange:ke,shouldDisableYear:E,hasFocus:be,onFocusedViewChange:e=>oe("year",e),yearsPerRow:q,referenceDate:ue})),"month"===re&&(0,N.jsx)(Op,(0,s.A)({},Ee,Ce,{hasFocus:be,className:L,value:ee,onChange:Se,shouldDisableMonth:_,onFocusedViewChange:e=>oe("month",e),monthsPerRow:Q,referenceDate:ue})),"day"===re&&(0,N.jsx)(Tp,(0,s.A)({},ce,Ee,Ce,{onMonthSwitchingAnimationEnd:me,onFocusedDayChange:he,reduceAnimations:T,selectedDays:Me,onSelectedDaysChange:Te,shouldDisableDate:A,shouldDisableMonth:_,shouldDisableYear:E,hasFocus:be,onFocusedViewChange:e=>oe("day",e),showDaysOutsideCurrentMonth:V,fixedWeekNumber:j,dayOfWeekFormatter:B,displayWeekNumber:X,components:W,componentsProps:U,slots:K,slotProps:H,loading:G,renderLoading:Y}))]})})]}))}),gf=e=>{let{view:t,onViewChange:n,views:r,focusedView:i,onFocusedViewChange:s,value:o,defaultValue:a,referenceDate:l,onChange:u,className:c,classes:h,disableFuture:d,disablePast:p,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:y,shouldDisableYear:x,reduceAnimations:b,onMonthChange:v,monthsPerRow:w,onYearChange:S,yearsPerRow:k,defaultCalendarMonth:T,components:A,componentsProps:_,slots:E,slotProps:C,loading:D,renderLoading:M,disableHighlightToday:L,readOnly:I,disabled:P,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:R,sx:$,autoFocus:F,fixedWeekNumber:z,displayWeekNumber:V,timezone:j}=e;return(0,N.jsx)(mf,{view:t,onViewChange:n,views:r.filter(ic),focusedView:i&&ic(i)?i:null,onFocusedViewChange:s,value:o,defaultValue:a,referenceDate:l,onChange:u,className:c,classes:h,disableFuture:d,disablePast:p,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:y,shouldDisableYear:x,reduceAnimations:b,onMonthChange:v,monthsPerRow:w,onYearChange:S,yearsPerRow:k,defaultCalendarMonth:T,components:A,componentsProps:_,slots:E,slotProps:C,loading:D,renderLoading:M,disableHighlightToday:L,readOnly:I,disabled:P,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:R,sx:$,autoFocus:F,fixedWeekNumber:z,displayWeekNumber:V,timezone:j})},yf=e.forwardRef(function(t,n){var r,o,a,l;const u=jc(),c=zc(),h=Zc(t,"MuiDesktopDatePicker"),d=(0,s.A)({day:gf,month:gf,year:gf},h.viewRenderers),p=(0,s.A)({},h,{viewRenderers:d,format:sc(c,h,!1),yearsPerRow:null!=(r=h.yearsPerRow)?r:4,slots:(0,s.A)({openPickerIcon:xd,field:$d},h.slots),slotProps:(0,s.A)({},h.slotProps,{field:e=>{var t;return(0,s.A)({},Xu(null==(t=h.slotProps)?void 0:t.field,e),Dd(h),{ref:n})},toolbar:(0,s.A)({hidden:!0},null==(o=h.slotProps)?void 0:o.toolbar)})}),{renderPicker:f}=(t=>{var n,r,o,a,l;let{props:u,getOpenDialogAriaText:c}=t,h=(0,i.A)(t,dd);const{slots:d,slotProps:p,className:f,sx:m,format:g,formatDensity:y,timezone:x,name:b,label:v,inputRef:w,readOnly:S,disabled:k,autoFocus:T,localeText:A,reduceAnimations:_}=u,E=zc(),C=e.useRef(null),D=e.useRef(null),M=ci(),L=null!=(n=null==p||null==(r=p.toolbar)?void 0:r.hidden)&&n,{open:I,actions:P,hasUIView:O,layoutProps:R,renderCurrentView:$,shouldRestoreFocus:F,fieldProps:z}=$h((0,s.A)({},h,{props:u,inputRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),V=null!=(o=d.inputAdornment)?o:ph,j=ah({elementType:V,externalSlotProps:null==p?void 0:p.inputAdornment,additionalProps:{position:"end"},ownerState:u}),B=(0,i.A)(j,pd),W=null!=(a=d.openPickerButton)?a:mn,U=ah({elementType:W,externalSlotProps:null==p?void 0:p.openPickerButton,additionalProps:{disabled:k||S,onClick:I?P.onClose:P.onOpen,"aria-label":c(z.value,E),edge:B.position},ownerState:u}),K=(0,i.A)(U,fd),H=d.openPickerIcon,G=d.field,Y=ah({elementType:G,externalSlotProps:null==p?void 0:p.field,additionalProps:(0,s.A)({},z,L&&{id:M},{readOnly:S,disabled:k,className:f,sx:m,format:g,formatDensity:y,timezone:x,label:v,name:b,autoFocus:T&&!u.open,focused:!!I||void 0}),ownerState:u});O&&(Y.InputProps=(0,s.A)({},Y.InputProps,{ref:D},!u.disableOpenPicker&&{[`${B.position}Adornment`]:(0,N.jsx)(V,(0,s.A)({},B,{children:(0,N.jsx)(W,(0,s.A)({},K,{children:(0,N.jsx)(H,(0,s.A)({},null==p?void 0:p.openPickerIcon))}))}))}));const X=(0,s.A)({textField:d.textField,clearIcon:d.clearIcon,clearButton:d.clearButton},Y.slots),q=null!=(l=d.layout)?l:hd,Q=qe(C,Y.inputRef,w);let J=M;L&&(J=v?`${M}-label`:void 0);const Z=(0,s.A)({},p,{toolbar:(0,s.A)({},null==p?void 0:p.toolbar,{titleId:M}),popper:(0,s.A)({"aria-labelledby":J},null==p?void 0:p.popper)});return{renderPicker:()=>(0,N.jsxs)(Oc,{localeText:A,children:[(0,N.jsx)(G,(0,s.A)({},Y,{slots:X,slotProps:Z,inputRef:Q})),(0,N.jsx)(_h,(0,s.A)({role:"dialog",placement:"bottom-start",anchorEl:D.current},P,{open:I,slots:d,slotProps:Z,shouldRestoreFocus:F,reduceAnimations:_,children:(0,N.jsx)(q,(0,s.A)({},R,null==Z?void 0:Z.layout,{slots:d,slotProps:Z,children:$()}))}))]})}})({props:p,valueManager:Mc,valueType:"date",getOpenDialogAriaText:null!=(a=null==(l=p.localeText)?void 0:l.openDatePickerDialogue)?a:u.openDatePickerDialogue,validator:eh});return f()});function xf(e){return h("MuiDialogContent",e)}yf.propTypes={autoFocus:Yu().bool,className:Yu().string,closeOnSelect:Yu().bool,components:Yu().object,componentsProps:Yu().object,dayOfWeekFormatter:Yu().func,defaultCalendarMonth:Yu().any,defaultValue:Yu().any,disabled:Yu().bool,disableFuture:Yu().bool,disableHighlightToday:Yu().bool,disableOpenPicker:Yu().bool,disablePast:Yu().bool,displayWeekNumber:Yu().bool,fixedWeekNumber:Yu().number,format:Yu().string,formatDensity:Yu().oneOf(["dense","spacious"]),inputRef:qu,label:Yu().node,loading:Yu().bool,localeText:Yu().object,maxDate:Yu().any,minDate:Yu().any,monthsPerRow:Yu().oneOf([3,4]),name:Yu().string,onAccept:Yu().func,onChange:Yu().func,onClose:Yu().func,onError:Yu().func,onMonthChange:Yu().func,onOpen:Yu().func,onSelectedSectionsChange:Yu().func,onViewChange:Yu().func,onYearChange:Yu().func,open:Yu().bool,openTo:Yu().oneOf(["day","month","year"]),orientation:Yu().oneOf(["landscape","portrait"]),readOnly:Yu().bool,reduceAnimations:Yu().bool,referenceDate:Yu().any,renderLoading:Yu().func,selectedSections:Yu().oneOfType([Yu().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),Yu().number,Yu().shape({endIndex:Yu().number.isRequired,startIndex:Yu().number.isRequired})]),shouldDisableDate:Yu().func,shouldDisableMonth:Yu().func,shouldDisableYear:Yu().func,showDaysOutsideCurrentMonth:Yu().bool,slotProps:Yu().object,slots:Yu().object,sx:Yu().oneOfType([Yu().arrayOf(Yu().oneOfType([Yu().func,Yu().object,Yu().bool])),Yu().func,Yu().object]),timezone:Yu().string,value:Yu().any,view:Yu().oneOf(["day","month","year"]),viewRenderers:Yu().shape({day:Yu().func,month:Yu().func,year:Yu().func}),views:Yu().arrayOf(Yu().oneOf(["day","month","year"]).isRequired),yearsPerRow:Yu().oneOf([3,4])};Ne("MuiDialogContent",["root","dividers"]);const bf=Ne("MuiDialogTitle",["root"]),vf=["className","dividers"],wf=Ce("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${bf.root} + &`]:{paddingTop:0}})}),Sf=e.forwardRef(function(e,t){const n=Ie({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,l=(0,i.A)(n,vf),u=(0,s.A)({},n,{dividers:o}),c=(e=>{const{classes:t,dividers:n}=e;return d({root:["root",n&&"dividers"]},xf,t)})(u);return(0,N.jsx)(wf,(0,s.A)({className:a(c.root,r),ownerState:u,ref:t},l))});function kf(e){return h("MuiDialog",e)}const Tf=Ne("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Af=e.createContext({}),_f=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ef=Ce(Qi,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Cf=Ce(hs,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Df=Ce("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${B(n.scroll)}`]]}})(e=>{let{ownerState:t}=e;return(0,s.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),Mf=Ce(ht,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${B(n.scroll)}`],t[`paperWidth${B(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(e=>{let{theme:t,ownerState:n}=e;return(0,s.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Tf.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`,[`&.${Tf.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Tf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})}),Lf=e.forwardRef(function(t,n){const r=Ie({props:t,name:"MuiDialog"}),o=Xn(),l={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":c,BackdropComponent:h,BackdropProps:p,children:f,className:m,disableEscapeKeyDown:g=!1,fullScreen:y=!1,fullWidth:x=!1,maxWidth:b="sm",onBackdropClick:v,onClick:w,onClose:S,open:k,PaperComponent:T=ht,PaperProps:A={},scroll:_="paper",TransitionComponent:E=Gi,transitionDuration:C=l,TransitionProps:D}=r,M=(0,i.A)(r,_f),L=(0,s.A)({},r,{disableEscapeKeyDown:g,fullScreen:y,fullWidth:x,maxWidth:b,scroll:_}),I=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e;return d({root:["root"],container:["container",`scroll${B(n)}`],paper:["paper",`paperScroll${B(n)}`,`paperWidth${B(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]},kf,t)})(L),P=e.useRef(),O=ci(c),R=e.useMemo(()=>({titleId:O}),[O]);return(0,N.jsx)(Cf,(0,s.A)({className:a(I.root,m),closeAfterTransition:!0,components:{Backdrop:Ef},componentsProps:{backdrop:(0,s.A)({transitionDuration:C,as:h},p)},disableEscapeKeyDown:g,onClose:S,open:k,ref:n,onClick:e=>{w&&w(e),P.current&&(P.current=null,v&&v(e),S&&S(e,"backdropClick"))},ownerState:L},M,{children:(0,N.jsx)(E,(0,s.A)({appear:!0,in:k,timeout:C,role:"presentation"},D,{children:(0,N.jsx)(Df,{className:a(I.container),onMouseDown:e=>{P.current=e.target===e.currentTarget},ownerState:L,children:(0,N.jsx)(Mf,(0,s.A)({as:T,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":O},A,{className:a(I.paper,A.className),ownerState:L,children:(0,N.jsx)(Af.Provider,{value:R,children:f})}))})}))}))}),If=Ce(Lf)({[`& .${Tf.container}`]:{outline:0},[`& .${Tf.paper}`]:{outline:0,minWidth:id}}),Pf=Ce(Sf)({"&:first-of-type":{padding:0}});function Of(e){var t,n;const{children:r,onDismiss:i,open:o,slots:a,slotProps:l}=e,u=null!=(t=null==a?void 0:a.dialog)?t:If,c=null!=(n=null==a?void 0:a.mobileTransition)?n:Gi;return(0,N.jsx)(u,(0,s.A)({open:o,onClose:i},null==l?void 0:l.dialog,{TransitionComponent:c,TransitionProps:null==l?void 0:l.mobileTransition,PaperComponent:null==a?void 0:a.mobilePaper,PaperProps:null==l?void 0:l.mobilePaper,children:(0,N.jsx)(Pf,{children:r})}))}const Rf=["props","getOpenDialogAriaText"],$f=e.forwardRef(function(t,n){var r,o,a;const l=jc(),u=zc(),c=Zc(t,"MuiMobileDatePicker"),h=(0,s.A)({day:gf,month:gf,year:gf},c.viewRenderers),d=(0,s.A)({},c,{viewRenderers:h,format:sc(u,c,!1),slots:(0,s.A)({field:$d},c.slots),slotProps:(0,s.A)({},c.slotProps,{field:e=>{var t;return(0,s.A)({},Xu(null==(t=c.slotProps)?void 0:t.field,e),Dd(c),{ref:n})},toolbar:(0,s.A)({hidden:!1},null==(r=c.slotProps)?void 0:r.toolbar)})}),{renderPicker:p}=(t=>{var n,r,o;let{props:a,getOpenDialogAriaText:l}=t,u=(0,i.A)(t,Rf);const{slots:c,slotProps:h,className:d,sx:p,format:f,formatDensity:m,timezone:g,name:y,label:x,inputRef:b,readOnly:v,disabled:w,localeText:S}=a,k=zc(),T=e.useRef(null),A=ci(),_=null!=(n=null==h||null==(r=h.toolbar)?void 0:r.hidden)&&n,{open:E,actions:C,layoutProps:D,renderCurrentView:M,fieldProps:L}=$h((0,s.A)({},u,{props:a,inputRef:T,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),I=c.field,P=ah({elementType:I,externalSlotProps:null==h?void 0:h.field,additionalProps:(0,s.A)({},L,_&&{id:A},!(w||v)&&{onClick:C.onOpen,onKeyDown:(O=C.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(O(e),e.preventDefault(),e.stopPropagation()),R&&R(e)})},{readOnly:null==v||v,disabled:w,className:d,sx:p,format:f,formatDensity:m,timezone:g,label:x,name:y}),ownerState:a});var O,R;P.inputProps=(0,s.A)({},P.inputProps,{"aria-label":l(L.value,k)});const $=(0,s.A)({textField:c.textField},P.slots),F=null!=(o=c.layout)?o:hd,z=qe(T,P.inputRef,b);let V=A;_&&(V=x?`${A}-label`:void 0);const j=(0,s.A)({},h,{toolbar:(0,s.A)({},null==h?void 0:h.toolbar,{titleId:A}),mobilePaper:(0,s.A)({"aria-labelledby":V},null==h?void 0:h.mobilePaper)});return{renderPicker:()=>(0,N.jsxs)(Oc,{localeText:S,children:[(0,N.jsx)(I,(0,s.A)({},P,{slots:$,slotProps:j,inputRef:z})),(0,N.jsx)(Of,(0,s.A)({},C,{open:E,slots:c,slotProps:j,children:(0,N.jsx)(F,(0,s.A)({},D,null==j?void 0:j.layout,{slots:c,slotProps:j,children:M()}))}))]})}})({props:d,valueManager:Mc,valueType:"date",getOpenDialogAriaText:null!=(o=null==(a=d.localeText)?void 0:a.openDatePickerDialogue)?o:l.openDatePickerDialogue,validator:eh});return p()});$f.propTypes={autoFocus:Yu().bool,className:Yu().string,closeOnSelect:Yu().bool,components:Yu().object,componentsProps:Yu().object,dayOfWeekFormatter:Yu().func,defaultCalendarMonth:Yu().any,defaultValue:Yu().any,disabled:Yu().bool,disableFuture:Yu().bool,disableHighlightToday:Yu().bool,disableOpenPicker:Yu().bool,disablePast:Yu().bool,displayWeekNumber:Yu().bool,fixedWeekNumber:Yu().number,format:Yu().string,formatDensity:Yu().oneOf(["dense","spacious"]),inputRef:qu,label:Yu().node,loading:Yu().bool,localeText:Yu().object,maxDate:Yu().any,minDate:Yu().any,monthsPerRow:Yu().oneOf([3,4]),name:Yu().string,onAccept:Yu().func,onChange:Yu().func,onClose:Yu().func,onError:Yu().func,onMonthChange:Yu().func,onOpen:Yu().func,onSelectedSectionsChange:Yu().func,onViewChange:Yu().func,onYearChange:Yu().func,open:Yu().bool,openTo:Yu().oneOf(["day","month","year"]),orientation:Yu().oneOf(["landscape","portrait"]),readOnly:Yu().bool,reduceAnimations:Yu().bool,referenceDate:Yu().any,renderLoading:Yu().func,selectedSections:Yu().oneOfType([Yu().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),Yu().number,Yu().shape({endIndex:Yu().number.isRequired,startIndex:Yu().number.isRequired})]),shouldDisableDate:Yu().func,shouldDisableMonth:Yu().func,shouldDisableYear:Yu().func,showDaysOutsideCurrentMonth:Yu().bool,slotProps:Yu().object,slots:Yu().object,sx:Yu().oneOfType([Yu().arrayOf(Yu().oneOfType([Yu().func,Yu().object,Yu().bool])),Yu().func,Yu().object]),timezone:Yu().string,value:Yu().any,view:Yu().oneOf(["day","month","year"]),viewRenderers:Yu().shape({day:Yu().func,month:Yu().func,year:Yu().func}),views:Yu().arrayOf(Yu().oneOf(["day","month","year"]).isRequired),yearsPerRow:Yu().oneOf([3,4])};const Nf=["desktopModeMediaQuery"],Ff=e.forwardRef(function(e,t){const n=Hu({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:r=gh}=n,o=(0,i.A)(n,Nf);return Ku(r,{defaultMatches:!0})?(0,N.jsx)(yf,(0,s.A)({ref:t},o)):(0,N.jsx)($f,(0,s.A)({ref:t},o))});function zf(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Vf(e){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(e)}function jf(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Bf(e){jf(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Vf(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Wf(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function Uf(e,t){jf(2,arguments);var n=Bf(e).getTime(),r=zf(t);return new Date(n+r)}function Kf(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());return s.setMonth(n.getMonth()+r+1,0),i>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function Hf(e,t){return jf(2,arguments),Kf(e,12*zf(t))}function Gf(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Yf(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t),i=Gf(n,r),s=Math.abs(function(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return n.getFullYear()-r.getFullYear()}(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=Gf(n,r)===-i,a=i*(s-Number(o));return 0===a?0:a}function Xf(e){jf(1,arguments);var t=Bf(e);return t.setHours(23,59,59,999),t}function qf(e){jf(1,arguments);var t=Bf(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Qf(e,t){jf(2,arguments);var n,r=Bf(e),i=Bf(t),s=Gf(r,i),o=Math.abs(function(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(o<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var a=Gf(r,i)===-s;(function(e){jf(1,arguments);var t=Bf(e);return Xf(t).getTime()===qf(t).getTime()})(Bf(e))&&1===o&&1===Gf(e,i)&&(a=!1),n=s*(o-Number(a))}return 0===n?0:n}var Jf={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Zf(e){return e?Jf[e]:Jf.trunc}function em(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function tm(e){jf(1,arguments);var t=Bf(e);return t.setHours(0,0,0,0),t}function nm(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function rm(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t),i=nm(n,r),s=Math.abs(function(e,t){jf(2,arguments);var n=tm(e),r=tm(t),i=n.getTime()-em(n),s=r.getTime()-em(r);return Math.round((i-s)/864e5)}(n,r));n.setDate(n.getDate()-i*s);var o=i*(s-Number(nm(n,r)===-i));return 0===o?0:o}Math.pow(10,8);var im=6e4,sm=36e5;function om(e,t){return jf(2,arguments),Bf(e).getTime()-Bf(t).getTime()}var am={};function lm(){return am}function um(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=lm(),h=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Bf(e),p=d.getDay(),f=6+(p<h?-7:0)-(p-h);return d.setDate(d.getDate()+f),d.setHours(23,59,59,999),d}function cm(e){jf(1,arguments);var t=Bf(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function hm(e){if(jf(1,arguments),!function(e){return jf(1,arguments),e instanceof Date||"object"===Vf(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Bf(e);return!isNaN(Number(t))}function dm(e,t){return jf(2,arguments),Uf(e,-zf(t))}function pm(e){jf(1,arguments);var t=Bf(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function fm(e){jf(1,arguments);var t=Bf(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=pm(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=pm(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function mm(e){jf(1,arguments);var t=Bf(e),n=pm(t).getTime()-function(e){jf(1,arguments);var t=fm(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),pm(n)}(t).getTime();return Math.round(n/6048e5)+1}function gm(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=lm(),h=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Bf(e),p=d.getUTCDay(),f=(p<h?7:0)+p-h;return d.setUTCDate(d.getUTCDate()-f),d.setUTCHours(0,0,0,0),d}function ym(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=Bf(e),h=c.getUTCFullYear(),d=lm(),p=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(h+1,0,p),f.setUTCHours(0,0,0,0);var m=gm(f,t),g=new Date(0);g.setUTCFullYear(h,0,p),g.setUTCHours(0,0,0,0);var y=gm(g,t);return c.getTime()>=m.getTime()?h+1:c.getTime()>=y.getTime()?h:h-1}function xm(e,t){jf(1,arguments);var n=Bf(e),r=gm(n,t).getTime()-function(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=lm(),h=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),d=ym(e,t),p=new Date(0);return p.setUTCFullYear(d,0,h),p.setUTCHours(0,0,0,0),gm(p,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function bm(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const vm={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return bm("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):bm(n+1,2)},d:function(e,t){return bm(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return bm(e.getUTCHours()%12||12,t.length)},H:function(e,t){return bm(e.getUTCHours(),t.length)},m:function(e,t){return bm(e.getUTCMinutes(),t.length)},s:function(e,t){return bm(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return bm(Math.floor(r*Math.pow(10,n-3)),t.length)}};var wm="midnight",Sm="noon",km="morning",Tm="afternoon",Am="evening",_m="night",Em={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return vm.y(e,t)},Y:function(e,t,n,r){var i=ym(e,r),s=i>0?i:1-i;return"YY"===t?bm(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):bm(s,t.length)},R:function(e,t){return bm(fm(e),t.length)},u:function(e,t){return bm(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return bm(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return bm(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return vm.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return bm(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=xm(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):bm(i,t.length)},I:function(e,t,n){var r=mm(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):bm(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):vm.d(e,t)},D:function(e,t,n){var r=function(e){jf(1,arguments);var t=Bf(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):bm(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return bm(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return bm(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return bm(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?Sm:0===i?wm:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?Am:i>=12?Tm:i>=4?km:_m,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vm.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):vm.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):bm(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):bm(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):vm.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):vm.s(e,t)},S:function(e,t){return vm.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Dm(i);case"XXXX":case"XX":return Mm(i);default:return Mm(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Dm(i);case"xxxx":case"xx":return Mm(i);default:return Mm(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cm(i,":");default:return"GMT"+Mm(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cm(i,":");default:return"GMT"+Mm(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return bm(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return bm((r._originalDate||e).getTime(),t.length)}};function Cm(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(0===s)return n+String(i);var o=t||"";return n+String(i)+o+bm(s,2)}function Dm(e,t){return e%60===0?(e>0?"-":"+")+bm(Math.abs(e)/60,2):Mm(e,t)}function Mm(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+bm(Math.floor(i/60),2)+n+bm(i%60,2)}const Lm=Em;var Im=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Pm=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Om={p:Pm,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Im(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Im(i,t)).replace("{{time}}",Pm(s,t))}};const Rm=Om;var $m=["D","DD"],Nm=["YY","YYYY"];function Fm(e){return-1!==$m.indexOf(e)}function zm(e){return-1!==Nm.indexOf(e)}function Vm(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var jm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Bm=function(e,t,n){var r,i=jm[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wm(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Um={date:Wm({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Wm({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Wm({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Km={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Hm=function(e,t,n,r){return Km[e]};function Gm(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Ym={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Gm({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Gm({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Gm({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Gm({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Gm({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Xm(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o,a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(a)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(a)});return o=e.valueCallback?e.valueCallback(u):u,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}var qm,Qm={ordinalNumber:(qm={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(qm.matchPattern);if(!n)return null;var r=n[0],i=e.match(qm.parsePattern);if(!i)return null;var s=qm.valueCallback?qm.valueCallback(i[0]):i[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:e.slice(r.length)}}),era:Xm({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Xm({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Xm({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Xm({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Xm({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Jm={code:"en-US",formatDistance:Bm,formatLong:Um,formatRelative:Hm,localize:Ym,match:Qm,options:{weekStartsOn:0,firstWeekContainsDate:1}},Zm=Jm;var eg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ng=/^'([^]*?)'?$/,rg=/''/g,ig=/[a-zA-Z]/;function sg(e,t,n){var r,i,s,o,a,l,u,c,h,d,p,f,m,g,y,x,b,v;jf(2,arguments);var w=String(t),S=lm(),k=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:S.locale)&&void 0!==r?r:Zm,T=zf(null!==(s=null!==(o=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:S.firstWeekContainsDate)&&void 0!==o?o:null===(h=S.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=zf(null!==(p=null!==(f=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(x=y.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==f?f:null===(b=S.locale)||void 0===b||null===(v=b.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==p?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var _=Bf(e);if(!hm(_))throw new RangeError("Invalid time value");var E=dm(_,em(_)),C={firstWeekContainsDate:T,weekStartsOn:A,locale:k,_originalDate:_};return w.match(tg).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Rm[t])(e,k.formatLong):e}).join("").match(eg).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(ng);if(!t)return e;return t[1].replace(rg,"'")}(r);var s=Lm[i];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!zm(r)||Vm(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!Fm(r)||Vm(r,t,String(e)),s(E,r,k.localize,C);if(i.match(ig))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}function og(e){jf(1,arguments);var t=Bf(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function ag(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=lm(),h=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Bf(e),p=d.getDay(),f=(p<h?7:0)+p-h;return d.setDate(d.getDate()-f),d.setHours(0,0,0,0),d}function lg(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=lm(),h=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),d=function(e,t){var n,r,i,s,o,a,l,u;jf(1,arguments);var c=Bf(e),h=c.getFullYear(),d=lm(),p=zf(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(h+1,0,p),f.setHours(0,0,0,0);var m=ag(f,t),g=new Date(0);g.setFullYear(h,0,p),g.setHours(0,0,0,0);var y=ag(g,t);return c.getTime()>=m.getTime()?h+1:c.getTime()>=y.getTime()?h:h-1}(e,t),p=new Date(0);return p.setFullYear(d,0,h),p.setHours(0,0,0,0),ag(p,t)}function ug(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return n.getTime()>r.getTime()}function cg(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return n.getTime()<r.getTime()}function hg(e){jf(1,arguments);var t=Bf(e);return t.setMinutes(0,0,0),t}function dg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return dg(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dg(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function fg(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function mg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gg(e)}function yg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yg=function(){return!!e})()}function xg(e){var t=yg();return function(){var n,r=gg(e);if(t){var i=gg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==Vf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}(this,n)}}function bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vg(e){var t=function(e,t){if("object"!=Vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vf(t)?t:t+""}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vg(r.key),r)}}function Sg(e,t,n){return t&&wg(e.prototype,t),n&&wg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kg(e,t,n){return(t=vg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tg=function(){function e(){bg(this,e),kg(this,"priority",void 0),kg(this,"subPriority",0)}return Sg(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),Ag=function(e){mg(n,e);var t=xg(n);function n(e,r,i,s,o){var a;return bg(this,n),(a=t.call(this)).value=e,a.validateValue=r,a.setValue=i,a.priority=s,o&&(a.subPriority=o),a}return Sg(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(Tg),_g=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",10),kg(Lt(e),"subPriority",-1),e}return Sg(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(Tg),Eg=function(){function e(){bg(this,e),kg(this,"incompatibleTokens",void 0),kg(this,"priority",void 0),kg(this,"subPriority",void 0)}return Sg(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new Ag(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),Cg=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",140),kg(Lt(e),"incompatibleTokens",["R","u","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),Dg=/^(1[0-2]|0?\d)/,Mg=/^(3[0-1]|[0-2]?\d)/,Lg=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ig=/^(5[0-3]|[0-4]?\d)/,Pg=/^(2[0-3]|[0-1]?\d)/,Og=/^(2[0-4]|[0-1]?\d)/,Rg=/^(1[0-1]|0?\d)/,$g=/^(1[0-2]|0?\d)/,Ng=/^[0-5]?\d/,Fg=/^[0-5]?\d/,zg=/^\d/,Vg=/^\d{1,2}/,jg=/^\d{1,3}/,Bg=/^\d{1,4}/,Wg=/^-?\d+/,Ug=/^-?\d/,Kg=/^-?\d{1,2}/,Hg=/^-?\d{1,3}/,Gg=/^-?\d{1,4}/,Yg=/^([+-])(\d{2})(\d{2})?|Z/,Xg=/^([+-])(\d{2})(\d{2})|Z/,qg=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Qg=/^([+-])(\d{2}):(\d{2})|Z/,Jg=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Zg(e,t){return e?{value:t(e.value),rest:e.rest}:e}function ey(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ty(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*sm+s*im+1e3*o),rest:t.slice(n[0].length)}}function ny(e){return ey(Wg,e)}function ry(e,t){switch(e){case 1:return ey(zg,t);case 2:return ey(Vg,t);case 3:return ey(jg,t);case 4:return ey(Bg,t);default:return ey(new RegExp("^\\d{1,"+e+"}"),t)}}function iy(e,t){switch(e){case 1:return ey(Ug,t);case 2:return ey(Kg,t);case 3:return ey(Hg,t);case 4:return ey(Gg,t);default:return ey(new RegExp("^-?\\d{1,"+e+"}"),t)}}function sy(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function oy(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var s=i+50;n=e+100*Math.floor(s/100)-(e>=s%100?100:0)}return r?n:1-n}function ay(e){return e%400===0||e%4===0&&e%100!==0}var ly=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",130),kg(Lt(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return Zg(ry(4,e),r);case"yo":return Zg(n.ordinalNumber(e,{unit:"year"}),r);default:return Zg(ry(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=oy(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),uy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",130),kg(Lt(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return Zg(ry(4,e),r);case"Yo":return Zg(n.ordinalNumber(e,{unit:"year"}),r);default:return Zg(ry(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=ym(e,r);if(n.isTwoDigitYear){var s=oy(n.year,i);return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),gm(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),gm(e,r)}}]),n}(Eg),cy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",130),kg(Lt(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t){return iy("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),pm(r)}}]),n}(Eg),hy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",130),kg(Lt(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t){return iy("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),dy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",120),kg(Lt(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return ry(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),py=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",120),kg(Lt(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return ry(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),fy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),kg(Lt(e),"priority",110),e}return Sg(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return Zg(ey(Dg,e),r);case"MM":return Zg(ry(2,e),r);case"Mo":return Zg(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),my=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",110),kg(Lt(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return Zg(ey(Dg,e),r);case"LL":return Zg(ry(2,e),r);case"Lo":return Zg(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(Eg);var gy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",100),kg(Lt(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return ey(Ig,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return gm(function(e,t,n){jf(2,arguments);var r=Bf(e),i=zf(t),s=xm(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*s),r}(e,n,r),r)}}]),n}(Eg);var yy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",100),kg(Lt(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return ey(Ig,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return pm(function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t),i=mm(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(Eg),xy=[31,28,31,30,31,30,31,31,30,31,30,31],by=[31,29,31,30,31,30,31,31,30,31,30,31],vy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",90),kg(Lt(e),"subPriority",1),kg(Lt(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return ey(Mg,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){var n=ay(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=by[r]:t>=1&&t<=xy[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),wy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",90),kg(Lt(e),"subpriority",1),kg(Lt(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return ey(Lg,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return ay(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(Eg);function Sy(e,t,n){var r,i,s,o,a,l,u,c;jf(2,arguments);var h=lm(),d=zf(null!==(r=null!==(i=null!==(s=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:h.weekStartsOn)&&void 0!==i?i:null===(u=h.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Bf(e),f=zf(t),m=((f%7+7)%7<d?7:0)+f-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+m),p}var ky=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",90),kg(Lt(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Sy(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(Eg),Ty=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",90),kg(Lt(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Zg(ry(t.length,e),i);case"eo":return Zg(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Sy(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(Eg),Ay=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",90),kg(Lt(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Zg(ry(t.length,e),i);case"co":return Zg(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Sy(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(Eg);var _y=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",90),kg(Lt(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ry(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Zg(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Zg(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Zg(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Zg(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){jf(2,arguments);var n=zf(t);n%7===0&&(n-=7);var r=Bf(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(Eg),Ey=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",80),kg(Lt(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(sy(n),0,0,0),e}}]),n}(Eg),Cy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",80),kg(Lt(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(sy(n),0,0,0),e}}]),n}(Eg),Dy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",80),kg(Lt(e),"incompatibleTokens",["a","b","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(sy(n),0,0,0),e}}]),n}(Eg),My=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",70),kg(Lt(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return ey($g,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(Eg),Ly=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",70),kg(Lt(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return ey(Pg,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(Eg),Iy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",70),kg(Lt(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return ey(Rg,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(Eg),Py=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",70),kg(Lt(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return ey(Og,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(Eg),Oy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",60),kg(Lt(e),"incompatibleTokens",["t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return ey(Ng,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(Eg),Ry=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",50),kg(Lt(e),"incompatibleTokens",["t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return ey(Fg,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ry(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(Eg),$y=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",30),kg(Lt(e),"incompatibleTokens",["t","T"]),e}return Sg(n,[{key:"parse",value:function(e,t){return Zg(ry(t.length,e),function(e){return Math.floor(e*Math.pow(10,3-t.length))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(Eg),Ny=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",10),kg(Lt(e),"incompatibleTokens",["t","T","x"]),e}return Sg(n,[{key:"parse",value:function(e,t){switch(t){case"X":return ty(Yg,e);case"XX":return ty(Xg,e);case"XXXX":return ty(qg,e);case"XXXXX":return ty(Jg,e);default:return ty(Qg,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(Eg),Fy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",10),kg(Lt(e),"incompatibleTokens",["t","T","X"]),e}return Sg(n,[{key:"parse",value:function(e,t){switch(t){case"x":return ty(Yg,e);case"xx":return ty(Xg,e);case"xxxx":return ty(qg,e);case"xxxxx":return ty(Jg,e);default:return ty(Qg,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(Eg),zy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",40),kg(Lt(e),"incompatibleTokens","*"),e}return Sg(n,[{key:"parse",value:function(e){return ny(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(Eg),Vy=function(e){mg(n,e);var t=xg(n);function n(){var e;bg(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return kg(Lt(e=t.call.apply(t,[this].concat(i))),"priority",20),kg(Lt(e),"incompatibleTokens","*"),e}return Sg(n,[{key:"parse",value:function(e){return ny(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(Eg),jy={G:new Cg,y:new ly,Y:new uy,R:new cy,u:new hy,Q:new dy,q:new py,M:new fy,L:new my,w:new gy,I:new yy,d:new vy,D:new wy,E:new ky,e:new Ty,c:new Ay,i:new _y,a:new Ey,b:new Cy,B:new Dy,h:new My,H:new Ly,K:new Iy,k:new Py,m:new Oy,s:new Ry,S:new $y,X:new Ny,x:new Fy,t:new zy,T:new Vy},By=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uy=/^'([^]*?)'?$/,Ky=/''/g,Hy=/\S/,Gy=/[a-zA-Z]/;function Yy(e,t,n,r){var i,s,o,a,l,u,c,h,d,p,f,m,g,y,x,b,v,w;jf(3,arguments);var S=String(e),k=String(t),T=lm(),A=null!==(i=null!==(s=null===r||void 0===r?void 0:r.locale)&&void 0!==s?s:T.locale)&&void 0!==i?i:Zm;if(!A.match)throw new RangeError("locale must contain match property");var _=zf(null!==(o=null!==(a=null!==(l=null!==(u=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==u?u:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(h=c.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==l?l:T.firstWeekContainsDate)&&void 0!==a?a:null===(d=T.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==o?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=zf(null!==(f=null!==(m=null!==(g=null!==(y=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==y?y:null===r||void 0===r||null===(x=r.locale)||void 0===x||null===(b=x.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:T.weekStartsOn)&&void 0!==m?m:null===(v=T.locale)||void 0===v||null===(w=v.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===k)return""===S?Bf(n):new Date(NaN);var C,D={firstWeekContainsDate:_,weekStartsOn:E,locale:A},M=[new _g],L=k.match(Wy).map(function(e){var t=e[0];return t in Rm?(0,Rm[t])(e,A.formatLong):e}).join("").match(By),I=[],P=pg(L);try{var O=function(){var t=C.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!zm(t)||Vm(t,k,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!Fm(t)||Vm(t,k,e);var n=t[0],i=jy[n];if(i){var s=i.incompatibleTokens;if(Array.isArray(s)){var o=I.find(function(e){return s.includes(e.token)||e.token===n});if(o)throw new RangeError("The format string mustn't contain `".concat(o.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&I.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));I.push({token:n,fullToken:t});var a=i.run(S,t,A.match,D);if(!a)return{v:new Date(NaN)};M.push(a.setter),S=a.rest}else{if(n.match(Gy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(Uy)[1].replace(Ky,"'")),0!==S.indexOf(t))return{v:new Date(NaN)};S=S.slice(t.length)}};for(P.s();!(C=P.n()).done;){var R=O();if("object"===Vf(R))return R.v}}catch(U){P.e(U)}finally{P.f()}if(S.length>0&&Hy.test(S))return new Date(NaN);var $=M.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return M.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),N=Bf(n);if(isNaN(N.getTime()))return new Date(NaN);var F,z=dm(N,em(N)),V={},j=pg($);try{for(j.s();!(F=j.n()).done;){var B=F.value;if(!B.validate(z,D))return new Date(NaN);var W=B.set(z,V,D);Array.isArray(W)?(z=W[0],fg(V,W[1])):z=W}}catch(U){j.e(U)}finally{j.f()}return z}function Xy(e){jf(1,arguments);var t=Bf(e);return t.setDate(1),t.setHours(0,0,0,0),t}function qy(e){jf(1,arguments);var t=Bf(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Qy(e,t){var n;jf(1,arguments);var r=zf(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,s=function(e){var t,n={},r=e.split(Jy.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],Jy.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Jy.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var i=Jy.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(s.date){var o=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,r);i=function(e,t){if(null===t)return new Date(NaN);var n=e.match(Zy);if(!n)return new Date(NaN);var r=!!n[4],i=nx(n[1]),s=nx(n[2])-1,o=nx(n[3]),a=nx(n[4]),l=nx(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,s=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}(t,a,l):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(ix[t]||(sx(e)?29:28))}(t,s,o)&&function(e,t){return t>=1&&t<=(sx(e)?366:365)}(t,i)?(u.setUTCFullYear(t,s,Math.max(i,o)),u):new Date(NaN)}(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a,l=i.getTime(),u=0;if(s.time&&(u=function(e){var t=e.match(ex);if(!t)return NaN;var n=rx(t[1]),r=rx(t[2]),i=rx(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*sm+r*im+1e3*i}(s.time),isNaN(u)))return new Date(NaN);if(!s.timezone){var c=new Date(l+u),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return a=function(e){if("Z"===e)return 0;var t=e.match(tx);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*sm+i*im)}(s.timezone),isNaN(a)?new Date(NaN):new Date(l+u+a)}var Jy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zy=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nx(e){return e?parseInt(e):1}function rx(e){return e&&parseFloat(e.replace(",","."))||0}var ix=[31,null,31,30,31,30,31,31,30,31,30,31];function sx(e){return e%400===0||e%4===0&&e%100!==0}var ox=n(4894),ax=n.n(ox);const lx={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},ux={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class cx{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=lx,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=e=>"undefined"===typeof e?new Date:null===e?null:new Date(e),this.dateWithTimezone=e=>this.date(e),this.getTimezone=()=>"default",this.setTimezone=e=>e,this.toJsDate=e=>e,this.getCurrentLocaleCode=()=>{var e;return(null==(e=this.locale)?void 0:e.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>!this.locale||/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=e=>e.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,this.longFormatters[t])(e,this.locale.formatLong)}return e}).join(""),this.getFormatHelperText=e=>this.expandFormat(e).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=e=>null===e,this.formatNumber=e=>e,this.getMeridiemText=e=>"am"===e?"AM":"PM";const{locale:t,formats:n,longFormatters:r}=e;this.locale=t,this.formats=(0,s.A)({},ux,n),this.longFormatters=r}}class hx extends cx{constructor(){let{locale:e,formats:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({locale:null!=e?e:Jm,formats:t,longFormatters:ax()}),this.parseISO=e=>Qy(e),this.toISO=e=>function(e,t){var n,r;jf(1,arguments);var i=Bf(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),o=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",u="extended"===s?"-":"",c="extended"===s?":":"";if("time"!==o){var h=bm(i.getDate(),2),d=bm(i.getMonth()+1,2),p=bm(i.getFullYear(),4);a="".concat(p).concat(u).concat(d).concat(u).concat(h)}if("date"!==o){var f=i.getTimezoneOffset();if(0!==f){var m=Math.abs(f),g=bm(Math.floor(m/60),2),y=bm(m%60,2);l="".concat(f<0?"+":"-").concat(g,":").concat(y)}else l="Z";var x=""===a?"":"T",b=[bm(i.getHours(),2),bm(i.getMinutes(),2),bm(i.getSeconds(),2)].join(c);a="".concat(a).concat(x).concat(b).concat(l)}return a}(e,{format:"extended"}),this.parse=(e,t)=>""===e?null:Yy(e,t,new Date,{locale:this.locale}),this.isValid=e=>hm(this.date(e)),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>sg(e,t,{locale:this.locale}),this.getDiff=(e,t,n)=>{switch(n){case"years":return Yf(e,this.date(t));case"quarters":return function(e,t,n){jf(2,arguments);var r=Qf(e,t)/3;return Zf(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"months":return Qf(e,this.date(t));case"weeks":return function(e,t,n){jf(2,arguments);var r=rm(e,t)/7;return Zf(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"days":return rm(e,this.date(t));case"hours":return function(e,t,n){jf(2,arguments);var r=om(e,t)/sm;return Zf(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"minutes":return function(e,t,n){jf(2,arguments);var r=om(e,t)/im;return Zf(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"seconds":return function(e,t,n){jf(2,arguments);var r=om(e,t)/1e3;return Zf(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));default:return om(e,this.date(t))}},this.isEqual=(e,t)=>null===e&&null===t||function(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return n.getTime()===r.getTime()}(e,t),this.isSameYear=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return n.getFullYear()===r.getFullYear()}(e,t),this.isSameMonth=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=Bf(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t),this.isSameDay=(e,t)=>function(e,t){jf(2,arguments);var n=tm(e),r=tm(t);return n.getTime()===r.getTime()}(e,t),this.isSameHour=(e,t)=>function(e,t){jf(2,arguments);var n=hg(e),r=hg(t);return n.getTime()===r.getTime()}(e,t),this.isAfter=(e,t)=>ug(e,t),this.isAfterYear=(e,t)=>ug(e,cm(t)),this.isAfterDay=(e,t)=>ug(e,Xf(t)),this.isBefore=(e,t)=>cg(e,t),this.isBeforeYear=(e,t)=>cg(e,qy(t)),this.isBeforeDay=(e,t)=>cg(e,tm(t)),this.isWithinRange=(e,t)=>{let[n,r]=t;return function(e,t){jf(2,arguments);var n=Bf(e).getTime(),r=Bf(t.start).getTime(),i=Bf(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}(e,{start:n,end:r})},this.startOfYear=e=>qy(e),this.startOfMonth=e=>Xy(e),this.startOfWeek=e=>ag(e,{locale:this.locale}),this.startOfDay=e=>tm(e),this.endOfYear=e=>cm(e),this.endOfMonth=e=>qf(e),this.endOfWeek=e=>um(e,{locale:this.locale}),this.endOfDay=e=>Xf(e),this.addYears=(e,t)=>Hf(e,t),this.addMonths=(e,t)=>Kf(e,t),this.addWeeks=(e,t)=>function(e,t){return jf(2,arguments),Wf(e,7*zf(t))}(e,t),this.addDays=(e,t)=>Wf(e,t),this.addHours=(e,t)=>function(e,t){return jf(2,arguments),Uf(e,36e5*zf(t))}(e,t),this.addMinutes=(e,t)=>function(e,t){return jf(2,arguments),Uf(e,6e4*zf(t))}(e,t),this.addSeconds=(e,t)=>function(e,t){return jf(2,arguments),Uf(e,1e3*zf(t))}(e,t),this.getYear=e=>function(e){return jf(1,arguments),Bf(e).getFullYear()}(e),this.getMonth=e=>function(e){return jf(1,arguments),Bf(e).getMonth()}(e),this.getDate=e=>function(e){return jf(1,arguments),Bf(e).getDate()}(e),this.getHours=e=>function(e){return jf(1,arguments),Bf(e).getHours()}(e),this.getMinutes=e=>function(e){return jf(1,arguments),Bf(e).getMinutes()}(e),this.getSeconds=e=>function(e){return jf(1,arguments),Bf(e).getSeconds()}(e),this.getMilliseconds=e=>function(e){return jf(1,arguments),Bf(e).getMilliseconds()}(e),this.setYear=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}(e,t),this.setMonth=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=og(o);return n.setMonth(r,Math.min(s,a)),n}(e,t),this.setDate=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return n.setDate(r),n}(e,t),this.setHours=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return n.setHours(r),n}(e,t),this.setMinutes=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return n.setMinutes(r),n}(e,t),this.setSeconds=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return n.setSeconds(r),n}(e,t),this.setMilliseconds=(e,t)=>function(e,t){jf(2,arguments);var n=Bf(e),r=zf(t);return n.setMilliseconds(r),n}(e,t),this.getDaysInMonth=e=>og(e),this.getNextMonth=e=>Kf(e,1),this.getPreviousMonth=e=>Kf(e,-1),this.getMonthArray=e=>{const t=[qy(e)];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.mergeDateAndTime=(e,t)=>this.setSeconds(this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t)),this.getSeconds(t)),this.getWeekdays=()=>{const e=new Date;return function(e,t){var n;jf(1,arguments);var r=e||{},i=Bf(r.start),s=Bf(r.end).getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var o=[],a=i;a.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;a.getTime()<=s;)o.push(Bf(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return o}({start:ag(e,{locale:this.locale}),end:um(e,{locale:this.locale})}).map(e=>this.formatByString(e,"EEEEEE"))},this.getWeekArray=e=>{const t=ag(Xy(e),{locale:this.locale}),n=um(qf(e),{locale:this.locale});let r=0,i=t;const s=[];for(;cg(i,n);){const e=Math.floor(r/7);s[e]=s[e]||[],s[e].push(i),i=Wf(i,1),r+=1}return s},this.getWeekNumber=e=>function(e,t){jf(1,arguments);var n=Bf(e),r=ag(n,t).getTime()-lg(n,t).getTime();return Math.round(r/6048e5)+1}(e,{locale:this.locale}),this.getYearRange=(e,t)=>{const n=qy(e),r=cm(t),i=[];let s=n;for(;cg(s,r);)i.push(s),s=Hf(s,1);return i}}}var dx=n(691);class px{constructor(){this.network=new dx.NeuralNetwork({hiddenLayers:[3,3],activation:"sigmoid",learningRate:.3,iterations:2e3,log:!0,logPeriod:100})}normalizeData(e){const t=e.map(e=>e.price),n=Math.min(...t),r=Math.max(...t);return{normalized:e.map(e=>({...e,normalizedPrice:(e.price-n)/(r-n)})),min:n,max:r}}denormalizePrice(e,t,n){return e*(n-t)+t}createTrainingData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const n=[];for(let r=0;r<e.length-t;r++){const i=e.slice(r,r+t).map(e=>e.normalizedPrice),s=[e[r+t].normalizedPrice];n.push({input:i,output:s})}return n}async train(e){const{normalized:t,min:n,max:r}=this.normalizeData(e),i=this.createTrainingData(t);if(0===i.length)throw new Error("Insufficient data for training. Please provide at least 50 data points as required by the assignment.");console.log("Training neural network...");const s=this.network.train(i);return console.log("Training completed:",s),{min:n,max:r,normalized:t}}async predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!e||e.length<50)throw new Error("Please provide at least 50 historical data points as required by the assignment.");const{min:n,max:r,normalized:i}=await this.train(e),s=[];let o=i.slice(-5).map(e=>e.normalizedPrice);for(let a=0;a<t;a++){const t=this.network.run(o),i=this.denormalizePrice(t[0],n,r),l=new Date(e[e.length-1].date),u=new Date(l);u.setDate(l.getDate()+a+1),s.push({date:u.toISOString().split("T")[0],price:Math.round(100*i)/100,confidence:this.calculateConfidence(t[0])}),o=[...o.slice(1),t[0]]}return s}calculateConfidence(e){const t=.3*Math.abs(e-.5);return Math.round(100*(.7+t))}generateSampleData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AMZN",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;const n=[];let r={AMZN:150,GOOGL:140,CRM:250,MSFT:390,NVDA:900}[e]||150;const i={AMZN:8,GOOGL:7,CRM:12,MSFT:6,NVDA:25}[e]||8;let s=.02*(Math.random()-.5);for(let o=0;o<t;o++){const a=new Date;a.setDate(a.getDate()-(t-o));const l=(Math.random()-.5)*i,u=s*r*.01,c=1===a.getDay()?2:5===a.getDay()?-1:0;r=Math.max(50,r+l+u+c),Math.random()<.05&&(r*=Math.random()<.5?.95:1.05),n.push({date:a.toISOString().split("T")[0],price:Math.round(100*r)/100,symbol:e,volume:Math.floor(1e6+5e6*Math.random())})}return n}parseCSVData(e){const t=e.trim().split("\n"),n=t[0].split(",").map(e=>e.trim().toLowerCase()),r=[];for(let i=1;i<t.length;i++){const e=t[i].split(","),s={};n.forEach((t,n)=>{var r;s[t]=null===(r=e[n])||void 0===r?void 0:r.trim()}),s.date&&s.price&&r.push({date:s.date,price:parseFloat(s.price),symbol:s.symbol||"UNKNOWN",volume:s.volume?parseInt(s.volume):void 0})}return r}parseJSONData(e){try{const t=JSON.parse(e);return Array.isArray(t)?t.map(e=>({date:e.date,price:parseFloat(e.price),symbol:e.symbol||"UNKNOWN",volume:e.volume?parseInt(e.volume):void 0})):[]}catch(t){throw new Error("Invalid JSON format")}}}const fx=t=>{let{onSubmit:n,loading:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)({date:new Date,price:"",symbol:""}),[l,u]=(0,e.useState)({}),c=[{value:"AMZN",label:"Amazon (AMZN)"},{value:"GOOGL",label:"Google (GOOGL)"},{value:"CRM",label:"Salesforce (CRM)"},{value:"MSFT",label:"Microsoft (MSFT)"},{value:"NVDA",label:"Nvidia (NVDA)"}];return(0,N.jsx)(Oc,{dateAdapter:hx,children:(0,N.jsxs)(je,{children:[(0,N.jsxs)(Ye,{variant:"h5",gutterBottom:!0,children:[(0,N.jsx)(zr,{sx:{mr:1,verticalAlign:"middle"}}),"Stock Data Input"]}),(0,N.jsx)(Ye,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Enter historical stock prices or generate sample data to train the prediction model."}),l.general&&(0,N.jsx)(On,{severity:"error",sx:{mb:2},children:l.general}),(0,N.jsx)(ht,{variant:"outlined",sx:{p:2,mb:3},children:(0,N.jsxs)(yr,{container:!0,spacing:2,alignItems:"center",children:[(0,N.jsx)(yr,{item:!0,xs:12,sm:3,children:(0,N.jsxs)(Yr,{fullWidth:!0,size:"small",error:!!l.symbol,children:[(0,N.jsx)(ai,{children:"Symbol"}),(0,N.jsx)(na,{value:o.symbol,label:"Symbol",onChange:e=>a({...o,symbol:e.target.value}),children:c.map(e=>(0,N.jsx)(ca,{value:e.value,children:e.label},e.value))}),l.symbol&&(0,N.jsx)(Ye,{variant:"caption",color:"error",sx:{mt:.5},children:l.symbol})]})}),(0,N.jsx)(yr,{item:!0,xs:12,sm:3,children:(0,N.jsx)(Ff,{label:"Date",value:o.date,onChange:e=>a({...o,date:e}),slotProps:{textField:{size:"small",error:!!l.date,helperText:l.date,fullWidth:!0}}})}),(0,N.jsx)(yr,{item:!0,xs:12,sm:3,children:(0,N.jsx)(Sa,{label:"Price ($)",type:"number",value:o.price,onChange:e=>a({...o,price:e.target.value}),error:!!l.price,helperText:l.price,size:"small",fullWidth:!0})}),(0,N.jsx)(yr,{item:!0,xs:12,sm:3,children:(0,N.jsxs)(La,{direction:"row",spacing:1,children:[(0,N.jsx)(Ba,{variant:"contained",onClick:()=>{const e={};if(o.date||(e.date="Date is required"),(!o.price||isNaN(o.price)||parseFloat(o.price)<=0)&&(e.price="Valid price is required"),o.symbol||(e.symbol="Please select a symbol"),Object.keys(e).length>0)return void u(e);const t=o.date.toISOString().split("T")[0];if(i.some(e=>e.date===t))return void u({date:"Date already exists"});const n={date:t,price:parseFloat(o.price),symbol:o.symbol};s([...i,n].sort((e,t)=>new Date(e.date)-new Date(t.date))),a({date:new Date,price:"",symbol:o.symbol}),u({})},startIcon:(0,N.jsx)(zu,{}),size:"small",disabled:r,children:"Add"}),(0,N.jsx)(Du,{title:"Generate sample data",children:(0,N.jsx)(mn,{onClick:()=>{const e=new px,t=o.symbol||c[0].value,n=e.generateSampleData(t,60);s(n)},color:"primary",disabled:r,children:(0,N.jsx)(Vu,{})})})]})})]})}),(0,N.jsxs)(je,{sx:{mb:3},children:[(0,N.jsxs)(Ye,{variant:"h6",gutterBottom:!0,children:["Historical Data (",i.length," entries)"]}),0===i.length?(0,N.jsx)(On,{severity:"info",children:"No data entries yet. Add some historical stock prices or generate sample data."}):(0,N.jsx)(je,{sx:{maxHeight:300,overflowY:"auto"},children:(0,N.jsx)(La,{spacing:1,children:i.map((e,t)=>(0,N.jsx)(ht,{variant:"outlined",sx:{p:1},children:(0,N.jsxs)(La,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,N.jsxs)(je,{children:[(0,N.jsx)(Fu,{label:e.symbol,size:"small",sx:{mr:1}}),(0,N.jsxs)(Ye,{variant:"body2",component:"span",children:[e.date," - $",e.price]})]}),(0,N.jsx)(mn,{size:"small",onClick:()=>(e=>{s(i.filter((t,n)=>n!==e))})(t),disabled:r,children:(0,N.jsx)(ju,{})})]})},t))})})]}),(0,N.jsx)(Ba,{variant:"contained",size:"large",onClick:()=>{i.length<6?u({general:"Please provide at least 6 data points for prediction"}):(u({}),n(i))},disabled:r||i.length<6,fullWidth:!0,sx:{mt:2},children:r?"Training Model...":"Train & Predict"})]})})},mx=wn((0,N.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline");function gx(e){return e+.5|0}const yx=(e,t,n)=>Math.max(Math.min(e,n),t);function xx(e){return yx(gx(2.55*e),0,255)}function bx(e){return yx(gx(255*e),0,255)}function vx(e){return yx(gx(e/2.55)/100,0,1)}function wx(e){return yx(gx(100*e),0,100)}const Sx={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kx=[..."0123456789ABCDEF"],Tx=e=>kx[15&e],Ax=e=>kx[(240&e)>>4]+kx[15&e],_x=e=>(240&e)>>4===(15&e);function Ex(e){var t=(e=>_x(e.r)&&_x(e.g)&&_x(e.b)&&_x(e.a))(e)?Tx:Ax;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Cx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dx(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Mx(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Lx(e,t,n){const r=Dx(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Ix(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=(i+s)/2;let a,l,u;return i!==s&&(u=i-s,l=o>.5?u/(2-i-s):u/(i+s),a=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,u,i),a=60*a+.5),[0|a,l||0,o]}function Px(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(bx)}function Ox(e,t,n){return Px(Dx,e,t,n)}function Rx(e){return(e%360+360)%360}function $x(e){const t=Cx.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?xx(+t[5]):bx(+t[5]));const i=Rx(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Px(Lx,e,t,n)}(i,s,o):"hsv"===t[1]?function(e,t,n){return Px(Mx,e,t,n)}(i,s,o):Ox(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const Nx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let zx;function Vx(e){zx||(zx=function(){const e={},t=Object.keys(Fx),n=Object.keys(Nx);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Nx[s]);s=parseInt(Fx[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),zx.transparent=[0,0,0,0]);const t=zx[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const jx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Bx=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Wx=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ux(e,t,n){if(e){let r=Ix(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Ox(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Kx(e,t){return e?Object.assign(t||{},e):e}function Hx(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=bx(e[3]))):(t=Kx(e,{r:0,g:0,b:0,a:1})).a=bx(t.a),t}function Gx(e){return"r"===e.charAt(0)?function(e){const t=jx.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?xx(e):yx(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?xx(n):yx(n,0,255)),r=255&(t[4]?xx(r):yx(r,0,255)),i=255&(t[6]?xx(i):yx(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):$x(e)}class Yx{constructor(e){if(e instanceof Yx)return e;const t=typeof e;let n;"object"===t?n=Hx(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Sx[e[1]],g:255&17*Sx[e[2]],b:255&17*Sx[e[3]],a:5===n?17*Sx[e[4]]:255}:7!==n&&9!==n||(t={r:Sx[e[1]]<<4|Sx[e[2]],g:Sx[e[3]]<<4|Sx[e[4]],b:Sx[e[5]]<<4|Sx[e[6]],a:9===n?Sx[e[7]]<<4|Sx[e[8]]:255})),t}(e)||Vx(e)||Gx(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Kx(this._rgb);return e&&(e.a=vx(e.a)),e}set rgb(e){this._rgb=Hx(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vx(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Ex(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ix(e),n=t[0],r=wx(t[1]),i=wx(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${vx(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,o=2*s-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Wx(vx(e.r)),i=Wx(vx(e.g)),s=Wx(vx(e.b));return{r:bx(Bx(r+n*(Wx(vx(t.r))-r))),g:bx(Bx(i+n*(Wx(vx(t.g))-i))),b:bx(Bx(s+n*(Wx(vx(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Yx(this.rgb)}alpha(e){return this._rgb.a=bx(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=gx(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ux(this._rgb,2,e),this}darken(e){return Ux(this._rgb,2,-e),this}saturate(e){return Ux(this._rgb,1,e),this}desaturate(e){return Ux(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Ix(e);n[0]=Rx(n[0]+t),n=Ox(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Xx(){}const qx=(()=>{let e=0;return()=>e++})();function Qx(e){return null===e||void 0===e}function Jx(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Zx(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function eb(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function tb(e,t){return eb(e)?e:t}function nb(e,t){return"undefined"===typeof e?t:e}const rb=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ib(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function sb(e,t,n,r){let i,s,o;if(Jx(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(Zx(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function ob(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ab(e){if(Jx(e))return e.map(ab);if(Zx(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=ab(e[n[i]]);return t}return e}function lb(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ub(e,t,n,r){if(!lb(e))return;const i=t[e],s=n[e];Zx(i)&&Zx(s)?cb(i,s,r):t[e]=ab(s)}function cb(e,t,n){const r=Jx(t)?t:[t],i=r.length;if(!Zx(e))return e;const s=(n=n||{}).merger||ub;let o;for(let a=0;a<i;++a){if(o=r[a],!Zx(o))continue;const t=Object.keys(o);for(let r=0,i=t.length;r<i;++r)s(t[r],e,o,n)}return e}function hb(e,t){return cb(e,t,{merger:db})}function db(e,t,n){if(!lb(e))return;const r=t[e],i=n[e];Zx(r)&&Zx(i)?hb(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ab(i))}const pb={"":e=>e,x:e=>e.x,y:e=>e.y};function fb(e,t){const n=pb[t]||(pb[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function mb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const gb=e=>"undefined"!==typeof e,yb=e=>"function"===typeof e,xb=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const bb=Math.PI,vb=2*bb,wb=vb+bb,Sb=Number.POSITIVE_INFINITY,kb=bb/180,Tb=bb/2,Ab=bb/4,_b=2*bb/3,Eb=Math.log10,Cb=Math.sign;function Db(e,t,n){return Math.abs(e-t)<n}function Mb(e){const t=Math.round(e);e=Db(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Eb(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Lb(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Ib(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Pb(e){return e*(bb/180)}function Ob(e){return e*(180/bb)}function Rb(e){if(!eb(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function $b(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*bb&&(s+=vb),{angle:s,distance:i}}function Nb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Fb(e,t){return(e-t+wb)%vb-bb}function zb(e){return(e%vb+vb)%vb}function Vb(e,t,n,r){const i=zb(e),s=zb(t),o=zb(n),a=zb(s-i),l=zb(o-i),u=zb(i-s),c=zb(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function jb(e,t,n){return Math.max(t,Math.min(n,e))}function Bb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Wb(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Ub=(e,t,n,r)=>Wb(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Kb=(e,t,n)=>Wb(e,n,r=>e[r][t]>=n);const Hb=["push","pop","shift","splice","unshift"];function Gb(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Hb.forEach(t=>{delete e[t]}),delete e._chartjs)}function Yb(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Xb="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function qb(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,Xb.call(window,()=>{r=!1,e.apply(t,n)}))}}const Qb=e=>"start"===e?"left":"end"===e?"right":"center",Jb=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Zb(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=o.axis,{min:h,max:d,minDefined:p,maxDefined:f}=o.getUserBounds();if(p){if(i=Math.min(Ub(l,c,h).lo,n?r:Ub(t,c,o.getPixelForValue(h)).lo),u){const e=l.slice(0,i+1).reverse().findIndex(e=>!Qx(e[a.axis]));i-=Math.max(0,e)}i=jb(i,0,r-1)}if(f){let e=Math.max(Ub(l,o.axis,d,!0).hi+1,n?0:Ub(t,c,o.getPixelForValue(d),!0).hi+1);if(u){const t=l.slice(e-1).findIndex(e=>!Qx(e[a.axis]));e+=Math.max(0,t)}s=jb(e,i,r)-i}else s=r-i}return{start:i,count:s}}function ev(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const tv=e=>0===e||1===e,nv=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*vb/n),rv=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*vb/n)+1,iv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Tb),easeOutSine:e=>Math.sin(e*Tb),easeInOutSine:e=>-.5*(Math.cos(bb*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>tv(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>tv(e)?e:nv(e,.075,.3),easeOutElastic:e=>tv(e)?e:rv(e,.075,.3),easeInOutElastic(e){const t=.1125;return tv(e)?e:e<.5?.5*nv(2*e,t,.45):.5+.5*rv(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-iv.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*iv.easeInBounce(2*e):.5*iv.easeOutBounce(2*e-1)+.5};function sv(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ov(e){return sv(e)?e:new Yx(e)}function av(e){return sv(e)?e:new Yx(e).saturate(.5).darken(.1).hexString()}const lv=["x","y","borderWidth","radius","tension"],uv=["color","borderColor","backgroundColor"];const cv=new Map;function hv(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=cv.get(n);return r||(r=new Intl.NumberFormat(e,t),cv.set(n,r)),r}(t,n).format(e)}const dv={values:e=>Jx(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=Eb(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),hv(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Eb(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?dv.numeric.call(this,e,t,n):""}};var pv={formatters:dv};const fv=Object.create(null),mv=Object.create(null);function gv(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function yv(e,t,n){return"string"===typeof t?cb(gv(e,t),n):cb(gv(e,""),t)}class xv{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>av(t.backgroundColor),this.hoverBorderColor=(e,t)=>av(t.borderColor),this.hoverColor=(e,t)=>av(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return yv(this,e,t)}get(e){return gv(this,e)}describe(e,t){return yv(mv,e,t)}override(e,t){return yv(fv,e,t)}route(e,t,n,r){const i=gv(this,e),s=gv(this,n),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[r];return Zx(e)?Object.assign({},t,e):nb(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach(e=>e(this))}}var bv=new xv({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:uv},numbers:{type:"number",properties:lv}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function vv(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function wv(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Sv(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function kv(e,t,n,r){Tv(e,t,n,r,null)}function Tv(e,t,n,r,i){let s,o,a,l,u,c,h,d;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*kb;if(p&&"object"===typeof p&&(s=p.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,r,i/2,m,0,0,vb):e.arc(n,r,m,0,vb),e.closePath();break;case"triangle":c=i?i/2:m,e.moveTo(n+Math.sin(g)*c,r-Math.cos(g)*m),g+=_b,e.lineTo(n+Math.sin(g)*c,r-Math.cos(g)*m),g+=_b,e.lineTo(n+Math.sin(g)*c,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":u=.516*m,l=m-u,o=Math.cos(g+Ab)*l,h=Math.cos(g+Ab)*(i?i/2-u:l),a=Math.sin(g+Ab)*l,d=Math.sin(g+Ab)*(i?i/2-u:l),e.arc(n-h,r-a,u,g-bb,g-Tb),e.arc(n+d,r-o,u,g-Tb,g),e.arc(n+h,r+a,u,g,g+Tb),e.arc(n-d,r+o,u,g+Tb,g+bb),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,c=i?i/2:l,e.rect(n-c,r-l,2*c,2*l);break}g+=Ab;case"rectRot":h=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+d,r-o),e.lineTo(n+h,r+a),e.lineTo(n-d,r+o),e.closePath();break;case"crossRot":g+=Ab;case"cross":h=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"star":h=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o),g+=Ab,h=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Av(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function _v(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ev(e){e.restore()}function Cv(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Dv(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Mv(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function Lv(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Iv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Jx(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,u;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Qx(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&Lv(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Qx(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,r,s.maxWidth)),e.fillText(u,n,r,s.maxWidth),Mv(e,n,r,u,s),r+=Number(i.lineHeight);e.restore()}function Pv(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*bb,bb,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,bb,Tb,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Tb,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Tb,!0),e.lineTo(n+o.topLeft,r)}const Ov=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Rv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $v(e,t){const n=(""+e).match(Ov);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Nv=e=>+e||0;function Fv(e,t){const n={},r=Zx(t),i=r?Object.keys(t):t,s=Zx(e)?r?n=>nb(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of i)n[o]=Nv(s(o));return n}function zv(e){return Fv(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Vv(e){return Fv(e,["topLeft","topRight","bottomLeft","bottomRight"])}function jv(e){const t=zv(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Bv(e,t){e=e||{},t=t||bv.font;let n=nb(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=nb(e.style,t.style);r&&!(""+r).match(Rv)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:nb(e.family,t.family),lineHeight:$v(nb(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:nb(e.weight,t.weight),string:""};return i.string=function(e){return!e||Qx(e.size)||Qx(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Wv(e,t,n,r){let i,s,o,a=!0;for(i=0,s=e.length;i<s;++i)if(o=e[i],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&Jx(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function Uv(e,t){return Object.assign(Object.create(e),t)}function Kv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=nw("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Kv([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>qv(n,r,()=>function(e,t,n,r){let i;for(const s of t)if(i=nw(Yv(s,e),n),"undefined"!==typeof i)return Xv(e,i)?ew(n,r,e,i):i}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>rw(e).includes(t),ownKeys:e=>rw(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Hv(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Gv(e,r),setContext:t=>Hv(e,t,n,r),override:i=>Hv(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>qv(e,t,()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];yb(a)&&o.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);a.delete(e),Xv(e,l)&&(l=ew(i._scopes,i,e,l));return l}(t,a,e,n));Jx(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(Zx(t[0])){const n=t,r=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=ew(r,i,e,l);t.push(Hv(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));Xv(t,a)&&(a=Hv(a,i,s&&s[t],o));return a}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Gv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:yb(n)?n:()=>n,isIndexable:yb(r)?r:()=>r}}const Yv=(e,t)=>e?e+mb(t):t,Xv=(e,t)=>Zx(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function qv(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function Qv(e,t,n){return yb(e)?e(t,n):e}const Jv=(e,t)=>!0===e?t:"string"===typeof e?fb(t,e):void 0;function Zv(e,t,n,r,i){for(const s of t){const t=Jv(n,s);if(t){e.add(t);const s=Qv(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function ew(e,t,n,r){const i=t._rootScopes,s=Qv(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=tw(a,o,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=tw(a,o,s,l,r),null!==l))&&Kv(Array.from(a),[""],i,s,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Jx(i)&&Zx(n))return n;return i||{}}(t,n,r)))}function tw(e,t,n,r,i){for(;n;)n=Zv(e,t,n,r,i);return n}function nw(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function rw(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const iw=Number.EPSILON||1e-14,sw=(e,t)=>t<e.length&&!e[t].skip&&e[t],ow=e=>"x"===e?"y":"x";function aw(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Nb(s,i),l=Nb(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=r*u,d=r*c;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function lw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=ow(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=sw(e,0);for(o=0;o<r;++o)if(a=l,l=u,u=sw(e,o+1),l){if(u){const e=u[t]-l[t];i[o]=0!==e?(u[n]-l[n])/e:0}s[o]=a?u?Cb(i[o-1])!==Cb(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(e,t,n){const r=e.length;let i,s,o,a,l,u=sw(e,0);for(let c=0;c<r-1;++c)l=u,u=sw(e,c+1),l&&u&&(Db(t[c],0,iw)?n[c]=n[c+1]=0:(i=n[c]/t[c],s=n[c+1]/t[c],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[c]=i*o*t[c],n[c+1]=s*o*t[c])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=ow(n),i=e.length;let s,o,a,l=sw(e,0);for(let u=0;u<i;++u){if(o=a,a=l,l=sw(e,u+1),!a)continue;const i=a[n],c=a[r];o&&(s=(i-o[n])/3,a[`cp1${n}`]=i-s,a[`cp1${r}`]=c-s*t[u]),l&&(s=(l[n]-i)/3,a[`cp2${n}`]=i+s,a[`cp2${r}`]=c+s*t[u])}}(e,s,t)}function uw(e,t,n){return Math.max(Math.min(e,n),t)}function cw(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)lw(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=aw(n,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,r,i,s,o,a=Av(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&Av(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=uw(i.cp1x,t.left,t.right),i.cp1y=uw(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=uw(i.cp2x,t.left,t.right),i.cp2y=uw(i.cp2y,t.top,t.bottom)))}(e,n)}function hw(){return"undefined"!==typeof window&&"undefined"!==typeof document}function dw(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function pw(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const fw=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const mw=["top","right","bottom","left"];function gw(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=mw[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function yw(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=fw(n),s="border-box"===i.boxSizing,o=gw(i,"padding"),a=gw(i,"border","width"),{x:l,y:u,box:c}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))o=i,a=s;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:p,height:f}=t;return s&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((u-d)/f*n.height/r)}}const xw=e=>Math.round(10*e)/10;function bw(e,t,n,r){const i=fw(e),s=gw(i,"margin"),o=pw(i.maxWidth,e,"clientWidth")||Sb,a=pw(i.maxHeight,e,"clientHeight")||Sb,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&dw(e);if(s){const e=s.getBoundingClientRect(),o=fw(s),a=gw(o,"border","width"),l=gw(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=pw(o.maxWidth,s,"clientWidth"),i=pw(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Sb,maxHeight:i||Sb}}(e,t,n);let{width:u,height:c}=l;if("content-box"===i.boxSizing){const e=gw(i,"border","width"),t=gw(i,"padding");u-=t.width+e.width,c-=t.height+e.height}u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=xw(Math.min(u,o,l.maxWidth)),c=xw(Math.min(c,a,l.maxHeight)),u&&!c&&(c=xw(u/2));return(void 0!==t||void 0!==n)&&r&&l.height&&c>l.height&&(c=l.height,u=xw(Math.floor(c*r))),{width:u,height:c}}function vw(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const ww=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};hw()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Sw(e,t){const n=function(e,t){return fw(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function kw(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Tw(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Aw(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=kw(e,i,n),a=kw(i,s,n),l=kw(s,t,n),u=kw(o,a,n),c=kw(a,l,n);return kw(u,c,n)}function _w(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Ew(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Cw(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Dw(e){return"angle"===e?{between:Vb,compare:Fb,normalize:zb}:{between:Bb,compare:(e,t)=>e-t,normalize:e=>e}}function Mw(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Lw(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=Dw(r),{start:c,end:h,loop:d,style:p}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=Dw(r),l=t.length;let u,c,{start:h,end:d,loop:p}=e;if(p){for(h+=l,d+=l,u=0,c=l;u<c&&o(a(t[h%l][r]),i,s);++u)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:p,style:e.style}}(e,t,n),f=[];let m,g,y,x=!1,b=null;const v=()=>x||l(i,y,m)&&0!==a(i,y),w=()=>!x||0===a(s,m)||l(s,y,m);for(let S=c,k=c;S<=h;++S)g=t[S%o],g.skip||(m=u(g[r]),m!==y&&(x=l(m,i,s),null===b&&v()&&(b=0===a(m,i)?S:k),null!==b&&w()&&(f.push(Mw({start:b,end:S,loop:d,count:o,style:p})),b=null),k=S,y=m));return null!==b&&f.push(Mw({start:b,end:h,loop:d,count:o,style:p})),f}function Iw(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Lw(r[i],e.points,t);s.length&&n.push(...s)}return n}function Pw(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=Ow(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let c=s,h=t[0].start,d=h;function p(e,t,r,i){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(u.push({start:e%l,end:t%l,loop:r,style:i}),c=i,h=t%l)}}for(const f of t){h=a?h:f.start;let e,t=n[h%l];for(d=h+1;d<=f.end;d++){const s=n[d%l];e=Ow(r.setContext(Uv(i,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Rw(e,c)&&p(h,d-1,f.loop,c),t=s,c=e}h<d-1&&p(h,d-1,f.loop,c)}return u}(e,t,n,r):t}function Ow(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Rw(e,t){if(!t)return!1;const n=[],r=function(e,t){return sv(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function $w(e,t,n){return e.options.clip?e[n]:t[n]}function Nw(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:$w(n,t,"left"),right:$w(n,t,"right"),top:$w(r,t,"top"),bottom:$w(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class Fw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach(r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Xb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zw=new Fw;const Vw="transparent",jw={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=ov(e||Vw),i=r.valid&&ov(t||Vw);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Bw{constructor(e,t,n,r){const i=t[n];r=Wv([e.to,r,i,e.from]);const s=Wv([e.from,i,r]);this._active=!0,this._fn=e.fn||jw[e.type||typeof s],this._easing=iv[e.easing]||iv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Wv([e.to,t,r,e.from]),this._from=Wv([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Ww{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Zx(e))return;const t=Object.keys(bv.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Zx(i))return;const s={};for(const e of t)s[e]=i[e];(Jx(i.properties)&&i.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,s)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const u=t[l];let c=i[l];const h=n.get(l);if(c){if(h&&c.active()){c.update(h,u,o);continue}c.cancel()}h&&h.duration?(i[l]=c=new Bw(h,e,l,u),r.push(c)):e[l]=u}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(zw.add(this._chart,n),!0):void 0}}function Uw(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function Kw(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Hw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let o,a,l,u;if(null===t)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(c=!0,r.all)continue;break}u=e.values[l],eb(u)&&(s||0===t||Cb(t)===Cb(u))&&(t+=u)}return c||r.all?t:0}function Gw(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Yw(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Xw(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function qw(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,o,r),h=t.length;let d;for(let p=0;p<h;++p){const e=t[p],{[l]:n,[u]:s}=e;d=(e._stacks||(e._stacks={}))[u]=Yw(i,c,n),d[a]=s,d._top=Xw(d,o,!0,r.type),d._bottom=Xw(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[a]=s}}function Qw(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function Jw(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Zw=e=>"reset"===e||"none"===e,eS=(e,t)=>t?e:Object.assign({},e);class tS{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gw(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jw(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=nb(n.xAxisID,Qw(e,"x")),s=t.yAxisID=nb(n.yAxisID,Qw(e,"y")),o=t.rAxisID=nb(n.rAxisID,Qw(e,"r")),a=t.indexAxis,l=t.iAxisID=r(a,i,s,o),u=t.vAxisID=r(a,s,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Gb(this._data,this),e._stacked&&Jw(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Zx(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[i]:c,[s]:e[c]};return a}(t,e)}else if(n!==t){if(n){Gb(n,this);const e=this._cachedMeta;Jw(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Hb.forEach(e=>{const t="_onData"+mb(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const o=n.apply(this,i);return r._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...i)}),o}})}))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=Gw(t.vScale,t),t.stack!==n.stack&&(r=!0,Jw(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(qw(this,t._parsed),t._stacked=Gw(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,l,u,c=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,u=r;else{u=Jx(r[e])?this.parseArrayData(n,r,e,t):Zx(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=u[a],c&&(i()&&(c=!1),h=l);n._sorted=c}s&&qw(this,u)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,o=i.axis,a=s.axis,l=i.getLabels(),u=i===s,c=new Array(r);let h,d,p;for(h=0,d=r;h<d;++h)p=h+n,c[h]={[o]:u||i.parse(l[p],p),[a]:s.parse(t[p],p)};return c}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,o=new Array(r);let a,l,u,c;for(a=0,l=r;a<l;++a)u=a+n,c=t[u],o[a]={x:i.parse(c[0],u),y:s.parse(c[1],u)};return o}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let u,c,h,d;for(u=0,c=r;u<c;++u)h=u+n,d=t[h],l[u]={x:i.parse(fb(d,o),h),y:s.parse(fb(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return Hw({keys:Kw(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,s=Hw(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Kw(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:c}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function p(){d=r[h];const t=d[o.axis];return!eb(d[e.axis])||u>t||c<t}for(h=0;h<s&&(p()||(this.updateRangeFromParsed(l,e,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],eb(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Zx(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(nb(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Uw(e,n),i=Uw(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,o,a),u=o;u<o+a;++u){const t=r[u];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(u=0;u<s.length;++u)s[u].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Uv(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Uv(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,o=i[s],a=this.enableOptionSharing&&gb(n);if(o)return eS(o,a);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,e),c=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),u),d=Object.keys(bv.elements[e]),p=l.resolveNamedOptions(h,d,()=>this.getContext(n,r,t),c);return p.$shared&&(p.$shared=a,i[s]=Object.freeze(eS(p,a))),p}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(e,n,t))}const l=new Ww(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zw(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){Zw(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Zw(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(i),o=e;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Jw(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class nS extends tS{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=Zb(t,r,s);this._drawStart=o,this._drawCount=a,ev(t)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,o,a,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(t,r),h=s.axis,d=o.axis,{spanGaps:p,segment:f}=this.options,m=Lb(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,y=t+n,x=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<x;++v){const n=e[v],p=g?n:{};if(v<t||v>=y){p.skip=!0;continue}const x=this.getParsed(v),w=Qx(x[d]),S=p[h]=s.getPixelForValue(x[h],v),k=p[d]=i||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,x,a):x[d],v);p.skip=isNaN(S)||isNaN(k)||w,p.stop=v>0&&Math.abs(x[h]-b[h])>m,f&&(p.parsed=x,p.raw=l.data[v]),c&&(p.options=u||this.resolveDataElementOptions(v,n.active?"active":r)),g||this.updateElement(n,v,p,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function rS(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iS{static override(e){Object.assign(iS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return rS()}parse(){return rS()}format(){return rS()}add(){return rS()}diff(){return rS()}startOf(){return rS()}endOf(){return rS()}}var sS=iS;function oS(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const o=a._reversePixels?Kb:Ub;if(!r){const r=o(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex(e=>!Qx(e[t.axis]));r.lo-=Math.max(0,s);const o=n.slice(r.hi).findIndex(e=>!Qx(e[t.axis]));r.hi+=Math.max(0,o)}return r}if(i._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=o(s,t,n-r),i=o(s,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function aS(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:u}=oS(s[a],t,o,i);for(let t=l;t<=u;++t){const i=n[t];i.skip||r(i,e,t)}}}function lS(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return aS(e,n,t,function(n,o,a){(i||Av(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:o,index:a})},!0),s}function uS(e,t,n,r,i,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return aS(e,n,t,function(n,u,c){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(d))&&!h)return;const p=a(t,d);p<l?(o=[{element:n,datasetIndex:u,index:c}],l=p):p===l&&o.push({element:n,datasetIndex:u,index:c})}),o}function cS(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?uS(e,t,n,r,i,s):function(e,t,n,r){let i=[];return aS(e,n,t,function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:l}=$b(e,{x:t.x,y:t.y});Vb(l,o,a)&&i.push({element:e,datasetIndex:n,index:s})}),i}(e,t,n,i):[]}function hS(e,t,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return aS(e,n,t,(e,r,l)=>{e[o]&&e[o](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,i))}),r&&!a?[]:s}var dS={evaluateInteractionItems:aS,modes:{index(e,t,n,r){const i=yw(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?lS(e,i,s,r,o):cS(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const i=yw(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?lS(e,i,s,r,o):cS(e,i,s,!1,r,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>lS(e,yw(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=yw(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return cS(e,i,s,n.intersect,r,o)},x:(e,t,n,r)=>hS(e,yw(t,e),"x",n.intersect,r),y:(e,t,n,r)=>hS(e,yw(t,e),"y",n.intersect,r)}};const pS=["left","top","right","bottom"];function fS(e,t){return e.filter(e=>e.pos===t)}function mS(e,t){return e.filter(e=>-1===pS.indexOf(e.pos)&&e.box.axis===t)}function gS(e,t){return e.sort((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function yS(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!pS.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:o&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:o&&t.availableHeight)}return n}function xS(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function bS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function vS(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Zx(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&bS(o,s.getPadding());const a=Math.max(0,t.outerWidth-xS(o,e,"left","right")),l=Math.max(0,t.outerHeight-xS(o,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function wS(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function SS(e,t,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,wS(a.horizontal,t));const{same:o,other:h}=vS(t,n,a,r);u|=o&&i.length,c=c||h,l.fullSize||i.push(a)}return u&&SS(i,t,n,r)||c}function kS(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function TS(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const r=t.w*u,s=l.size||e.height;gb(l.start)&&(o=l.start),e.fullSize?kS(e,i.left,o,n.outerWidth-i.right-i.left,s):kS(e,t.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=e.bottom}else{const r=t.h*u,o=l.size||e.width;gb(l.start)&&(s=l.start),e.fullSize?kS(e,s,i.top,o,n.outerHeight-i.bottom-i.top):kS(e,s,t.top+l.placed,o,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=o}var AS={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=jv(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=function(e){const t=function(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=gS(t.filter(e=>e.box.fullSize),!0),r=gS(fS(t,"left"),!0),i=gS(fS(t,"right")),s=gS(fS(t,"top"),!0),o=gS(fS(t,"bottom")),a=mS(t,"x"),l=mS(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:fS(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,u=a.horizontal;sb(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const c=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);bS(d,jv(r));const p=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),f=yS(l.concat(u),h);SS(a.fullSize,p,h,f),SS(l,p,h,f),SS(u,p,h,f)&&SS(l,p,h,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),TS(a.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,TS(a.rightAndBottom,p,h,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},sb(a.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class _S{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class ES extends _S{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const CS="$chartjs",DS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},MS=e=>null===e||""===e;const LS=!!ww&&{passive:!0};function IS(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,LS)}function PS(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function OS(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||PS(n.addedNodes,r),t=t&&!PS(n.removedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function RS(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||PS(n.removedNodes,r),t=t&&!PS(n.addedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const $S=new Map;let NS=0;function FS(){const e=window.devicePixelRatio;e!==NS&&(NS=e,$S.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function zS(e,t,n){const r=e.canvas,i=r&&dw(r);if(!i)return;const s=qb((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()},window),o=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)});return o.observe(i),function(e,t){$S.size||window.addEventListener("resize",FS),$S.set(e,t)}(e,s),o}function VS(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){$S.delete(e),$S.size||window.removeEventListener("resize",FS)}(e)}function jS(e,t,n){const r=e.canvas,i=qb(t=>{null!==e.ctx&&n(function(e,t){const n=DS[e.type]||e.type,{x:r,y:i}=yw(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,LS)}(r,t,i),i}class BS extends _S{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[CS]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",MS(i)){const t=Sw(e,"width");void 0!==t&&(e.width=t)}if(MS(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Sw(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[CS])return!1;const n=t[CS].initial;["height","width"].forEach(e=>{const r=n[e];Qx(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[CS],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:OS,detach:RS,resize:zS}[t]||jS;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:VS,detach:VS,resize:VS}[t]||IS)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return bw(e,t,n,r)}isAttached(e){const t=e&&dw(e);return!(!t||!t.isConnected)}}class WS{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Lb(this.x)&&Lb(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function US(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return function(e,t,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),s++,o=n[s*r])}(t,u,s,o/i),u;const c=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(o>0){let e,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(KS(t,u,c,Qx(r)?0:a-r,a),e=0,n=o-1;e<n;e++)KS(t,u,c,s[e],s[e+1]);return KS(t,u,c,l,Qx(r)?t.length:l+r),u}return KS(t,u,c),u}function KS(e,t,n,r,i){const s=nb(r,0),o=Math.min(nb(i,e.length),e.length);let a,l,u,c=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),u=s;u<0;)c++,u=Math.round(s+c*n);for(l=Math.max(s,0);l<o;l++)l===u&&(t.push(e[l]),c++,u=Math.round(s+c*n))}const HS=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,GS=(e,t)=>Math.min(t||e,e);function YS(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function XS(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,u=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(u-s,o-u):0===t?(e.getPixelForTick(1)-u)/2:(u-e.getPixelForTick(i-1))/2,u+=i<t?l:-l,u<s-a||u>o+a)))return u}function qS(e){return e.drawTicks?e.tickLength:0}function QS(e,t){if(!e.display)return 0;const n=Bv(e.font,t),r=jv(e.padding);return(Jx(e.text)?e.text.length:1)*n.lineHeight+r.height}function JS(e,t,n){let r=Qb(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class ZS extends WS{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=tb(e,Number.POSITIVE_INFINITY),t=tb(t,Number.NEGATIVE_INFINITY),n=tb(n,Number.POSITIVE_INFINITY),r=tb(r,Number.NEGATIVE_INFINITY),{min:tb(e,n),max:tb(t,r),minDefined:eb(e),maxDefined:eb(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:tb(n,tb(r,n)),max:tb(r,tb(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ib(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=rb(t,(i-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?YS(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=US(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ib(this.options.afterUpdate,[this])}beforeSetDimensions(){ib(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ib(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ib(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ib(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=ib(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ib(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ib(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=GS(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,o,a,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const u=this._getLabelSizes(),c=u.widest.width,h=u.highest.height,d=jb(this.chart.width-c,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),c+6>s&&(s=d/(n-(e.offset?.5:1)),o=this.maxHeight-qS(e.grid)-t.padding-QS(e.title,this.chart.options.font),a=Math.sqrt(c*c+h*h),l=Ob(Math.min(Math.asin(jb((u.highest.height+6)/s,-1,1)),Math.asin(jb(o/a,-1,1))-Math.asin(jb(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){ib(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ib(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=QS(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=qS(i)+s):(e.height=this.maxHeight,e.width=qS(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Pb(this.labelRotation),u=Math.cos(l),c=Math.sin(l);if(o){const t=n.mirror?0:c*i.width+u*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:u*i.width+c*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,c,u)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;a?l?(c=r*e.width,h=n*t.height):(c=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?c=e.width:"inner"!==i&&(c=e.width/2,h=t.width/2),this.paddingLeft=Math.max((c-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-u+s)*this.width/(this.width-u),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ib(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Qx(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=YS(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(t/GS(t,n));let l,u,c,h,d,p,f,m,g,y,x,b=0,v=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=p=d.string,f=i[p]=i[p]||{data:{},gc:[]},m=d.lineHeight,g=y=0,Qx(h)||Jx(h)){if(Jx(h))for(u=0,c=h.length;u<c;++u)x=h[u],Qx(x)||Jx(x)||(g=vv(r,f.data,f.gc,g,x),y+=m)}else g=vv(r,f.data,f.gc,g,h),y=m;s.push(g),o.push(y),b=Math.max(g,b),v=Math.max(y,v)}!function(e,t){sb(e,e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}})}(i,t);const w=s.indexOf(b),S=o.indexOf(v),k=e=>({width:s[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(S),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return jb(e,-32768,32767)}(this._alignToPixels?wv(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Uv(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Uv(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Pb(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),c=qS(i),h=[],d=o.setContext(this.getContext()),p=d.display?d.width:0,f=p/2,m=function(e){return wv(n,e,p)};let g,y,x,b,v,w,S,k,T,A,_,E;if("top"===s)g=m(this.bottom),w=this.bottom-c,k=g-f,A=m(e.top)+f,E=e.bottom;else if("bottom"===s)g=m(this.top),A=e.top,E=m(e.bottom)-f,w=g+f,k=this.top+c;else if("left"===s)g=m(this.right),v=this.right-c,S=g-f,T=m(e.left)+f,_=e.right;else if("right"===s)g=m(this.left),T=e.left,_=m(e.right)-f,v=g+f,S=this.left+c;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(Zx(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}A=e.top,E=e.bottom,w=g+f,k=w+c}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(Zx(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}v=g-f,S=v-c,T=e.left,_=e.right}const C=nb(r.ticks.maxTicksLimit,u),D=Math.max(1,Math.ceil(u/C));for(y=0;y<u;y+=D){const e=this.getContext(y),t=i.setContext(e),r=o.setContext(e),s=t.lineWidth,u=t.color,c=r.dash||[],d=r.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;x=XS(this,y,a),void 0!==x&&(b=wv(n,x,s),l?v=S=T=_=b:w=k=A=E=b,h.push({tx1:v,ty1:w,tx2:S,ty2:k,x1:T,y1:A,x2:_,y2:E,width:s,color:u,borderDash:c,borderDashOffset:d,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=u,this._borderValue=g,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:u,mirror:c}=i,h=qS(n.grid),d=h+u,p=c?-u:d,f=-Pb(this.labelRotation),m=[];let g,y,x,b,v,w,S,k,T,A,_,E,C="middle";if("top"===r)w=this.bottom-p,S=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+p,S=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);S=e.textAlign,v=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);S=e.textAlign,v=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+d;else if(Zx(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+d}S=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)v=(e.left+e.right)/2-d;else if(Zx(r)){const e=Object.keys(r)[0],t=r[e];v=this.chart.scales[e].getPixelForValue(t)}S=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?C="top":"end"===a&&(C="bottom"));const D=this._getLabelSizes();for(g=0,y=o.length;g<y;++g){x=o[g],b=x.label;const e=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,T=this._resolveTickFontOptions(g),A=T.lineHeight,_=Jx(b)?b.length:1;const t=_/2,n=e.color,a=e.textStrokeColor,u=e.textStrokeWidth;let h,d=S;if(s?(v=k,"inner"===S&&(d=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===r?"near"===l||0!==f?-_*A+A/2:"center"===l?-D.highest.height/2-t*A+A:-D.highest.height+A/2:"near"===l||0!==f?A/2:"center"===l?D.highest.height/2-t*A:D.highest.height-_*A,c&&(E*=-1),0===f||e.showLabelBackdrop||(v+=A/2*Math.sin(f))):(w=k,E=(1-_)*A/2),e.showLabelBackdrop){const t=jv(e.backdropPadding),n=D.heights[g],r=D.widths[g];let i=E-t.top,s=0-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(S){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===y-1?s-=r:g>0&&(s-=r/2)}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:T,textOffset:E,options:{rotation:f,color:n,strokeColor:a,strokeWidth:u,textAlign:d,textBaseline:C,translation:[v,w],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Pb(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,u,c,h;this.isHorizontal()?(l=wv(e,this.left,s)-s/2,u=wv(e,this.right,o)+o/2,c=h=a):(c=wv(e,this.top,s)-s/2,h=wv(e,this.bottom,o)+o/2,l=u=a),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,c),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&_v(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Iv(t,i.label,0,i.textOffset,n,e)}n&&Ev(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Bv(n.font),s=jv(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===t||"center"===t||Zx(t)?(a+=s.bottom,Jx(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:u,maxWidth:c,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let h,d,p,f=0;const m=o-i,g=a-s;if(e.isHorizontal()){if(d=Jb(r,s,a),Zx(n)){const e=Object.keys(n)[0],r=n[e];p=c[e].getPixelForValue(r)+m-t}else p="center"===n?(u.bottom+u.top)/2+m-t:HS(e,n,t);h=a-s}else{if(Zx(n)){const e=Object.keys(n)[0],r=n[e];d=c[e].getPixelForValue(r)-g+t}else d="center"===n?(u.left+u.right)/2-g+t:HS(e,n,t);p=Jb(r,o,i),f="left"===n?-Tb:Tb}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}(this,a,t,o);Iv(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:h,textAlign:JS(o,t,r),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=nb(e.grid&&e.grid.z,-1),r=nb(e.border&&e.border.z,0);return this._isVisible()&&this.draw===ZS.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Bv(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ek{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=cb(Object.create(null),[n?bv.get(n):{},bv.get(t),e.defaults]);bv.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");bv.route(s,i,l,a)})}(t,e.defaultRoutes);e.descriptors&&bv.describe(t,e.descriptors)}(e,s,n),this.override&&bv.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in bv[r]&&(delete bv[r][n],this.override&&delete fv[n])}}class tk{constructor(){this.controllers=new ek(tS,"datasets",!0),this.elements=new ek(WS,"elements"),this.plugins=new ek(Object,"plugins"),this.scales=new ek(ZS,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):sb(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=mb(e);ib(n["before"+r],[],n),t[e](n),ib(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var nk=new tk;class rk{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===ib(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){Qx(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=nb(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(nk.plugins.items);for(let s=0;s<r.length;s++)n.push(nk.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const o=[],a=e.getContext();for(const l of i){const t=l.id,i=ik(n[t],r);null!==i&&o.push({plugin:l,options:sk(e.config,{plugin:l,local:s[t]},i,a)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function ik(e,t){return t||!1!==e?!0===e?{}:e:null}function sk(e,t,n,r){let{plugin:i,local:s}=t;const o=e.pluginScopeKeys(i),a=e.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ok(e,t){const n=bv.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function ak(e){if("x"===e||"y"===e||"r"===e)return e}function lk(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function uk(e){if(ak(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||lk(i.position)||e.length>1&&ak(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ck(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function hk(e,t){const n=fv[e.type]||{scales:{}},r=t.scales||{},i=ok(e.type,t),s=Object.create(null);return Object.keys(r).forEach(t=>{const o=r[t];if(!Zx(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=uk(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return ck(e,"x",n[0])||ck(e,"y",n[0])}return{}}(t,e),bv.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,i),u=n.scales||{};s[t]=hb(Object.create(null),[{axis:a},o,u[a],u[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,o=n.indexAxis||ok(i,t),a=(fv[i]||{}).scales||{};Object.keys(a).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),hb(s[i],[{axis:t},r[i],a[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];hb(t,[bv.scales[t.type],bv.scale])}),s}function dk(e){const t=e.options||(e.options={});t.plugins=nb(t.plugins,{}),t.scales=hk(e,t)}function pk(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const fk=new Map,mk=new Set;function gk(e,t){let n=fk.get(e);return n||(n=t(),fk.set(e,n),mk.add(n)),n}const yk=(e,t,n)=>{const r=fb(t,n);void 0!==r&&e.add(r)};class xk{constructor(e){this._config=function(e){return(e=e||{}).data=pk(e.data),dk(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gk(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return gk(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return gk(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return gk(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach(t=>{e&&(a.add(e),t.forEach(t=>yk(a,e,t))),t.forEach(e=>yk(a,r,e)),t.forEach(e=>yk(a,fv[i]||{},e)),t.forEach(e=>yk(a,bv,e)),t.forEach(e=>yk(a,mv,e))});const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),mk.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,fv[t]||{},bv.datasets[t]||{},{type:t},bv,mv]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=bk(this._resolverCache,e,r);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=Gv(e);for(const i of t){const t=n(i),s=r(i),o=(s||t)&&e[i];if(t&&(yb(o)||vk(o))||s&&Jx(o))return!0}return!1}(s,t)){i.$shared=!1;a=Hv(s,n=yb(n)?n():n,this.createResolver(e,n,o))}for(const l of t)i[l]=a[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=bk(this._resolverCache,e,n);return Zx(t)?Hv(i,t,void 0,r):i}}function bk(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:Kv(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(i,s)}return s}const vk=e=>Zx(e)&&Object.getOwnPropertyNames(e).some(t=>yb(e[t]));const wk=["top","bottom","left","right","chartArea"];function Sk(e,t){return"top"===e||"bottom"===e||-1===wk.indexOf(e)&&"x"===t}function kk(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Tk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ib(n&&n.onComplete,[e],t)}function Ak(e){const t=e.chart,n=t.options.animation;ib(n&&n.onProgress,[e],t)}function _k(e){return hw()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ek={},Ck=e=>{const t=_k(e);return Object.values(Ek).filter(e=>e.canvas===t).pop()};function Dk(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}class Mk{static defaults=(()=>bv)();static instances=(()=>Ek)();static overrides=(()=>fv)();static registry=(()=>nk)();static version="4.5.0";static getChart=(()=>Ck)();static register(){nk.add(...arguments),Lk()}static unregister(){nk.remove(...arguments),Lk()}constructor(e,t){const n=this.config=new xk(t),r=_k(e),i=Ck(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!hw()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?ES:BS}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,u=a&&a.width;this.id=qx(),this.ctx=o,this.canvas=a,this.width=u,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],Ek[this.id]=this,o&&a?(zw.listen(this,"complete",Tk),zw.listen(this,"progress",Ak),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return Qx(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return nk}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sv(this.canvas,this.ctx),this}stop(){return zw.stop(this),this}resize(e,t){zw.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,vw(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),ib(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){sb(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],r=uk(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}}))),sb(i,t=>{const i=t.options,s=i.id,o=uk(s,i),a=nb(i.type,t.dtype);void 0!==i.position&&Sk(i.position,o)===Sk(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(nk.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)}),sb(r,(e,t)=>{e||delete n[t]}),sb(n,e=>{AS.configure(this,e,e.options),AS.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(kk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||ok(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=nk.getController(s),{datasetElementType:r,dataElementType:o}=bv.datasets[s];Object.assign(t,{dataElementType:nk.getElement(o),datasetElementType:r&&nk.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){sb(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||sb(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kk("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){sb(this.scales,e=>{AS.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);xb(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){Dk(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let i=1;i<t;i++)if(!xb(r,n(i)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;AS.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],sb(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,yb(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zw.has(this)?this.attached&&!zw.running(this)&&zw.start(this):(this.draw(),Tk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Nw(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&_v(t,r),e.controller.draw(),r&&Ev(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Av(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=dS.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Uv(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);gb(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),zw.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Sv(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ek[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};sb(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){sb(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},sb(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!ob(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=i(t,e),o=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,o=this._getActiveElements(e,r,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,ib(i.onHover,[e,o,this],this),a&&ib(i.onClick,[e,o,this],this));const u=!ob(o,r);return(u||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=l,u}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function Lk(){return sb(Mk.instances,e=>e._plugins.invalidate())}function Ik(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=nb(n.borderCapStyle,t.borderCapStyle),e.setLineDash(nb(n.borderDash,t.borderDash)),e.lineDashOffset=nb(n.borderDashOffset,t.borderDashOffset),e.lineJoin=nb(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=nb(n.borderWidth,t.borderWidth),e.strokeStyle=nb(n.borderColor,t.borderColor)}function Pk(e,t,n){e.lineTo(n.x,n.y)}function Ok(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),u=Math.min(s,a),c=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:u<l&&!c?r+u-l:u-l}}function Rk(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:u}=Ok(i,n,r),c=function(e){return e.stepped?Cv:e.tension||"monotone"===e.cubicInterpolationMode?Dv:Pk}(s);let h,d,p,{move:f=!0,reverse:m}=r||{};for(h=0;h<=u;++h)d=i[(a+(m?u-h:h))%o],d.skip||(f?(e.moveTo(d.x,d.y),f=!1):c(e,p,d,m,s.stepped),p=d);return l&&(d=i[(a+(m?u:0))%o],c(e,p,d,m,s.stepped)),!!l}function $k(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=Ok(i,n,r),{move:l=!0,reverse:u}=r||{};let c,h,d,p,f,m,g=0,y=0;const x=e=>(o+(u?a-e:e))%s,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(h=i[x(0)],e.moveTo(h.x,h.y)),c=0;c<=a;++c){if(h=i[x(c)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<p?p=n:n>f&&(f=n),g=(y*g+t)/++y):(b(),e.lineTo(t,n),d=r,y=0,p=f=n),m=n}b()}function Nk(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?$k:Rk}const Fk="function"===typeof Path2D;function zk(e,t,n,r){Fk&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Ik(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,o=Nk(t);for(const a of i)Ik(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Vk extends WS{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;cw(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return Pw(e,!0===r?[{start:o,end:a,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(o-1)%i,loop:r}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!e._fullLoop&&0===o&&a===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=Iw(this,{property:t,start:r,end:r});if(!s.length)return;const o=[],a=function(e){return e.stepped?Tw:e.tension||"monotone"===e.cubicInterpolationMode?Aw:kw}(n);let l,u;for(l=0,u=s.length;l<u;++l){const{start:u,end:c}=s[l],h=i[u],d=i[c];if(h===d){o.push(h);continue}const p=a(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return Nk(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=Nk(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)s&=i(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),zk(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function jk(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Bk extends WS{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return jk(this,e,"x",t)}inYRange(e,t){return jk(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Av(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,kv(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Wk(e,t,n,r){if(r)return;let i=t[e],s=n[e];return"angle"===e&&(i=zb(i),s=zb(s)),{property:e,start:i,end:s}}function Uk(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Kk(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Hk(e,t){let n=[],r=!1;return Jx(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(e=>{let{start:t,end:o}=e;o=Uk(t,o,i);const a=i[t],l=i[o];null!==r?(s.push({x:a.x,y:r}),s.push({x:l.x,y:r})):null!==n&&(s.push({x:n,y:a.y}),s.push({x:n,y:l.y}))}),s}(e,t),n.length?new Vk({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Gk(e){return e&&!1!==e.fill}function Yk(e,t,n){let r=e[t].fill;const i=[t];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!eb(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function Xk(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=nb(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(Zx(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return eb(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function qk(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=Qk(s,t,"x");if(!(!l||o&&a))if(o)r.unshift(l);else if(e.push(l),!a)break}e.push(...r)}function Qk(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const e=s[u],t=o[e.start][n],r=o[e.end][n];if(Bb(i,t,r)){a=i===t,l=i===r;break}}return{first:a,last:l,point:r}}class Jk{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:s}=this;return t=t||{start:0,end:vb},e.arc(r,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Zk(e){const{chart:t,fill:n,line:r}=e;if(eb(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(Hk({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)qk(i,o[t],a)}return new Vk({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Zx(e)?e.value:t.getBaseValue(),r}(n,t,s),a=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new Jk({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Zx(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(eb(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof Jk?i:Hk(i,r)}function eT(e,t,n){const r=Zk(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,u=o.options,c=u.fill,h=u.backgroundColor,{above:d=h,below:p=h}=c||{},f=i.getDatasetMeta(s),m=Nw(i,f);r&&o.points.length&&(_v(e,n),function(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=t,u=n._loop?"angle":t.axis;e.save();let c=s;s!==i&&("x"===u?(tT(e,r,o.top),rT(e,{line:n,target:r,color:i,scale:a,property:u,clip:l}),e.restore(),e.save(),tT(e,r,o.bottom)):"y"===u&&(nT(e,r,o.left),rT(e,{line:n,target:r,color:s,scale:a,property:u,clip:l}),e.restore(),e.save(),nT(e,r,o.right),c=i));rT(e,{line:n,target:r,color:c,scale:a,property:u,clip:l}),e.restore()}(e,{line:o,target:r,above:d,below:p,area:n,scale:a,axis:l,clip:m}),Ev(e))}function tT(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:r,end:l}=a,u=i[r],c=i[Uk(r,l,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(c.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function nT(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:r,end:l}=a,u=i[r],c=i[Uk(r,l,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(n,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,c.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function rT(e,t){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=t,l=function(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:e,end:r}=a;r=Uk(e,r,i);const l=Wk(n,i[e],i[r],a.loop);if(!t.segments){o.push({source:a,target:l,start:i[e],end:i[r]});continue}const u=Iw(t,l);for(const t of u){const e=Wk(n,s[t.start],s[t.end],t.loop),r=Lw(a,i,e);for(const i of r)o.push({source:i,target:t,start:{[n]:Kk(l,e,"start",Math.max)},end:{[n]:Kk(l,e,"end",Math.min)}})}}return o}(n,r,i);for(const{source:u,target:c,start:h,end:d}of l){const{style:{backgroundColor:t=s}={}}=u,l=!0!==r;e.save(),e.fillStyle=t,iT(e,o,a,l&&Wk(i,h,d)),e.beginPath();const p=!!n.pathSegment(e,u);let f;if(l){p?e.closePath():sT(e,r,d,i);const t=!!r.pathSegment(e,c,{move:p,reverse:!0});f=p&&t,f||sT(e,r,h,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function iT(e,t,n,r){const i=t.chart.chartArea,{property:s,start:o,end:a}=r||{};if("x"===s||"y"===s){let t,r,l,u;"x"===s?(t=o,r=i.top,l=a,u=i.bottom):(t=i.left,r=o,l=i.right,u=a),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),u=Math.min(u,n.bottom)),e.rect(t,r,l-t,u-r),e.clip()}}function sT(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var oT={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Vk&&(l={visible:e.isDatasetVisible(o),index:o,fill:Xk(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],l&&!1!==l.fill&&(l.fill=Yk(i,o,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const t=i[o].$filler;t&&(t.line.updateControlPoints(s,t.axis),r&&t.fill&&eT(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;Gk(t)&&eT(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;Gk(r)&&"beforeDatasetDraw"===n.drawTime&&eT(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const aT=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class lT extends WS{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ib(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Bv(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=aT(n,i);let l,u;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(s,i,o,a)+10):(u=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+o;let c=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach((e,p)=>{const f=n+t/2+i.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>s)&&(c+=u,l[l.length-(p>0?0:1)]=0,d+=u,h++),a[p]={left:0,top:d,row:h,width:f,height:r},l[l.length-1]+=f+o}),c}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],u=s-e;let c=o,h=0,d=0,p=0,f=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=uT(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,i,e,r);s>0&&d+g+2*o>u&&(c+=h+o,l.push({width:h,height:d}),p+=h+o,f++,h=d=0),a[s]={left:p,top:d,col:f,width:m,height:g},h=Math.max(h,m),d+=g+o}),c+=h,l.push({width:h,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=_w(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=Jb(n,this.left+r,this.right-this.lineWidths[i]);for(const a of t)i!==a.row&&(i=a.row,o=Jb(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+e+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=Jb(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const a of t)a.col!==i&&(i=a.col,o=Jb(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;_v(e,this),this._draw(),Ev(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,o=bv.color,a=_w(e.rtl,this.left,this.width),l=Bv(s.font),{padding:u}=s,c=l.size,h=c/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=aT(s,c),g=this.isHorizontal(),y=this._computeTitleHeight();d=g?{x:Jb(i,this.left+u,this.right-n[0]),y:this.top+u+y,line:0}:{x:this.left+u,y:Jb(i,this.top+y+u,this.bottom-t[0].height),line:0},Ew(this.ctx,e.textDirection);const x=m+u;this.legendItems.forEach((b,v)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,S=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),k=p+h+w;let T=d.x,A=d.y;a.setWidth(this.width),g?v>0&&T+k+u>this.right&&(A=d.y+=x,d.line++,T=d.x=Jb(i,this.left+u,this.right-n[d.line])):v>0&&A+x>this.bottom&&(T=d.x=T+t[d.line].width+u,d.line++,A=d.y=Jb(i,this.top+y+u,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const i=nb(n.lineWidth,1);if(r.fillStyle=nb(n.fillStyle,o),r.lineCap=nb(n.lineCap,"butt"),r.lineDashOffset=nb(n.lineDashOffset,0),r.lineJoin=nb(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=nb(n.strokeStyle,o),r.setLineDash(nb(n.lineDash,[])),s.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(e,p/2);Tv(r,o,l,t+h,s.pointStyleWidth&&p)}else{const s=t+Math.max((c-f)/2,0),o=a.leftForLtr(e,p),l=Vv(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?Pv(r,{x:o,y:s,w:p,h:f,radius:l}):r.rect(o,s,p,f),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(T),A,b),T=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(S,T+p+h,g?T+k:this.right,e.rtl),function(e,t,n){Iv(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(T),A,b),g)d.x+=k+u;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=uT(b,e)+u}else d.y+=x}),Cw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Bv(t.font),r=jv(t.padding);if(!t.display)return;const i=_w(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=r.top+a;let u,c=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,c=Jb(e.align,c,this.right-h);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);u=l+Jb(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=Jb(o,c,c+h);s.textAlign=i.textAlign(Qb(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Iv(s,t.text,d,u,n)}_computeTitleHeight(){const e=this.options.title,t=Bv(e.font),n=jv(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Bb(e,this.left,this.right)&&Bb(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Bb(e,r.left,r.left+r.width)&&Bb(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,o=(i=n,null!==(r=s)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);s&&!o&&ib(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!o&&ib(t.onHover,[e,n,this],this)}else n&&ib(t.onClick,[e,n,this],this);var r,i}}function uT(e,t){return t*(e.text?e.text.length:0)}var cT={id:"legend",_element:lT,start(e,t,n){const r=e.legend=new lT({ctx:e.ctx,options:n,chart:e});AS.configure(e,r,n),AS.addBox(e,r)},stop(e){AS.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;AS.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),u=jv(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class hT extends WS{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Jx(n.text)?n.text.length:1;this._padding=jv(n.padding);const i=r*Bv(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,l,u,c=0;return this.isHorizontal()?(l=Jb(o,n,i),u=t+e,a=i-n):("left"===s.position?(l=n+e,u=Jb(o,r,t),c=-.5*bb):(l=i-e,u=Jb(o,t,r),c=.5*bb),a=r-t),{titleX:l,titleY:u,maxWidth:a,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Bv(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);Iv(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:Qb(t.align),textBaseline:"middle",translation:[i,s]})}}var dT={id:"title",_element:hT,start(e,t,n){!function(e,t){const n=new hT({ctx:e.ctx,options:t,chart:e});AS.configure(e,n,t),AS.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;AS.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;AS.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const pT={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;return{x:[...r].reduce((e,t)=>e+t)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Nb(t,r.getCenterPoint());e<a&&(a=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function fT(e,t){return t&&(Jx(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function mT(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function gT(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function yT(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Bv(t.bodyFont),u=Bv(t.titleFont),c=Bv(t.footerFont),h=s.length,d=i.length,p=r.length,f=jv(t.padding);let m=f.height,g=0,y=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){m+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*c.lineHeight+(d-1)*t.footerSpacing);let x=0;const b=function(e){g=Math.max(g,n.measureText(e).width+x)};return n.save(),n.font=u.string,sb(e.title,b),n.font=l.string,sb(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?o+2+t.boxPadding:0,sb(r,e=>{sb(e.before,b),sb(e.lines,b),sb(e.after,b)}),x=0,n.font=c.string,sb(e.footer,b),n.restore(),g+=f.width,{width:g,height:m}}function xT(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return"center"===r?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),function(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===e&&i+s+o>t.width||"right"===e&&i-s-o<0||void 0}(u,e,t,n)&&(u="center"),u}function bT(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||xT(e,t,n,r),yAlign:r}}function vT(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:p}=Vv(o);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,u);return"center"===l?"left"===a?f+=u:"right"===a&&(f-=u):"left"===a?f-=Math.max(c,d)+i:"right"===a&&(f+=Math.max(h,p)+i),{x:jb(f,0,r.width-t.width),y:jb(m,0,r.height-t.height)}}function wT(e,t,n){const r=jv(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function ST(e){return fT([],mT(e))}function kT(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const TT={beforeTitle:Xx,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Xx,beforeBody:Xx,beforeLabel:Xx,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Qx(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Xx,afterBody:Xx,beforeFooter:Xx,footer:Xx,afterFooter:Xx};function AT(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?TT[t].call(n,r):i}class _T extends WS{static positioners=(()=>pT)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Ww(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Uv(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=AT(n,"beforeTitle",this,e),i=AT(n,"title",this,e),s=AT(n,"afterTitle",this,e);let o=[];return o=fT(o,mT(r)),o=fT(o,mT(i)),o=fT(o,mT(s)),o}getBeforeBody(e,t){return ST(AT(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return sb(e,e=>{const t={before:[],lines:[],after:[]},i=kT(n,e);fT(t.before,mT(AT(i,"beforeLabel",this,e))),fT(t.lines,AT(i,"label",this,e)),fT(t.after,mT(AT(i,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return ST(AT(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=AT(n,"beforeFooter",this,e),i=AT(n,"footer",this,e),s=AT(n,"afterFooter",this,e);let o=[];return o=fT(o,mT(r)),o=fT(o,mT(i)),o=fT(o,mT(s)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(gT(this.chart,t[o]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),sb(l,t=>{const n=kT(e.callbacks,t);r.push(AT(n,"labelColor",this,t)),i.push(AT(n,"labelPointStyle",this,t)),s.push(AT(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=pT[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=yT(this,n),o=Object.assign({},e,t),a=bT(this.chart,n,o),l=vT(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:u,bottomRight:c}=Vv(o),{x:h,y:d}=e,{width:p,height:f}=t;let m,g,y,x,b,v;return"center"===i?(b=d+f/2,"left"===r?(m=h,g=m-s,x=b+s,v=b-s):(m=h+p,g=m+s,x=b-s,v=b+s),y=m):(g="left"===r?h+Math.max(a,u)+s:"right"===r?h+p-Math.max(l,c)-s:this.caretX,"top"===i?(x=d,b=x-s,m=g-s,y=g+s):(x=d+f,b=x+s,m=g+s,y=g-s),v=x),{x1:m,x2:g,x3:y,y1:x,y2:b,y3:v}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,o,a;if(i){const l=_w(n.rtl,this.x,this.width);for(e.x=wT(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Bv(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,u=Bv(i.bodyFont),c=wT(this,"left",i),h=r.x(c),d=a<u.lineHeight?(u.lineHeight-a)/2:0,p=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,u=p+a/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,kv(e,t,n,u),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,kv(e,t,n,u)}else{e.lineWidth=Zx(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),o=Vv(s.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Pv(e,{x:t,y:p,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Pv(e,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:u}=n,c=Bv(n.bodyFont);let h=c.lineHeight,d=0;const p=_w(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+d),e.y+h/2),e.y+=h+i},m=p.textAlign(s);let g,y,x,b,v,w,S;for(t.textAlign=s,t.textBaseline="middle",t.font=c.string,e.x=wT(this,m,n),t.fillStyle=n.bodyColor,sb(this.beforeBody,f),d=o&&"right"!==m?"center"===s?l/2+u:l+2+u:0,b=0,w=r.length;b<w;++b){for(g=r[b],y=this.labelTextColors[b],t.fillStyle=y,sb(g.before,f),x=g.lines,o&&x.length&&(this._drawColorBox(t,e,b,p,n),h=Math.max(c.lineHeight,a)),v=0,S=x.length;v<S;++v)f(x[v]),h=c.lineHeight;sb(g.after,f)}d=0,h=c.lineHeight,sb(this.afterBody,f),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,o;if(i){const a=_w(n.rtl,this.x,this.width);for(e.x=wT(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=Bv(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:u}=n,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:p}=Vv(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+c,a),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l,a+u-p),t.quadraticCurveTo(o+l,a+u,o+l-p,a+u),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+d,a+u),t.quadraticCurveTo(o,a+u,o,a+u-d),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,a+c),t.quadraticCurveTo(o,a,o+c,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=pT[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=yT(this,e),o=Object.assign({},n,this._size),a=bT(t,e,o),l=vT(e,o,a,t);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=jv(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),Ew(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Cw(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),i=!ob(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),o=this._positionChanged(s,e),a=t||!ob(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=pT[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var ET={id:"tooltip",_element:_T,positioners:pT,afterInit(e,t,n){n&&(e.tooltip=new _T({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function CT(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function DT(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class MT extends ZS{static id="category";static defaults=(()=>({ticks:{callback:DT}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Qx(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:jb(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:CT(n,e,nb(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return DT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function LT(e,t){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:l,maxTicks:u,maxDigits:c,includeBounds:h}=e,d=i||1,p=u-1,{min:f,max:m}=t,g=!Qx(s),y=!Qx(o),x=!Qx(l),b=(m-f)/(c+1);let v,w,S,k,T=Mb((m-f)/p/d)*d;if(T<1e-14&&!g&&!y)return[{value:f},{value:m}];k=Math.ceil(m/T)-Math.floor(f/T),k>p&&(T=Mb(k*T/p/d)*d),Qx(a)||(v=Math.pow(10,a),T=Math.ceil(T*v)/v),"ticks"===r?(w=Math.floor(f/T)*T,S=Math.ceil(m/T)*T):(w=f,S=m),g&&y&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/i,T/1e3)?(k=Math.round(Math.min((o-s)/T,u)),T=(o-s)/k,w=s,S=o):x?(w=g?s:w,S=y?o:S,k=l-1,T=(S-w)/k):(k=(S-w)/T,k=Db(k,Math.round(k),T/1e3)?Math.round(k):Math.ceil(k));const A=Math.max(Rb(T),Rb(w));v=Math.pow(10,Qx(a)?A:a),w=Math.round(w*v)/v,S=Math.round(S*v)/v;let _=0;for(g&&(h&&w!==s?(n.push({value:s}),w<s&&_++,Db(Math.round((w+_*T)*v)/v,s,IT(s,b,e))&&_++):w<s&&_++);_<k;++_){const e=Math.round((w+_*T)*v)/v;if(y&&e>o)break;n.push({value:e})}return y&&h&&S!==o?n.length&&Db(n[n.length-1].value,o,IT(o,b,e))?n[n.length-1].value=o:n.push({value:o}):y&&S!==o||n.push({value:S}),n}function IT(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Pb(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class PT extends ZS{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qx(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,o=e=>i=n?i:e;if(e){const e=Cb(r),t=Cb(i);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);o(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=LT({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ib(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return hv(e,this.chart.options.locale,this.options.ticks.format)}}class OT extends PT{static id="linear";static defaults=(()=>({ticks:{callback:pv.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=eb(e)?e:0,this.max=eb(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Pb(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}pv.formatters.logarithmic;pv.formatters.numeric;const RT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$T=Object.keys(RT);function NT(e,t){return e-t}function FT(e,t){if(Qx(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof r&&r(o),eb(o)||("string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&("week"!==i||!Lb(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function zT(e,t,n,r){const i=$T.length;for(let s=$T.indexOf(e);s<i-1;++s){const e=RT[$T[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return $T[s]}return $T[i-1]}function VT(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Wb(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function jT(e,t,n){const r=[],i={},s=t.length;let o,a;for(0;o<s;++o)t[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(s;a<=o;+i.add(a,1,r))n[a],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class BT extends ZS{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new sS(e.adapters.date);r.init(t),hb(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:FT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||Math.min(r,e.min),o||isNaN(e.max)||Math.max(i,e.max)}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),eb(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),eb(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)0;for(;i>r&&e[i-1]>n;)0;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?zT(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=$T.length-1;s>=$T.indexOf(n);s--){const n=$T[s];if(RT[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return $T[n?$T.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=$T.indexOf(e)+1,n=$T.length;t<n;++t)if(RT[$T[t]].common)return $T[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),jT(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(this.getDecimalForValue(n[0]),1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,this.getDecimalForValue(n[n.length-1]),1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;jb(r,0,s),jb(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||zT(i.minUnit,t,n,this._getLabelCapacity(t)),o=nb(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,l=Lb(a)||!0===a,u={};let c,h,d=t;if(l&&+e.startOf(d,"isoWeek",a),+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const p="data"===r.ticks.source&&this.getDataTimestamps();for(0;c<n;+e.add(c,o,s),h++)VT(u,c,p);return c!==n&&"ticks"!==r.bounds&&1!==h||VT(u,c,p),Object.keys(u).sort(NT).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return ib(s,[e,t,n],this);const o=i.time.displayFormats,a=this._unit,l=this._majorUnit,u=a&&o[a],c=l&&o[l],h=n[t],d=l&&c&&h&&h.major;return this._adapter.format(e,r||(d?c:u))}generateTickLabels(e){let t,n,r;for(e.length;t<n;++t)e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Pb(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,jT(this,[e],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(r.length;e<t;++e)n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(r.length;t<n;++t)e.push(FT(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Yb(e.sort(NT))}}const WT="label";function UT(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function KT(e,t){e.labels=t}function HT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WT;const r=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[n]===t[n]);return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}})}function GT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WT;const n={labels:[],datasets:[]};return KT(n,e.labels),HT(n,e.datasets,t),n}function YT(t,n){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:u,plugins:c=[],fallbackContent:h,updateMode:d,...p}=t,f=(0,e.useRef)(null),m=(0,e.useRef)(null),g=()=>{f.current&&(m.current=new Mk(f.current,{type:a,data:GT(l,o),options:u&&{...u},plugins:c}),UT(n,m.current))},y=()=>{UT(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,e.useEffect)(()=>{!s&&m.current&&u&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,u)},[s,u]),(0,e.useEffect)(()=>{!s&&m.current&&KT(m.current.config.data,l.labels)},[s,l.labels]),(0,e.useEffect)(()=>{!s&&m.current&&l.datasets&&HT(m.current.config.data,l.datasets,o)},[s,l.datasets]),(0,e.useEffect)(()=>{m.current&&(s?(y(),setTimeout(g)):m.current.update(d))},[s,u,l.labels,l.datasets,d]),(0,e.useEffect)(()=>{m.current&&(y(),setTimeout(g))},[a]),(0,e.useEffect)(()=>(g(),()=>y()),[]),e.createElement("canvas",{ref:f,role:"img",height:r,width:i,...p},h)}const XT=(0,e.forwardRef)(YT);function qT(t,n){return Mk.register(n),(0,e.forwardRef)((n,r)=>e.createElement(XT,{...n,ref:r,type:t}))}const QT=qT("line",nS);Mk.register(MT,OT,Bk,Vk,dT,ET,cT,oT);const JT=t=>{var n;let{historicalData:r,predictions:i,loading:s}=t;const o=(0,e.useRef)(null);if(s)return(0,N.jsxs)(je,{children:[(0,N.jsxs)(Ye,{variant:"h5",gutterBottom:!0,children:[(0,N.jsx)(mx,{sx:{mr:1,verticalAlign:"middle"}}),"Price Chart"]}),(0,N.jsxs)(ht,{variant:"outlined",sx:{p:4,textAlign:"center"},children:[(0,N.jsx)(Ir,{}),(0,N.jsx)(Ye,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Generating predictions..."})]})]});if(!r||0===r.length)return(0,N.jsxs)(je,{children:[(0,N.jsxs)(Ye,{variant:"h5",gutterBottom:!0,children:[(0,N.jsx)(mx,{sx:{mr:1,verticalAlign:"middle"}}),"Price Chart"]}),(0,N.jsx)(On,{severity:"info",children:"No data to display. Add historical stock data to see the chart."})]});const a=r.map(e=>new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),l=r.map(e=>e.price),u=i.map(e=>new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),c=i.map(e=>e.price),h=[...a,...u],d=[{label:"Historical Prices",data:[...l,...Array(c.length).fill(null)],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.1)",fill:!0,tension:.3,pointRadius:4,pointHoverRadius:6}];i.length>0&&d.push({label:"Predictions",data:[...Array(l.length-1).fill(null),l[l.length-1],...c],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.1)",fill:!1,tension:.3,pointRadius:4,pointHoverRadius:6,borderDash:[5,5]});const p={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!0,text:`Stock Price Prediction - ${(null===(n=r[0])||void 0===n?void 0:n.symbol)||"Stock"}`},tooltip:{callbacks:{label:function(e){return`${e.dataset.label}: $${e.parsed.y.toFixed(2)}`}}}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Price ($)"},beginAtZero:!1}},elements:{line:{borderWidth:2}}},f={labels:h,datasets:d};return(0,N.jsxs)(je,{children:[(0,N.jsxs)(Ye,{variant:"h5",gutterBottom:!0,children:[(0,N.jsx)(mx,{sx:{mr:1,verticalAlign:"middle"}}),"Price Chart"]}),(0,N.jsx)(Ye,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Historical prices (solid line) and AI predictions (dashed line)"}),(0,N.jsx)(je,{sx:{height:400,position:"relative"},children:(0,N.jsx)(QT,{ref:o,data:f,options:p})}),i.length>0&&(0,N.jsx)(On,{severity:"info",sx:{mt:2},children:(0,N.jsxs)(Ye,{variant:"body2",children:["The chart shows ",r.length," historical data points and ",i.length," AI-generated predictions. The dashed line represents the neural network's forecast based on the training data."]})})]})};const ZT=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(!1),[h]=(0,e.useState)(new px);return(0,N.jsxs)(Oe,{maxWidth:"lg",sx:{py:4},children:[(0,N.jsxs)(je,{sx:{textAlign:"center",mb:4},children:[(0,N.jsxs)(Ye,{variant:"h3",component:"h1",gutterBottom:!0,children:[(0,N.jsx)(zr,{sx:{fontSize:40,mr:1,verticalAlign:"middle"}}),"Stock Market Prediction"]}),(0,N.jsx)(Ye,{variant:"h6",color:"text.secondary",children:"AI-Powered Stock Price Forecasting with Brain.js"})]}),a&&(0,N.jsx)(On,{severity:"error",sx:{mb:3},children:a}),u&&(0,N.jsx)(ir,{direction:"down",in:u,mountOnEnter:!0,unmountOnExit:!0,children:(0,N.jsx)(On,{severity:"success",sx:{mb:3},children:"Prediction completed successfully!"})}),(0,N.jsxs)(yr,{container:!0,spacing:3,children:[(0,N.jsx)(yr,{item:!0,xs:12,md:6,children:(0,N.jsx)(ht,{elevation:3,sx:{p:3},children:(0,N.jsx)(fx,{onSubmit:async e=>{o(!0),l(null),c(!1);try{if(e.length<50)throw new Error("Minimum 50 data points required for assignment compliance");n(e);const t=await h.predict(e);i(t),c(!0)}catch(t){l(t.message||"An error occurred during prediction")}finally{o(!1)}},loading:s})})}),(0,N.jsx)(yr,{item:!0,xs:12,md:6,children:(0,N.jsxs)(ht,{elevation:3,sx:{p:3},children:[(0,N.jsx)(Ye,{variant:"h5",gutterBottom:!0,children:"Prediction Results"}),s&&(0,N.jsx)(je,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,N.jsx)(Ir,{})}),r.length>0&&(0,N.jsxs)(je,{children:[(0,N.jsx)(Ye,{variant:"body1",gutterBottom:!0,children:"Neural network training completed successfully!"}),(0,N.jsxs)(Ye,{variant:"body2",color:"text.secondary",children:["Generated ",r.length," predictions"]}),(0,N.jsx)(je,{sx:{mt:2},children:r.slice(0,5).map((e,t)=>{var n;return(0,N.jsxs)(Ye,{variant:"body2",sx:{mb:1},children:["Day ",t+1," (",e.date,"): $",(null===(n=e.price)||void 0===n?void 0:n.toFixed(2))||"N/A",e.confidence&&(0,N.jsxs)(Ye,{component:"span",variant:"caption",color:"text.secondary",sx:{ml:1},children:["(",e.confidence,"% confidence)"]})]},t)})})]}),0===r.length&&!s&&(0,N.jsx)(Ye,{variant:"body2",color:"text.secondary",children:'No predictions yet. Add stock data and click "Train & Predict" to get started.'})]})}),(0,N.jsx)(yr,{item:!0,xs:12,children:(0,N.jsx)(ht,{elevation:3,sx:{p:3},children:(0,N.jsx)(JT,{historicalData:t,predictions:r,loading:s})})})]}),s&&(0,N.jsx)(je,{sx:{position:"fixed",bottom:16,right:16,zIndex:1e3},children:(0,N.jsx)(Fr,{color:"primary",disabled:!0,children:(0,N.jsx)(Ir,{size:24})})})]})};const eA=e.createContext(null);function tA(){return e.useContext(eA)}const nA="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const rA=function(t){const{children:n,theme:r}=t,i=tA(),o=e.useMemo(()=>{const e=null===i?r:function(e,t){if("function"===typeof t)return t(e);return(0,s.A)({},e,t)}(i,r);return null!=e&&(e[nA]=null!==i),e},[r,i]);return(0,N.jsx)(eA.Provider,{value:o,children:n})};const iA={};function sA(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.useMemo(()=>{const e=t&&n[t]||n;if("function"===typeof r){const o=r(e),a=t?(0,s.A)({},n,{[t]:o}):o;return i?()=>a:a}return t?(0,s.A)({},n,{[t]:r}):(0,s.A)({},n,r)},[t,n,r,i])}const oA=function(e){const{children:t,theme:n,themeId:r}=e,i=x(iA),s=tA()||iA,o=sA(r,i,n),a=sA(r,s,n,!0),l="rtl"===o.direction,u=function(e){const t=x(),n=ci()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return i=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,i):`@layer ${i};`:"",mt(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(i){var r;if(t&&null!=(r=t.hasAttribute)&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const s=document.createElement("style");s.setAttribute("data-mui-layer-order",n),s.textContent=i,e.prepend(s)}else{var s;null==(s=e.querySelector(`style[data-mui-layer-order="${n}"]`))||s.remove()}},[i,n]),i?(0,N.jsx)(co,{styles:i}):null}(o);return(0,N.jsx)(rA,{theme:a,children:(0,N.jsx)(y.T.Provider,{value:o,children:(0,N.jsx)(mi,{value:l,children:(0,N.jsxs)(Le,{value:null==o?void 0:o.components,children:[u,t]})})})})},aA=["theme"];function lA(e){let{theme:t}=e,n=(0,i.A)(e,aA);const r=t[Ae];let o=r||t;return"function"!==typeof t&&(r&&!r.vars?o=(0,s.A)({},r,{vars:null}):t&&!t.vars&&(o=(0,s.A)({},t,{vars:null}))),(0,N.jsx)(oA,(0,s.A)({},n,{themeId:r?Ae:void 0,theme:o}))}const uA=(e,t)=>(0,s.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),cA=e=>(0,s.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const hA=function(t){const n=Ie({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=n;return(0,N.jsxs)(e.Fragment,{children:[(0,N.jsx)(ho,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[n,i]=t;var s;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(s=i.palette)?void 0:s.mode}});let i=(0,s.A)({html:uA(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,s.A)({margin:0},cA(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(i=[i,o]),i}(e,i)}),r]})},dA=ke({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}});r.createRoot(document.getElementById("root")).render((0,N.jsx)(e.StrictMode,{children:(0,N.jsxs)(lA,{theme:dA,children:[(0,N.jsx)(hA,{}),(0,N.jsx)(ZT,{})]})}))})()})();